2022-11-01 01:17:48,999 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2022-11-01 01:17:49,004 INFO org.springframework.boot.StartupInfoLogger [main] Starting DataJpaBooksProjectApplication using Java 17.0.4.1 on DESKTOP-N2KRF5H with PID 13268 (C:\Users\princ\Desktop\projects\data-jpa-books-project\target\classes started by princ in C:\Users\princ\Desktop\projects\data-jpa-books-project)
2022-11-01 01:17:49,004 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.7.5, Spring v5.3.23
2022-11-01 01:17:49,005 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-11-01 01:17:49,683 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-11-01 01:17:49,722 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 34 ms. Found 2 JPA repository interfaces.
2022-11-01 01:17:50,261 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-11-01 01:17:50,268 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-11-01 01:17:50,270 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-11-01 01:17:50,270 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.68]
2022-11-01 01:17:50,347 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-11-01 01:17:50,347 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1314 ms
2022-11-01 01:17:50,576 ERROR org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Skipping filesystem location:\another\migration\directory (not found).
2022-11-01 01:17:50,577 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-11-01 01:17:50,682 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-11-01 01:17:50,689 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Flyway Community Edition 8.0.4 by Redgate
2022-11-01 01:17:50,689 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Database: jdbc:mysql://localhost:3306/book (MySQL 5.5)
2022-11-01 01:17:50,735 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully validated 2 migrations (execution time 00:00.014s)
2022-11-01 01:17:50,741 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Current version of schema `book`: 2
2022-11-01 01:17:50,742 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Schema `book` is up to date. No migration necessary.
2022-11-01 01:17:50,797 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-11-01 01:17:50,834 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.12.Final
2022-11-01 01:17:50,940 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-11-01 01:17:51,011 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-11-01 01:17:51,448 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-11-01 01:17:51,453 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-11-01 01:17:52,072 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-11-01 01:17:52,199 DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter [main] ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2022-11-01 01:17:52,274 DEBUG org.springframework.web.servlet.handler.AbstractHandlerMethodMapping [main] 28 mappings in 'requestMappingHandlerMapping'
2022-11-01 01:17:52,563 DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping [main] Patterns [/webjars/**, /**, /swagger-ui*/**] in 'resourceHandlerMapping'
2022-11-01 01:17:52,582 DEBUG org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver [main] ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2022-11-01 01:17:53,105 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 14 endpoint(s) beneath base path '/actuator'
2022-11-01 01:17:53,148 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2022-11-01 01:17:53,169 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2022-11-01 01:17:53,184 INFO org.springframework.boot.StartupInfoLogger [main] Started DataJpaBooksProjectApplication in 4.399 seconds (JVM running for 5.01)
2022-11-01 01:17:53,186 INFO com.global.book.aspect.LoggingAspect [AsynchThread::1] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:17:53,189 INFO com.global.book.aspect.LoggingAspect [main] ====>  Method Name is >> AuthorService.findAll()
2022-11-01 01:17:53,229 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [main] 
    select
        author0_.id as id1_0_,
        author0_.created_by as created_2_0_,
        author0_.created_date as created_3_0_,
        author0_.last_modified_by as last_mod4_0_,
        author0_.last_modified_date as last_mod5_0_,
        author0_.status_code as status_c6_0_,
        author0_.email as email7_0_,
        author0_.image_path as image_pa8_0_,
        author0_.ip_address as ip_addre9_0_,
        author0_.name as name10_0_,
        (select
            count(*) 
        from
            books b 
        where
            b.author_id = author0_.id) as formula1_ 
    from
        authors author0_
2022-11-01 01:17:53,255 INFO com.global.book.aspect.MeasurementAspect [main] KPI[method-execution]	for: List com.global.book.service.AuthorService.findAll()	withArgs: ()	took: 66 ms.
2022-11-01 01:17:53,264 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [main] 
    select
        book0_.id as id1_1_0_,
        author1_.id as id1_0_1_,
        book0_.created_by as created_2_1_0_,
        book0_.created_date as created_3_1_0_,
        book0_.last_modified_by as last_mod4_1_0_,
        book0_.last_modified_date as last_mod5_1_0_,
        book0_.status_code as status_c6_1_0_,
        book0_.author_id as author_i9_1_0_,
        book0_.name as name7_1_0_,
        book0_.price as price8_1_0_,
        (select
            count(*) 
        from
            books) as formula2_0_,
        author1_.created_by as created_2_0_1_,
        author1_.created_date as created_3_0_1_,
        author1_.last_modified_by as last_mod4_0_1_,
        author1_.last_modified_date as last_mod5_0_1_,
        author1_.status_code as status_c6_0_1_,
        author1_.email as email7_0_1_,
        author1_.image_path as image_pa8_0_1_,
        author1_.ip_address as ip_addre9_0_1_,
        author1_.name as name10_0_1_,
        (select
            count(*) 
        from
            books b 
        where
            b.author_id = author1_.id) as formula1_1_ 
    from
        books book0_ 
    left outer join
        authors author1_ 
            on book0_.author_id=author1_.id
2022-11-01 01:17:54,215 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(3)-127.0.0.1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-11-01 01:17:54,215 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(3)-127.0.0.1] Initializing Servlet 'dispatcherServlet'
2022-11-01 01:17:54,216 DEBUG org.springframework.web.servlet.DispatcherServlet [RMI TCP Connection(3)-127.0.0.1] Detected StandardServletMultipartResolver
2022-11-01 01:17:54,216 DEBUG org.springframework.web.servlet.DispatcherServlet [RMI TCP Connection(3)-127.0.0.1] Detected AcceptHeaderLocaleResolver
2022-11-01 01:17:54,216 DEBUG org.springframework.web.servlet.DispatcherServlet [RMI TCP Connection(3)-127.0.0.1] Detected FixedThemeResolver
2022-11-01 01:17:54,217 DEBUG org.springframework.web.servlet.DispatcherServlet [RMI TCP Connection(3)-127.0.0.1] Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@16817bad
2022-11-01 01:17:54,217 DEBUG org.springframework.web.servlet.DispatcherServlet [RMI TCP Connection(3)-127.0.0.1] Detected org.springframework.web.servlet.support.SessionFlashMapManager@8ba7408
2022-11-01 01:17:54,217 DEBUG org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(3)-127.0.0.1] enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2022-11-01 01:17:54,217 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(3)-127.0.0.1] Completed initialization in 1 ms
2022-11-01 01:17:55,196 INFO com.global.book.aspect.LoggingAspect [AsynchThread::2] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:17:55,199 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::2] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 3 ms.
2022-11-01 01:17:57,193 INFO com.global.book.aspect.LoggingAspect [AsynchThread::3] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:17:57,195 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::3] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 2 ms.
2022-11-01 01:17:57,272 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Discount -> 2022-11-01T01:17:57.272213100
2022-11-01 01:17:57,276 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::1] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 4091 ms.
2022-11-01 01:17:59,188 INFO com.global.book.aspect.LoggingAspect [AsynchThread::4] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:18:00,007 INFO com.global.book.aspect.LoggingAspect [AsynchThread::2] ====>  Method Name is >> PriceSchedule.computePrice()
2022-11-01 01:18:01,196 INFO com.global.book.aspect.LoggingAspect [AsynchThread::3] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:18:01,197 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::3] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 1 ms.
2022-11-01 01:18:03,195 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Discount -> 2022-11-01T01:18:03.195468500
2022-11-01 01:18:03,195 INFO com.global.book.aspect.LoggingAspect [AsynchThread::1] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:18:03,196 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::1] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 1 ms.
2022-11-01 01:18:03,198 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::4] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 4010 ms.
2022-11-01 01:18:04,014 INFO com.global.book.service.PriceSchedule [AsynchThread::2] Compute Price -> 2022-11-01T01:18:04.014626600
2022-11-01 01:18:04,018 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::2] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computePrice()	withArgs: ()	took: 4011 ms.
2022-11-01 01:18:05,195 INFO com.global.book.aspect.LoggingAspect [AsynchThread::3] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:18:07,187 DEBUG org.springframework.core.log.LogFormatUtils [http-nio-8080-exec-2] GET "/author/", parameters={}
2022-11-01 01:18:07,194 DEBUG org.springframework.web.servlet.handler.AbstractHandlerMapping [http-nio-8080-exec-2] Mapped to com.global.book.controller.AuthorController#findAll()
2022-11-01 01:18:07,195 INFO com.global.book.aspect.LoggingAspect [AsynchThread::1] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:18:07,196 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::1] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 1 ms.
2022-11-01 01:18:07,201 INFO com.global.book.aspect.LoggingAspect [http-nio-8080-exec-2] ====>  Method Name is >> AuthorController.findAll()
2022-11-01 01:18:07,215 INFO com.global.book.aspect.LoggingAspect [http-nio-8080-exec-2] ====>  Method Name is >> AuthorService.findAll()
2022-11-01 01:18:07,216 INFO com.global.book.aspect.MeasurementAspect [http-nio-8080-exec-2] KPI[method-execution]	for: List com.global.book.service.AuthorService.findAll()	withArgs: ()	took: 1 ms.
2022-11-01 01:18:07,224 DEBUG org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor [http-nio-8080-exec-2] Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json, application/cbor]
2022-11-01 01:18:07,224 DEBUG org.springframework.core.log.LogFormatUtils [http-nio-8080-exec-2] Writing [[com.global.book.entity.Author@10c95d9b, com.global.book.entity.Author@2542e124, com.global.book.ent (truncated)...]
2022-11-01 01:18:07,241 DEBUG org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver [http-nio-8080-exec-2] Using @ExceptionHandler com.global.book.error.globalExceptionHandler#handleException(Exception, WebRequest)
2022-11-01 01:18:07,242 DEBUG org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor [http-nio-8080-exec-2] Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2022-11-01 01:18:07,243 DEBUG org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor [http-nio-8080-exec-2] Nothing to write: null body
2022-11-01 01:18:07,243 DEBUG org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver [http-nio-8080-exec-2] Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role: com.global.book.entity.Author.books, could not initialize proxy - no Session; nested exception is com.fasterxml.jackson.databind.JsonMappingException: failed to lazily initialize a collection of role: com.global.book.entity.Author.books, could not initialize proxy - no Session (through reference chain: java.util.ArrayList[0]->com.global.book.entity.Author["books"])]
2022-11-01 01:18:07,243 DEBUG org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-2] Completed 500 INTERNAL_SERVER_ERROR
2022-11-01 01:18:09,190 INFO com.global.book.aspect.LoggingAspect [AsynchThread::4] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:18:09,192 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::4] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 2 ms.
2022-11-01 01:18:09,205 INFO com.global.book.service.PriceSchedule [AsynchThread::3] Compute Discount -> 2022-11-01T01:18:09.205168700
2022-11-01 01:18:09,208 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::3] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 4013 ms.
2022-11-01 01:18:11,190 INFO com.global.book.aspect.LoggingAspect [AsynchThread::2] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:18:13,187 INFO com.global.book.aspect.LoggingAspect [AsynchThread::1] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:18:13,189 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::1] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 1 ms.
2022-11-01 01:18:15,198 INFO com.global.book.service.PriceSchedule [AsynchThread::2] Compute Discount -> 2022-11-01T01:18:15.198654200
2022-11-01 01:18:15,198 INFO com.global.book.aspect.LoggingAspect [AsynchThread::4] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:18:15,201 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::2] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 4011 ms.
2022-11-01 01:18:17,184 INFO com.global.book.aspect.LoggingAspect [AsynchThread::3] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:18:17,186 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::3] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 2 ms.
2022-11-01 01:18:19,192 INFO com.global.book.aspect.LoggingAspect [AsynchThread::1] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:18:19,194 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::1] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 2 ms.
2022-11-01 01:18:19,207 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Discount -> 2022-11-01T01:18:19.207801400
2022-11-01 01:18:19,210 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::4] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 4012 ms.
2022-11-01 01:18:21,183 INFO com.global.book.aspect.LoggingAspect [AsynchThread::2] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:18:23,192 INFO com.global.book.aspect.LoggingAspect [AsynchThread::3] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:18:23,194 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::3] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 2 ms.
2022-11-01 01:18:25,194 INFO com.global.book.service.PriceSchedule [AsynchThread::2] Compute Discount -> 2022-11-01T01:18:25.194380400
2022-11-01 01:18:25,194 INFO com.global.book.aspect.LoggingAspect [AsynchThread::1] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:18:25,195 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::1] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 1 ms.
2022-11-01 01:18:25,197 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::2] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 4014 ms.
2022-11-01 01:18:27,193 INFO com.global.book.aspect.LoggingAspect [AsynchThread::4] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:18:29,186 INFO com.global.book.aspect.LoggingAspect [AsynchThread::3] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:18:29,188 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::3] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 2 ms.
2022-11-01 01:18:31,192 INFO com.global.book.aspect.LoggingAspect [AsynchThread::1] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:18:31,194 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::1] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 2 ms.
2022-11-01 01:18:31,208 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Discount -> 2022-11-01T01:18:31.208017600
2022-11-01 01:18:31,211 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::4] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 4018 ms.
2022-11-01 01:18:33,189 INFO com.global.book.aspect.LoggingAspect [AsynchThread::2] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:18:35,190 INFO com.global.book.aspect.LoggingAspect [AsynchThread::3] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:18:35,192 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::3] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 2 ms.
2022-11-01 01:18:37,195 INFO com.global.book.service.PriceSchedule [AsynchThread::2] Compute Discount -> 2022-11-01T01:18:37.195870300
2022-11-01 01:18:37,195 INFO com.global.book.aspect.LoggingAspect [AsynchThread::1] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:18:37,198 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::2] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 4009 ms.
2022-11-01 01:18:39,193 INFO com.global.book.aspect.LoggingAspect [AsynchThread::4] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:18:39,195 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::4] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 2 ms.
2022-11-01 01:18:41,188 INFO com.global.book.aspect.LoggingAspect [AsynchThread::3] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:18:41,189 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::3] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 1 ms.
2022-11-01 01:18:41,204 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Discount -> 2022-11-01T01:18:41.204440100
2022-11-01 01:18:41,206 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::1] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 4011 ms.
2022-11-01 01:18:43,189 INFO com.global.book.aspect.LoggingAspect [AsynchThread::2] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:18:45,185 INFO com.global.book.aspect.LoggingAspect [AsynchThread::4] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:18:45,187 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::4] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 2 ms.
2022-11-01 01:18:47,194 INFO com.global.book.aspect.LoggingAspect [AsynchThread::3] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:18:47,194 INFO com.global.book.service.PriceSchedule [AsynchThread::2] Compute Discount -> 2022-11-01T01:18:47.194247900
2022-11-01 01:18:47,197 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::2] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 4008 ms.
2022-11-01 01:18:49,192 INFO com.global.book.aspect.LoggingAspect [AsynchThread::1] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:18:49,194 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::1] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 2 ms.
2022-11-01 01:18:51,189 INFO com.global.book.aspect.LoggingAspect [AsynchThread::4] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:18:51,190 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::4] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 1 ms.
2022-11-01 01:18:51,205 INFO com.global.book.service.PriceSchedule [AsynchThread::3] Compute Discount -> 2022-11-01T01:18:51.205888900
2022-11-01 01:18:51,208 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::3] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 4014 ms.
2022-11-01 01:18:53,184 INFO com.global.book.aspect.LoggingAspect [AsynchThread::2] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:18:55,185 INFO com.global.book.aspect.LoggingAspect [AsynchThread::1] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:18:55,187 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::1] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 2 ms.
2022-11-01 01:18:57,194 INFO com.global.book.service.PriceSchedule [AsynchThread::2] Compute Discount -> 2022-11-01T01:18:57.194990900
2022-11-01 01:18:57,194 INFO com.global.book.aspect.LoggingAspect [AsynchThread::4] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:18:57,198 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::2] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 4014 ms.
2022-11-01 01:18:59,193 INFO com.global.book.aspect.LoggingAspect [AsynchThread::3] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:18:59,195 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::3] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 2 ms.
2022-11-01 01:19:00,013 INFO com.global.book.aspect.LoggingAspect [AsynchThread::1] ====>  Method Name is >> PriceSchedule.computePrice()
2022-11-01 01:19:01,190 INFO com.global.book.aspect.LoggingAspect [AsynchThread::2] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:19:01,192 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::2] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 2 ms.
2022-11-01 01:19:01,205 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Discount -> 2022-11-01T01:19:01.205357600
2022-11-01 01:19:01,208 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::4] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 4014 ms.
2022-11-01 01:19:03,197 INFO com.global.book.aspect.LoggingAspect [AsynchThread::3] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:19:04,029 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Price -> 2022-11-01T01:19:04.029808500
2022-11-01 01:19:04,032 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::1] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computePrice()	withArgs: ()	took: 4019 ms.
2022-11-01 01:19:05,196 INFO com.global.book.aspect.LoggingAspect [AsynchThread::2] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:19:05,197 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::2] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 1 ms.
2022-11-01 01:19:07,195 INFO com.global.book.aspect.LoggingAspect [AsynchThread::4] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:19:07,196 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::4] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 1 ms.
2022-11-01 01:19:07,211 INFO com.global.book.service.PriceSchedule [AsynchThread::3] Compute Discount -> 2022-11-01T01:19:07.211381300
2022-11-01 01:19:07,214 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::3] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 4017 ms.
2022-11-01 01:19:09,189 INFO com.global.book.aspect.LoggingAspect [AsynchThread::1] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:19:11,197 INFO com.global.book.aspect.LoggingAspect [AsynchThread::2] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:19:11,199 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::2] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 2 ms.
2022-11-01 01:19:13,196 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Discount -> 2022-11-01T01:19:13.196976400
2022-11-01 01:19:13,196 INFO com.global.book.aspect.LoggingAspect [AsynchThread::4] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:19:13,199 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::1] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 4010 ms.
2022-11-01 01:19:15,195 INFO com.global.book.aspect.LoggingAspect [AsynchThread::3] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:19:15,197 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::3] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 2 ms.
2022-11-01 01:19:17,189 INFO com.global.book.aspect.LoggingAspect [AsynchThread::2] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:19:17,191 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::2] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 2 ms.
2022-11-01 01:19:17,204 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Discount -> 2022-11-01T01:19:17.204377200
2022-11-01 01:19:17,207 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::4] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 4011 ms.
2022-11-01 01:19:17,497 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(5)-127.0.0.1] Application shutdown requested.
2022-11-01 01:19:17,530 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(5)-127.0.0.1] Pausing ProtocolHandler ["http-nio-8080"]
2022-11-01 01:19:17,530 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(5)-127.0.0.1] Stopping service [Tomcat]
2022-11-01 01:19:17,531 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(5)-127.0.0.1] Destroying Spring FrameworkServlet 'dispatcherServlet'
2022-11-01 01:19:17,533 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(5)-127.0.0.1] Stopping ProtocolHandler ["http-nio-8080"]
2022-11-01 01:19:17,535 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(5)-127.0.0.1] Destroying ProtocolHandler ["http-nio-8080"]
2022-11-01 01:19:17,537 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [RMI TCP Connection(5)-127.0.0.1] Custom destroy method 'shutdown' on bean with name 'amazonS3' threw an exception: java.lang.UnsupportedOperationException: Extend AbstractAmazonS3 to provide an implementation
2022-11-01 01:19:17,538 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [RMI TCP Connection(5)-127.0.0.1] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-11-01 01:19:17,540 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(5)-127.0.0.1] HikariPool-1 - Shutdown initiated...
2022-11-01 01:19:17,545 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(5)-127.0.0.1] HikariPool-1 - Shutdown completed.
2022-11-01 01:19:19,869 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2022-11-01 01:19:19,872 INFO org.springframework.boot.StartupInfoLogger [main] Starting DataJpaBooksProjectApplication using Java 17.0.4.1 on DESKTOP-N2KRF5H with PID 5184 (C:\Users\princ\Desktop\projects\data-jpa-books-project\target\classes started by princ in C:\Users\princ\Desktop\projects\data-jpa-books-project)
2022-11-01 01:19:19,873 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.7.5, Spring v5.3.23
2022-11-01 01:19:19,873 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-11-01 01:19:20,487 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-11-01 01:19:20,526 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 33 ms. Found 2 JPA repository interfaces.
2022-11-01 01:19:21,005 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-11-01 01:19:21,011 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-11-01 01:19:21,012 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-11-01 01:19:21,012 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.68]
2022-11-01 01:19:21,084 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-11-01 01:19:21,084 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1171 ms
2022-11-01 01:19:21,305 ERROR org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Skipping filesystem location:\another\migration\directory (not found).
2022-11-01 01:19:21,307 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-11-01 01:19:21,415 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-11-01 01:19:21,421 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Flyway Community Edition 8.0.4 by Redgate
2022-11-01 01:19:21,422 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Database: jdbc:mysql://localhost:3306/book (MySQL 5.5)
2022-11-01 01:19:21,462 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully validated 2 migrations (execution time 00:00.012s)
2022-11-01 01:19:21,468 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Current version of schema `book`: 2
2022-11-01 01:19:21,468 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Schema `book` is up to date. No migration necessary.
2022-11-01 01:19:21,527 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-11-01 01:19:21,563 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.12.Final
2022-11-01 01:19:21,654 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-11-01 01:19:21,714 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-11-01 01:19:22,128 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-11-01 01:19:22,133 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-11-01 01:19:22,721 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-11-01 01:19:22,838 DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter [main] ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2022-11-01 01:19:22,908 DEBUG org.springframework.web.servlet.handler.AbstractHandlerMethodMapping [main] 28 mappings in 'requestMappingHandlerMapping'
2022-11-01 01:19:23,161 DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping [main] Patterns [/webjars/**, /**, /swagger-ui*/**] in 'resourceHandlerMapping'
2022-11-01 01:19:23,172 DEBUG org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver [main] ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2022-11-01 01:19:23,523 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 14 endpoint(s) beneath base path '/actuator'
2022-11-01 01:19:23,563 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2022-11-01 01:19:23,580 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2022-11-01 01:19:23,595 INFO org.springframework.boot.StartupInfoLogger [main] Started DataJpaBooksProjectApplication in 3.927 seconds (JVM running for 4.486)
2022-11-01 01:19:23,597 INFO com.global.book.aspect.LoggingAspect [AsynchThread::1] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:19:23,600 INFO com.global.book.aspect.LoggingAspect [main] ====>  Method Name is >> AuthorService.findAll()
2022-11-01 01:19:23,609 INFO com.global.book.aspect.LoggingAspect [main] ====>  Method Name is >> AuthorRepo.findAll()
2022-11-01 01:19:23,643 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [main] 
    select
        author0_.id as id1_0_0_,
        books1_.id as id1_1_1_,
        author0_.created_by as created_2_0_0_,
        author0_.created_date as created_3_0_0_,
        author0_.last_modified_by as last_mod4_0_0_,
        author0_.last_modified_date as last_mod5_0_0_,
        author0_.status_code as status_c6_0_0_,
        author0_.email as email7_0_0_,
        author0_.image_path as image_pa8_0_0_,
        author0_.ip_address as ip_addre9_0_0_,
        author0_.name as name10_0_0_,
        (select
            count(*) 
        from
            books b 
        where
            b.author_id = author0_.id) as formula1_0_,
        books1_.created_by as created_2_1_1_,
        books1_.created_date as created_3_1_1_,
        books1_.last_modified_by as last_mod4_1_1_,
        books1_.last_modified_date as last_mod5_1_1_,
        books1_.status_code as status_c6_1_1_,
        books1_.author_id as author_i9_1_1_,
        books1_.name as name7_1_1_,
        books1_.price as price8_1_1_,
        (select
            count(*) 
        from
            books) as formula2_1_,
        books1_.author_id as author_i9_1_0__,
        books1_.id as id1_1_0__ 
    from
        authors author0_ 
    left outer join
        books books1_ 
            on author0_.id=books1_.author_id
2022-11-01 01:19:23,673 INFO com.global.book.aspect.MeasurementAspect [main] KPI[method-execution]	for: List com.global.book.service.AuthorService.findAll()	withArgs: ()	took: 73 ms.
2022-11-01 01:19:23,679 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [main] 
    select
        book0_.id as id1_1_0_,
        author1_.id as id1_0_1_,
        book0_.created_by as created_2_1_0_,
        book0_.created_date as created_3_1_0_,
        book0_.last_modified_by as last_mod4_1_0_,
        book0_.last_modified_date as last_mod5_1_0_,
        book0_.status_code as status_c6_1_0_,
        book0_.author_id as author_i9_1_0_,
        book0_.name as name7_1_0_,
        book0_.price as price8_1_0_,
        (select
            count(*) 
        from
            books) as formula2_0_,
        author1_.created_by as created_2_0_1_,
        author1_.created_date as created_3_0_1_,
        author1_.last_modified_by as last_mod4_0_1_,
        author1_.last_modified_date as last_mod5_0_1_,
        author1_.status_code as status_c6_0_1_,
        author1_.email as email7_0_1_,
        author1_.image_path as image_pa8_0_1_,
        author1_.ip_address as ip_addre9_0_1_,
        author1_.name as name10_0_1_,
        (select
            count(*) 
        from
            books b 
        where
            b.author_id = author1_.id) as formula1_1_ 
    from
        books book0_ 
    left outer join
        authors author1_ 
            on book0_.author_id=author1_.id
2022-11-01 01:19:25,599 INFO com.global.book.aspect.LoggingAspect [AsynchThread::2] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:19:25,601 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::2] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 2 ms.
2022-11-01 01:19:25,801 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-11-01 01:19:25,801 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-2] Initializing Servlet 'dispatcherServlet'
2022-11-01 01:19:25,801 DEBUG org.springframework.web.servlet.DispatcherServlet [http-nio-8080-exec-2] Detected StandardServletMultipartResolver
2022-11-01 01:19:25,801 DEBUG org.springframework.web.servlet.DispatcherServlet [http-nio-8080-exec-2] Detected AcceptHeaderLocaleResolver
2022-11-01 01:19:25,801 DEBUG org.springframework.web.servlet.DispatcherServlet [http-nio-8080-exec-2] Detected FixedThemeResolver
2022-11-01 01:19:25,802 DEBUG org.springframework.web.servlet.DispatcherServlet [http-nio-8080-exec-2] Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@6517bc6b
2022-11-01 01:19:25,802 DEBUG org.springframework.web.servlet.DispatcherServlet [http-nio-8080-exec-2] Detected org.springframework.web.servlet.support.SessionFlashMapManager@1cdbc986
2022-11-01 01:19:25,803 DEBUG org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-2] enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2022-11-01 01:19:25,803 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-2] Completed initialization in 2 ms
2022-11-01 01:19:25,810 DEBUG org.springframework.core.log.LogFormatUtils [http-nio-8080-exec-2] GET "/author/", parameters={}
2022-11-01 01:19:25,816 DEBUG org.springframework.web.servlet.handler.AbstractHandlerMapping [http-nio-8080-exec-2] Mapped to com.global.book.controller.AuthorController#findAll()
2022-11-01 01:19:25,823 INFO com.global.book.aspect.LoggingAspect [http-nio-8080-exec-2] ====>  Method Name is >> AuthorController.findAll()
2022-11-01 01:19:25,836 INFO com.global.book.aspect.LoggingAspect [http-nio-8080-exec-2] ====>  Method Name is >> AuthorService.findAll()
2022-11-01 01:19:25,837 INFO com.global.book.aspect.MeasurementAspect [http-nio-8080-exec-2] KPI[method-execution]	for: List com.global.book.service.AuthorService.findAll()	withArgs: ()	took: 1 ms.
2022-11-01 01:19:25,848 DEBUG org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor [http-nio-8080-exec-2] Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json, application/cbor]
2022-11-01 01:19:25,848 DEBUG org.springframework.core.log.LogFormatUtils [http-nio-8080-exec-2] Writing [[com.global.book.entity.Author@7ef706b0, com.global.book.entity.Author@3c67b7a9, com.global.book.ent (truncated)...]
2022-11-01 01:19:25,883 DEBUG org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-2] Completed 200 OK
2022-11-01 01:19:27,606 INFO com.global.book.aspect.LoggingAspect [AsynchThread::3] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:19:27,608 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::3] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 2 ms.
2022-11-01 01:19:27,699 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Discount -> 2022-11-01T01:19:27.699099
2022-11-01 01:19:27,702 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::1] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 4106 ms.
2022-11-01 01:19:29,597 INFO com.global.book.aspect.LoggingAspect [AsynchThread::4] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:19:31,599 INFO com.global.book.aspect.LoggingAspect [AsynchThread::2] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:19:31,601 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::2] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 2 ms.
2022-11-01 01:19:33,607 INFO com.global.book.aspect.LoggingAspect [AsynchThread::3] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:19:33,607 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Discount -> 2022-11-01T01:19:33.607558800
2022-11-01 01:19:33,609 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::3] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 2 ms.
2022-11-01 01:19:33,611 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::4] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 4014 ms.
2022-11-01 01:19:35,598 INFO com.global.book.aspect.LoggingAspect [AsynchThread::1] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:19:37,608 INFO com.global.book.aspect.LoggingAspect [AsynchThread::2] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:19:37,610 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::2] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 2 ms.
2022-11-01 01:19:39,607 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Discount -> 2022-11-01T01:19:39.607023100
2022-11-01 01:19:39,607 INFO com.global.book.aspect.LoggingAspect [AsynchThread::3] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:19:39,610 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::1] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 4012 ms.
2022-11-01 01:19:41,605 INFO com.global.book.aspect.LoggingAspect [AsynchThread::4] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:19:41,607 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::4] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 2 ms.
2022-11-01 01:19:43,602 INFO com.global.book.aspect.LoggingAspect [AsynchThread::2] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:19:43,604 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::2] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 2 ms.
2022-11-01 01:19:43,617 INFO com.global.book.service.PriceSchedule [AsynchThread::3] Compute Discount -> 2022-11-01T01:19:43.617636700
2022-11-01 01:19:43,621 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::3] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 4014 ms.
2022-11-01 01:19:45,598 INFO com.global.book.aspect.LoggingAspect [AsynchThread::1] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:19:47,598 INFO com.global.book.aspect.LoggingAspect [AsynchThread::4] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:19:47,600 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::4] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 2 ms.
2022-11-01 01:19:49,596 INFO com.global.book.aspect.LoggingAspect [AsynchThread::2] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:19:49,598 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::2] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 2 ms.
2022-11-01 01:19:49,612 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Discount -> 2022-11-01T01:19:49.612075300
2022-11-01 01:19:49,614 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::1] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 4016 ms.
2022-11-01 01:19:51,596 INFO com.global.book.aspect.LoggingAspect [AsynchThread::3] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:19:53,596 INFO com.global.book.aspect.LoggingAspect [AsynchThread::4] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:19:53,598 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::4] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 2 ms.
2022-11-01 01:19:55,597 INFO com.global.book.aspect.LoggingAspect [AsynchThread::2] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:19:55,600 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::2] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 3 ms.
2022-11-01 01:19:55,613 INFO com.global.book.service.PriceSchedule [AsynchThread::3] Compute Discount -> 2022-11-01T01:19:55.613223800
2022-11-01 01:19:55,616 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::3] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 4020 ms.
2022-11-01 01:19:57,605 INFO com.global.book.aspect.LoggingAspect [AsynchThread::1] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:19:59,602 INFO com.global.book.aspect.LoggingAspect [AsynchThread::4] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:19:59,604 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::4] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 2 ms.
2022-11-01 01:20:00,004 INFO com.global.book.aspect.LoggingAspect [AsynchThread::2] ====>  Method Name is >> PriceSchedule.computePrice()
2022-11-01 01:20:01,597 INFO com.global.book.aspect.LoggingAspect [AsynchThread::3] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:20:01,600 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::3] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 3 ms.
2022-11-01 01:20:01,613 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Discount -> 2022-11-01T01:20:01.613645200
2022-11-01 01:20:01,615 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::1] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 4010 ms.
2022-11-01 01:20:03,594 INFO com.global.book.aspect.LoggingAspect [AsynchThread::4] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:20:04,013 INFO com.global.book.service.PriceSchedule [AsynchThread::2] Compute Price -> 2022-11-01T01:20:04.013190900
2022-11-01 01:20:04,016 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::2] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computePrice()	withArgs: ()	took: 4012 ms.
2022-11-01 01:20:05,595 INFO com.global.book.aspect.LoggingAspect [AsynchThread::3] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:20:05,597 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::3] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 2 ms.
2022-11-01 01:20:07,607 INFO com.global.book.aspect.LoggingAspect [AsynchThread::1] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:20:07,607 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Discount -> 2022-11-01T01:20:07.607872300
2022-11-01 01:20:07,611 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::4] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 4017 ms.
2022-11-01 01:20:09,610 INFO com.global.book.aspect.LoggingAspect [AsynchThread::2] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:20:09,611 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::2] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 1 ms.
2022-11-01 01:20:11,608 INFO com.global.book.aspect.LoggingAspect [AsynchThread::3] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:20:11,610 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::3] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 2 ms.
2022-11-01 01:20:11,624 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Discount -> 2022-11-01T01:20:11.624037200
2022-11-01 01:20:11,627 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::1] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 4020 ms.
2022-11-01 01:20:13,598 INFO com.global.book.aspect.LoggingAspect [AsynchThread::4] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:20:15,597 INFO com.global.book.aspect.LoggingAspect [AsynchThread::2] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:20:15,599 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::2] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 1 ms.
2022-11-01 01:20:17,605 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Discount -> 2022-11-01T01:20:17.605507900
2022-11-01 01:20:17,605 INFO com.global.book.aspect.LoggingAspect [AsynchThread::3] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:20:17,606 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::3] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 1 ms.
2022-11-01 01:20:17,613 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::4] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 4015 ms.
2022-11-01 01:20:19,601 INFO com.global.book.aspect.LoggingAspect [AsynchThread::1] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:20:21,610 INFO com.global.book.aspect.LoggingAspect [AsynchThread::2] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:20:21,612 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::2] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 2 ms.
2022-11-01 01:20:23,608 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Discount -> 2022-11-01T01:20:23.608783500
2022-11-01 01:20:23,608 INFO com.global.book.aspect.LoggingAspect [AsynchThread::3] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:20:23,610 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::3] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 2 ms.
2022-11-01 01:20:23,611 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::1] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 4010 ms.
2022-11-01 01:20:25,599 INFO com.global.book.aspect.LoggingAspect [AsynchThread::4] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:20:27,594 INFO com.global.book.aspect.LoggingAspect [AsynchThread::2] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:20:27,596 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::2] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 1 ms.
2022-11-01 01:20:29,606 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Discount -> 2022-11-01T01:20:29.606778
2022-11-01 01:20:29,606 INFO com.global.book.aspect.LoggingAspect [AsynchThread::3] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:20:29,608 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::4] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 4009 ms.
2022-11-01 01:20:31,601 INFO com.global.book.aspect.LoggingAspect [AsynchThread::1] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:20:31,603 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::1] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 2 ms.
2022-11-01 01:20:33,597 INFO com.global.book.aspect.LoggingAspect [AsynchThread::2] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:20:33,599 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::2] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 2 ms.
2022-11-01 01:20:33,612 INFO com.global.book.service.PriceSchedule [AsynchThread::3] Compute Discount -> 2022-11-01T01:20:33.612571700
2022-11-01 01:20:33,616 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::3] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 4010 ms.
2022-11-01 01:20:35,605 INFO com.global.book.aspect.LoggingAspect [AsynchThread::4] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:20:37,600 INFO com.global.book.aspect.LoggingAspect [AsynchThread::1] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:20:37,602 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::1] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 2 ms.
2022-11-01 01:20:39,599 INFO com.global.book.aspect.LoggingAspect [AsynchThread::2] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:20:39,602 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::2] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 3 ms.
2022-11-01 01:20:39,615 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Discount -> 2022-11-01T01:20:39.615399800
2022-11-01 01:20:39,617 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::4] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 4012 ms.
2022-11-01 01:20:41,595 INFO com.global.book.aspect.LoggingAspect [AsynchThread::3] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:20:43,609 INFO com.global.book.aspect.LoggingAspect [AsynchThread::1] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:20:43,611 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::1] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 2 ms.
2022-11-01 01:20:45,609 INFO com.global.book.service.PriceSchedule [AsynchThread::3] Compute Discount -> 2022-11-01T01:20:45.609433800
2022-11-01 01:20:45,609 INFO com.global.book.aspect.LoggingAspect [AsynchThread::2] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:20:45,610 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::2] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 1 ms.
2022-11-01 01:20:45,612 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::3] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 4017 ms.
2022-11-01 01:20:47,605 INFO com.global.book.aspect.LoggingAspect [AsynchThread::4] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:20:49,595 INFO com.global.book.aspect.LoggingAspect [AsynchThread::1] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:20:49,597 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::1] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 2 ms.
2022-11-01 01:20:51,604 INFO com.global.book.aspect.LoggingAspect [AsynchThread::2] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:20:51,606 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::2] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 2 ms.
2022-11-01 01:20:51,619 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Discount -> 2022-11-01T01:20:51.619661500
2022-11-01 01:20:51,622 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::4] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 4017 ms.
2022-11-01 01:20:53,601 INFO com.global.book.aspect.LoggingAspect [AsynchThread::3] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:20:55,598 INFO com.global.book.aspect.LoggingAspect [AsynchThread::1] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:20:55,600 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::1] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 2 ms.
2022-11-01 01:20:57,595 INFO com.global.book.aspect.LoggingAspect [AsynchThread::2] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:20:57,597 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::2] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 2 ms.
2022-11-01 01:20:57,611 INFO com.global.book.service.PriceSchedule [AsynchThread::3] Compute Discount -> 2022-11-01T01:20:57.611439100
2022-11-01 01:20:57,614 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::3] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 4013 ms.
2022-11-01 01:20:59,606 INFO com.global.book.aspect.LoggingAspect [AsynchThread::4] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:21:00,005 INFO com.global.book.aspect.LoggingAspect [AsynchThread::1] ====>  Method Name is >> PriceSchedule.computePrice()
2022-11-01 01:21:01,141 DEBUG org.springframework.core.log.LogFormatUtils [http-nio-8080-exec-5] GET "/author/1", parameters={}
2022-11-01 01:21:01,142 DEBUG org.springframework.web.servlet.handler.AbstractHandlerMapping [http-nio-8080-exec-5] Mapped to com.global.book.controller.AuthorController#findById(Long)
2022-11-01 01:21:01,147 INFO com.global.book.aspect.LoggingAspect [http-nio-8080-exec-5] ====>  Method Name is >> AuthorController.findById(..)
2022-11-01 01:21:01,147 INFO com.global.book.aspect.LoggingAspect [http-nio-8080-exec-5] ===> argument >> 1
2022-11-01 01:21:01,154 INFO com.global.book.aspect.LoggingAspect [http-nio-8080-exec-5] ====>  Method Name is >> AuthorService.findById(..)
2022-11-01 01:21:01,155 INFO com.global.book.aspect.LoggingAspect [http-nio-8080-exec-5] ===> argument >> 1
2022-11-01 01:21:01,156 INFO com.global.book.aspect.LoggingAspect [http-nio-8080-exec-5] ====>  Method Name is >> CrudRepository.findById(..)
2022-11-01 01:21:01,156 INFO com.global.book.aspect.LoggingAspect [http-nio-8080-exec-5] ===> argument >> 1
2022-11-01 01:21:01,159 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        author0_.id as id1_0_0_,
        author0_.created_by as created_2_0_0_,
        author0_.created_date as created_3_0_0_,
        author0_.last_modified_by as last_mod4_0_0_,
        author0_.last_modified_date as last_mod5_0_0_,
        author0_.status_code as status_c6_0_0_,
        author0_.email as email7_0_0_,
        author0_.image_path as image_pa8_0_0_,
        author0_.ip_address as ip_addre9_0_0_,
        author0_.name as name10_0_0_,
        (select
            count(*) 
        from
            books b 
        where
            b.author_id = author0_.id) as formula1_0_ 
    from
        authors author0_ 
    where
        author0_.id=?
2022-11-01 01:21:01,164 INFO com.global.book.aspect.MeasurementAspect [http-nio-8080-exec-5] KPI[method-execution]	for: Author com.global.book.service.AuthorService.findById(Long)	withArgs: (1)	took: 10 ms.
2022-11-01 01:21:01,167 DEBUG org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor [http-nio-8080-exec-5] Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json, application/cbor]
2022-11-01 01:21:01,167 DEBUG org.springframework.core.log.LogFormatUtils [http-nio-8080-exec-5] Writing [com.global.book.entity.Author@2532a835]
2022-11-01 01:21:01,169 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        books0_.author_id as author_i9_1_0_,
        books0_.id as id1_1_0_,
        books0_.id as id1_1_1_,
        books0_.created_by as created_2_1_1_,
        books0_.created_date as created_3_1_1_,
        books0_.last_modified_by as last_mod4_1_1_,
        books0_.last_modified_date as last_mod5_1_1_,
        books0_.status_code as status_c6_1_1_,
        books0_.author_id as author_i9_1_1_,
        books0_.name as name7_1_1_,
        books0_.price as price8_1_1_,
        (select
            count(*) 
        from
            books) as formula2_1_ 
    from
        books books0_ 
    where
        books0_.author_id=?
2022-11-01 01:21:01,171 DEBUG org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-5] Completed 200 OK
2022-11-01 01:21:01,602 INFO com.global.book.aspect.LoggingAspect [AsynchThread::2] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:21:01,603 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::2] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 1 ms.
2022-11-01 01:21:03,605 INFO com.global.book.aspect.LoggingAspect [AsynchThread::3] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:21:03,606 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::3] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 1 ms.
2022-11-01 01:21:03,620 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Discount -> 2022-11-01T01:21:03.620791600
2022-11-01 01:21:03,622 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::4] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 4016 ms.
2022-11-01 01:21:04,021 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Price -> 2022-11-01T01:21:04.021564
2022-11-01 01:21:04,023 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::1] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computePrice()	withArgs: ()	took: 4018 ms.
2022-11-01 01:21:05,598 INFO com.global.book.aspect.LoggingAspect [AsynchThread::2] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:21:07,607 INFO com.global.book.aspect.LoggingAspect [AsynchThread::3] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:21:07,609 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::3] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 2 ms.
2022-11-01 01:21:09,594 INFO com.global.book.aspect.LoggingAspect [AsynchThread::4] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:21:09,596 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::4] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 2 ms.
2022-11-01 01:21:09,610 INFO com.global.book.service.PriceSchedule [AsynchThread::2] Compute Discount -> 2022-11-01T01:21:09.610385900
2022-11-01 01:21:09,613 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::2] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 4015 ms.
2022-11-01 01:21:11,595 INFO com.global.book.aspect.LoggingAspect [AsynchThread::1] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:21:13,609 INFO com.global.book.aspect.LoggingAspect [AsynchThread::3] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:21:13,611 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::3] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 2 ms.
2022-11-01 01:21:15,596 INFO com.global.book.aspect.LoggingAspect [AsynchThread::4] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:21:15,597 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::4] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 1 ms.
2022-11-01 01:21:15,611 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Discount -> 2022-11-01T01:21:15.611777900
2022-11-01 01:21:15,614 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::1] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 4019 ms.
2022-11-01 01:21:17,598 INFO com.global.book.aspect.LoggingAspect [AsynchThread::2] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:21:19,595 INFO com.global.book.aspect.LoggingAspect [AsynchThread::3] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:21:19,597 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::3] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 2 ms.
2022-11-01 01:21:21,603 INFO com.global.book.service.PriceSchedule [AsynchThread::2] Compute Discount -> 2022-11-01T01:21:21.603912400
2022-11-01 01:21:21,603 INFO com.global.book.aspect.LoggingAspect [AsynchThread::4] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:21:21,605 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::4] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 2 ms.
2022-11-01 01:21:21,607 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::2] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 4009 ms.
2022-11-01 01:21:23,597 INFO com.global.book.aspect.LoggingAspect [AsynchThread::1] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:21:25,596 INFO com.global.book.aspect.LoggingAspect [AsynchThread::3] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:21:25,598 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::3] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 2 ms.
2022-11-01 01:21:27,601 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Discount -> 2022-11-01T01:21:27.601798300
2022-11-01 01:21:27,601 INFO com.global.book.aspect.LoggingAspect [AsynchThread::4] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:21:27,604 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::1] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 4007 ms.
2022-11-01 01:21:29,594 INFO com.global.book.aspect.LoggingAspect [AsynchThread::2] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:21:29,596 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::2] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 2 ms.
2022-11-01 01:21:31,608 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Discount -> 2022-11-01T01:21:31.608679800
2022-11-01 01:21:31,608 INFO com.global.book.aspect.LoggingAspect [AsynchThread::3] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:21:31,609 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::3] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 1 ms.
2022-11-01 01:21:31,611 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::4] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 4010 ms.
2022-11-01 01:21:33,605 INFO com.global.book.aspect.LoggingAspect [AsynchThread::1] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:21:35,599 INFO com.global.book.aspect.LoggingAspect [AsynchThread::2] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:21:35,600 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::2] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 1 ms.
2022-11-01 01:21:37,595 INFO com.global.book.aspect.LoggingAspect [AsynchThread::3] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:21:37,596 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::3] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 1 ms.
2022-11-01 01:21:37,610 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Discount -> 2022-11-01T01:21:37.610697600
2022-11-01 01:21:37,612 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::1] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 4007 ms.
2022-11-01 01:21:39,599 INFO com.global.book.aspect.LoggingAspect [AsynchThread::4] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:21:41,602 INFO com.global.book.aspect.LoggingAspect [AsynchThread::2] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:21:41,604 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::2] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 2 ms.
2022-11-01 01:21:43,598 INFO com.global.book.aspect.LoggingAspect [AsynchThread::3] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:21:43,600 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::3] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 2 ms.
2022-11-01 01:21:43,614 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Discount -> 2022-11-01T01:21:43.614749800
2022-11-01 01:21:43,616 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::4] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 4017 ms.
2022-11-01 01:21:45,604 INFO com.global.book.aspect.LoggingAspect [AsynchThread::1] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:21:45,709 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(6)-127.0.0.1] Application shutdown requested.
2022-11-01 01:21:45,725 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(6)-127.0.0.1] Pausing ProtocolHandler ["http-nio-8080"]
2022-11-01 01:21:45,726 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(6)-127.0.0.1] Stopping service [Tomcat]
2022-11-01 01:21:45,726 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(6)-127.0.0.1] Destroying Spring FrameworkServlet 'dispatcherServlet'
2022-11-01 01:21:45,728 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(6)-127.0.0.1] Stopping ProtocolHandler ["http-nio-8080"]
2022-11-01 01:21:45,729 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(6)-127.0.0.1] Destroying ProtocolHandler ["http-nio-8080"]
2022-11-01 01:21:45,732 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [RMI TCP Connection(6)-127.0.0.1] Custom destroy method 'shutdown' on bean with name 'amazonS3' threw an exception: java.lang.UnsupportedOperationException: Extend AbstractAmazonS3 to provide an implementation
2022-11-01 01:21:45,733 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [RMI TCP Connection(6)-127.0.0.1] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-11-01 01:21:45,735 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(6)-127.0.0.1] HikariPool-1 - Shutdown initiated...
2022-11-01 01:21:45,741 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(6)-127.0.0.1] HikariPool-1 - Shutdown completed.
2022-11-01 01:21:49,490 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2022-11-01 01:21:49,493 INFO org.springframework.boot.StartupInfoLogger [main] Starting DataJpaBooksProjectApplication using Java 17.0.4.1 on DESKTOP-N2KRF5H with PID 15176 (C:\Users\princ\Desktop\projects\data-jpa-books-project\target\classes started by princ in C:\Users\princ\Desktop\projects\data-jpa-books-project)
2022-11-01 01:21:49,494 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.7.5, Spring v5.3.23
2022-11-01 01:21:49,494 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-11-01 01:21:50,102 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-11-01 01:21:50,141 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 34 ms. Found 2 JPA repository interfaces.
2022-11-01 01:21:50,632 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-11-01 01:21:50,638 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-11-01 01:21:50,638 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-11-01 01:21:50,638 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.68]
2022-11-01 01:21:50,710 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-11-01 01:21:50,710 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1188 ms
2022-11-01 01:21:50,924 ERROR org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Skipping filesystem location:\another\migration\directory (not found).
2022-11-01 01:21:50,925 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-11-01 01:21:51,027 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-11-01 01:21:51,034 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Flyway Community Edition 8.0.4 by Redgate
2022-11-01 01:21:51,035 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Database: jdbc:mysql://localhost:3306/book (MySQL 5.5)
2022-11-01 01:21:51,077 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully validated 2 migrations (execution time 00:00.012s)
2022-11-01 01:21:51,083 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Current version of schema `book`: 2
2022-11-01 01:21:51,083 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Schema `book` is up to date. No migration necessary.
2022-11-01 01:21:51,145 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-11-01 01:21:51,178 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.12.Final
2022-11-01 01:21:51,268 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-11-01 01:21:51,326 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-11-01 01:21:51,739 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-11-01 01:21:51,745 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-11-01 01:21:52,332 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-11-01 01:21:52,451 DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter [main] ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2022-11-01 01:21:52,520 DEBUG org.springframework.web.servlet.handler.AbstractHandlerMethodMapping [main] 28 mappings in 'requestMappingHandlerMapping'
2022-11-01 01:21:52,762 DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping [main] Patterns [/webjars/**, /**, /swagger-ui*/**] in 'resourceHandlerMapping'
2022-11-01 01:21:52,779 DEBUG org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver [main] ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2022-11-01 01:21:53,081 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 14 endpoint(s) beneath base path '/actuator'
2022-11-01 01:21:53,114 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2022-11-01 01:21:53,130 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2022-11-01 01:21:53,143 INFO org.springframework.boot.StartupInfoLogger [main] Started DataJpaBooksProjectApplication in 3.857 seconds (JVM running for 4.442)
2022-11-01 01:21:53,145 INFO com.global.book.aspect.LoggingAspect [AsynchThread::1] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:21:53,147 INFO com.global.book.aspect.LoggingAspect [main] ====>  Method Name is >> AuthorService.findAll()
2022-11-01 01:21:53,182 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [main] 
    select
        author0_.id as id1_0_0_,
        books1_.id as id1_1_1_,
        author0_.created_by as created_2_0_0_,
        author0_.created_date as created_3_0_0_,
        author0_.last_modified_by as last_mod4_0_0_,
        author0_.last_modified_date as last_mod5_0_0_,
        author0_.status_code as status_c6_0_0_,
        author0_.email as email7_0_0_,
        author0_.image_path as image_pa8_0_0_,
        author0_.ip_address as ip_addre9_0_0_,
        author0_.name as name10_0_0_,
        (select
            count(*) 
        from
            books b 
        where
            b.author_id = author0_.id) as formula1_0_,
        books1_.created_by as created_2_1_1_,
        books1_.created_date as created_3_1_1_,
        books1_.last_modified_by as last_mod4_1_1_,
        books1_.last_modified_date as last_mod5_1_1_,
        books1_.status_code as status_c6_1_1_,
        books1_.author_id as author_i9_1_1_,
        books1_.name as name7_1_1_,
        books1_.price as price8_1_1_,
        (select
            count(*) 
        from
            books) as formula2_1_,
        books1_.author_id as author_i9_1_0__,
        books1_.id as id1_1_0__ 
    from
        authors author0_ 
    left outer join
        books books1_ 
            on author0_.id=books1_.author_id
2022-11-01 01:21:53,205 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::1] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 61 ms.
2022-11-01 01:21:53,206 INFO com.global.book.aspect.MeasurementAspect [main] KPI[method-execution]	for: List com.global.book.service.AuthorService.findAll()	withArgs: ()	took: 59 ms.
2022-11-01 01:21:53,211 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [main] 
    select
        book0_.id as id1_1_0_,
        author1_.id as id1_0_1_,
        book0_.created_by as created_2_1_0_,
        book0_.created_date as created_3_1_0_,
        book0_.last_modified_by as last_mod4_1_0_,
        book0_.last_modified_date as last_mod5_1_0_,
        book0_.status_code as status_c6_1_0_,
        book0_.author_id as author_i9_1_0_,
        book0_.name as name7_1_0_,
        book0_.price as price8_1_0_,
        (select
            count(*) 
        from
            books) as formula2_0_,
        author1_.created_by as created_2_0_1_,
        author1_.created_date as created_3_0_1_,
        author1_.last_modified_by as last_mod4_0_1_,
        author1_.last_modified_date as last_mod5_0_1_,
        author1_.status_code as status_c6_0_1_,
        author1_.email as email7_0_1_,
        author1_.image_path as image_pa8_0_1_,
        author1_.ip_address as ip_addre9_0_1_,
        author1_.name as name10_0_1_,
        (select
            count(*) 
        from
            books b 
        where
            b.author_id = author1_.id) as formula1_1_ 
    from
        books book0_ 
    left outer join
        authors author1_ 
            on book0_.author_id=author1_.id
2022-11-01 01:21:53,899 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(3)-127.0.0.1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-11-01 01:21:53,899 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(3)-127.0.0.1] Initializing Servlet 'dispatcherServlet'
2022-11-01 01:21:53,899 DEBUG org.springframework.web.servlet.DispatcherServlet [RMI TCP Connection(3)-127.0.0.1] Detected StandardServletMultipartResolver
2022-11-01 01:21:53,899 DEBUG org.springframework.web.servlet.DispatcherServlet [RMI TCP Connection(3)-127.0.0.1] Detected AcceptHeaderLocaleResolver
2022-11-01 01:21:53,900 DEBUG org.springframework.web.servlet.DispatcherServlet [RMI TCP Connection(3)-127.0.0.1] Detected FixedThemeResolver
2022-11-01 01:21:53,900 DEBUG org.springframework.web.servlet.DispatcherServlet [RMI TCP Connection(3)-127.0.0.1] Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@440d45c5
2022-11-01 01:21:53,901 DEBUG org.springframework.web.servlet.DispatcherServlet [RMI TCP Connection(3)-127.0.0.1] Detected org.springframework.web.servlet.support.SessionFlashMapManager@2b14628b
2022-11-01 01:21:53,901 DEBUG org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(3)-127.0.0.1] enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2022-11-01 01:21:53,901 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(3)-127.0.0.1] Completed initialization in 2 ms
2022-11-01 01:21:55,150 INFO com.global.book.aspect.LoggingAspect [AsynchThread::2] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:21:55,152 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::2] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 2 ms.
2022-11-01 01:21:56,397 DEBUG org.springframework.core.log.LogFormatUtils [http-nio-8080-exec-1] GET "/author/1", parameters={}
2022-11-01 01:21:56,403 DEBUG org.springframework.web.servlet.handler.AbstractHandlerMapping [http-nio-8080-exec-1] Mapped to com.global.book.controller.AuthorController#findById(Long)
2022-11-01 01:21:56,417 INFO com.global.book.aspect.LoggingAspect [http-nio-8080-exec-1] ====>  Method Name is >> AuthorController.findById(..)
2022-11-01 01:21:56,417 INFO com.global.book.aspect.LoggingAspect [http-nio-8080-exec-1] ===> argument >> 1
2022-11-01 01:21:56,442 INFO com.global.book.aspect.LoggingAspect [http-nio-8080-exec-1] ====>  Method Name is >> AuthorService.findById(..)
2022-11-01 01:21:56,442 INFO com.global.book.aspect.LoggingAspect [http-nio-8080-exec-1] ===> argument >> 1
2022-11-01 01:21:56,447 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        author0_.id as id1_0_0_,
        author0_.created_by as created_2_0_0_,
        author0_.created_date as created_3_0_0_,
        author0_.last_modified_by as last_mod4_0_0_,
        author0_.last_modified_date as last_mod5_0_0_,
        author0_.status_code as status_c6_0_0_,
        author0_.email as email7_0_0_,
        author0_.image_path as image_pa8_0_0_,
        author0_.ip_address as ip_addre9_0_0_,
        author0_.name as name10_0_0_,
        (select
            count(*) 
        from
            books b 
        where
            b.author_id = author0_.id) as formula1_0_,
        books1_.author_id as author_i9_1_1_,
        books1_.id as id1_1_1_,
        books1_.id as id1_1_2_,
        books1_.created_by as created_2_1_2_,
        books1_.created_date as created_3_1_2_,
        books1_.last_modified_by as last_mod4_1_2_,
        books1_.last_modified_date as last_mod5_1_2_,
        books1_.status_code as status_c6_1_2_,
        books1_.author_id as author_i9_1_2_,
        books1_.name as name7_1_2_,
        books1_.price as price8_1_2_,
        (select
            count(*) 
        from
            books) as formula2_2_ 
    from
        authors author0_ 
    left outer join
        books books1_ 
            on author0_.id=books1_.author_id 
    where
        author0_.id=?
2022-11-01 01:21:56,453 INFO com.global.book.aspect.MeasurementAspect [http-nio-8080-exec-1] KPI[method-execution]	for: Author com.global.book.service.AuthorService.findById(Long)	withArgs: (1)	took: 12 ms.
2022-11-01 01:21:56,464 DEBUG org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor [http-nio-8080-exec-1] Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json, application/cbor]
2022-11-01 01:21:56,465 DEBUG org.springframework.core.log.LogFormatUtils [http-nio-8080-exec-1] Writing [com.global.book.entity.Author@127189ef]
2022-11-01 01:21:56,480 DEBUG org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed 200 OK
2022-11-01 01:21:57,155 INFO com.global.book.aspect.LoggingAspect [AsynchThread::3] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:21:57,157 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::3] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 2 ms.
2022-11-01 01:21:59,151 INFO com.global.book.aspect.LoggingAspect [AsynchThread::4] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:21:59,153 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::4] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 2 ms.
2022-11-01 01:22:00,013 INFO com.global.book.aspect.LoggingAspect [AsynchThread::1] ====>  Method Name is >> PriceSchedule.computePrice()
2022-11-01 01:22:01,143 INFO com.global.book.aspect.LoggingAspect [AsynchThread::2] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:22:01,144 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::2] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 1 ms.
2022-11-01 01:22:03,152 INFO com.global.book.aspect.LoggingAspect [AsynchThread::3] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:22:03,154 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::3] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 2 ms.
2022-11-01 01:22:04,028 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Price -> 2022-11-01T01:22:04.028345600
2022-11-01 01:22:04,031 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::1] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computePrice()	withArgs: ()	took: 4018 ms.
2022-11-01 01:22:05,147 INFO com.global.book.aspect.LoggingAspect [AsynchThread::4] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:22:05,149 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::4] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 2 ms.
2022-11-01 01:22:07,147 INFO com.global.book.aspect.LoggingAspect [AsynchThread::2] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:22:07,149 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::2] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 2 ms.
2022-11-01 01:22:09,157 INFO com.global.book.aspect.LoggingAspect [AsynchThread::3] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:22:09,160 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::3] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 3 ms.
2022-11-01 01:22:11,151 INFO com.global.book.aspect.LoggingAspect [AsynchThread::1] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:22:11,152 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::1] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 1 ms.
2022-11-01 01:22:13,143 INFO com.global.book.aspect.LoggingAspect [AsynchThread::4] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:22:13,145 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::4] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 2 ms.
2022-11-01 01:22:15,143 INFO com.global.book.aspect.LoggingAspect [AsynchThread::2] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:22:15,145 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::2] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 2 ms.
2022-11-01 01:22:17,150 INFO com.global.book.aspect.LoggingAspect [AsynchThread::3] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:22:17,151 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::3] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 1 ms.
2022-11-01 01:22:19,146 INFO com.global.book.aspect.LoggingAspect [AsynchThread::1] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:22:19,148 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::1] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 2 ms.
2022-11-01 01:22:21,154 INFO com.global.book.aspect.LoggingAspect [AsynchThread::4] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:22:21,156 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::4] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 2 ms.
2022-11-01 01:22:23,152 INFO com.global.book.aspect.LoggingAspect [AsynchThread::2] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:22:23,154 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::2] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 2 ms.
2022-11-01 01:22:25,148 INFO com.global.book.aspect.LoggingAspect [AsynchThread::3] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:22:25,150 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::3] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 2 ms.
2022-11-01 01:22:27,143 INFO com.global.book.aspect.LoggingAspect [AsynchThread::1] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:22:27,145 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::1] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 2 ms.
2022-11-01 01:22:29,153 INFO com.global.book.aspect.LoggingAspect [AsynchThread::4] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:22:29,155 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::4] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 2 ms.
2022-11-01 01:22:31,156 INFO com.global.book.aspect.LoggingAspect [AsynchThread::2] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:22:31,158 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::2] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 2 ms.
2022-11-01 01:22:33,152 INFO com.global.book.aspect.LoggingAspect [AsynchThread::3] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:22:33,153 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::3] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 1 ms.
2022-11-01 01:22:35,155 INFO com.global.book.aspect.LoggingAspect [AsynchThread::1] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:22:35,157 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::1] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 2 ms.
2022-11-01 01:22:37,147 INFO com.global.book.aspect.LoggingAspect [AsynchThread::4] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:22:37,148 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::4] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 1 ms.
2022-11-01 01:22:39,148 INFO com.global.book.aspect.LoggingAspect [AsynchThread::2] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:22:39,149 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::2] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 1 ms.
2022-11-01 01:22:41,156 INFO com.global.book.aspect.LoggingAspect [AsynchThread::3] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:22:41,158 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::3] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 2 ms.
2022-11-01 01:22:43,143 INFO com.global.book.aspect.LoggingAspect [AsynchThread::1] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:22:43,146 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::1] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 3 ms.
2022-11-01 01:22:45,148 INFO com.global.book.aspect.LoggingAspect [AsynchThread::4] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:22:45,149 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::4] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 1 ms.
2022-11-01 01:22:47,145 INFO com.global.book.aspect.LoggingAspect [AsynchThread::2] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:22:47,147 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::2] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 2 ms.
2022-11-01 01:22:49,149 INFO com.global.book.aspect.LoggingAspect [AsynchThread::3] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:22:49,151 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::3] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 2 ms.
2022-11-01 01:22:51,153 INFO com.global.book.aspect.LoggingAspect [AsynchThread::1] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:22:51,155 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::1] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 2 ms.
2022-11-01 01:22:53,143 INFO com.global.book.aspect.LoggingAspect [AsynchThread::4] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:22:53,145 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::4] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 2 ms.
2022-11-01 01:22:55,156 INFO com.global.book.aspect.LoggingAspect [AsynchThread::2] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:22:55,158 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::2] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 2 ms.
2022-11-01 01:22:57,149 INFO com.global.book.aspect.LoggingAspect [AsynchThread::3] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:22:57,150 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::3] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 1 ms.
2022-11-01 01:22:59,143 INFO com.global.book.aspect.LoggingAspect [AsynchThread::1] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:22:59,144 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::1] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 1 ms.
2022-11-01 01:23:00,010 INFO com.global.book.aspect.LoggingAspect [AsynchThread::4] ====>  Method Name is >> PriceSchedule.computePrice()
2022-11-01 01:23:01,153 INFO com.global.book.aspect.LoggingAspect [AsynchThread::2] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:23:01,155 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::2] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 2 ms.
2022-11-01 01:23:03,143 INFO com.global.book.aspect.LoggingAspect [AsynchThread::3] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:23:03,145 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::3] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 2 ms.
2022-11-01 01:23:04,022 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Price -> 2022-11-01T01:23:04.022853900
2022-11-01 01:23:04,025 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::4] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computePrice()	withArgs: ()	took: 4015 ms.
2022-11-01 01:23:05,148 INFO com.global.book.aspect.LoggingAspect [AsynchThread::1] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:23:05,150 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::1] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 2 ms.
2022-11-01 01:23:07,151 INFO com.global.book.aspect.LoggingAspect [AsynchThread::2] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:23:07,152 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::2] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 1 ms.
2022-11-01 01:23:09,155 INFO com.global.book.aspect.LoggingAspect [AsynchThread::3] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:23:09,156 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::3] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 1 ms.
2022-11-01 01:23:11,145 INFO com.global.book.aspect.LoggingAspect [AsynchThread::4] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:23:11,146 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::4] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 1 ms.
2022-11-01 01:23:11,588 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(4)-127.0.0.1] Application shutdown requested.
2022-11-01 01:23:11,624 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(4)-127.0.0.1] Pausing ProtocolHandler ["http-nio-8080"]
2022-11-01 01:23:11,624 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(4)-127.0.0.1] Stopping service [Tomcat]
2022-11-01 01:23:11,625 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(4)-127.0.0.1] Destroying Spring FrameworkServlet 'dispatcherServlet'
2022-11-01 01:23:11,627 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(4)-127.0.0.1] Stopping ProtocolHandler ["http-nio-8080"]
2022-11-01 01:23:11,629 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(4)-127.0.0.1] Destroying ProtocolHandler ["http-nio-8080"]
2022-11-01 01:23:11,631 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [RMI TCP Connection(4)-127.0.0.1] Custom destroy method 'shutdown' on bean with name 'amazonS3' threw an exception: java.lang.UnsupportedOperationException: Extend AbstractAmazonS3 to provide an implementation
2022-11-01 01:23:11,632 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [RMI TCP Connection(4)-127.0.0.1] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-11-01 01:23:11,634 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(4)-127.0.0.1] HikariPool-1 - Shutdown initiated...
2022-11-01 01:23:11,639 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(4)-127.0.0.1] HikariPool-1 - Shutdown completed.
2022-11-01 01:23:41,107 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2022-11-01 01:23:41,111 INFO org.springframework.boot.StartupInfoLogger [main] Starting DataJpaBooksProjectApplication using Java 17.0.4.1 on DESKTOP-N2KRF5H with PID 7172 (C:\Users\princ\Desktop\projects\data-jpa-books-project\target\classes started by princ in C:\Users\princ\Desktop\projects\data-jpa-books-project)
2022-11-01 01:23:41,112 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.7.5, Spring v5.3.23
2022-11-01 01:23:41,112 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-11-01 01:23:41,729 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-11-01 01:23:41,768 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 33 ms. Found 2 JPA repository interfaces.
2022-11-01 01:23:42,252 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-11-01 01:23:42,258 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-11-01 01:23:42,259 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-11-01 01:23:42,259 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.68]
2022-11-01 01:23:42,332 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-11-01 01:23:42,332 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1192 ms
2022-11-01 01:23:42,545 ERROR org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Skipping filesystem location:\another\migration\directory (not found).
2022-11-01 01:23:42,546 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-11-01 01:23:42,652 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-11-01 01:23:42,658 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Flyway Community Edition 8.0.4 by Redgate
2022-11-01 01:23:42,658 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Database: jdbc:mysql://localhost:3306/book (MySQL 5.5)
2022-11-01 01:23:42,699 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully validated 2 migrations (execution time 00:00.012s)
2022-11-01 01:23:42,705 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Current version of schema `book`: 2
2022-11-01 01:23:42,706 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Schema `book` is up to date. No migration necessary.
2022-11-01 01:23:42,758 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-11-01 01:23:42,789 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.12.Final
2022-11-01 01:23:42,875 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-11-01 01:23:42,932 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-11-01 01:23:43,338 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-11-01 01:23:43,343 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-11-01 01:23:43,924 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-11-01 01:23:44,048 DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter [main] ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2022-11-01 01:23:44,119 DEBUG org.springframework.web.servlet.handler.AbstractHandlerMethodMapping [main] 28 mappings in 'requestMappingHandlerMapping'
2022-11-01 01:23:44,357 DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping [main] Patterns [/webjars/**, /**, /swagger-ui*/**] in 'resourceHandlerMapping'
2022-11-01 01:23:44,371 DEBUG org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver [main] ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2022-11-01 01:23:44,728 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 14 endpoint(s) beneath base path '/actuator'
2022-11-01 01:23:44,766 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2022-11-01 01:23:44,785 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2022-11-01 01:23:44,799 INFO org.springframework.boot.StartupInfoLogger [main] Started DataJpaBooksProjectApplication in 3.896 seconds (JVM running for 4.455)
2022-11-01 01:23:44,800 INFO com.global.book.aspect.LoggingAspect [AsynchThread::1] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:23:44,803 INFO com.global.book.aspect.LoggingAspect [main] ====>  Method Name is >> AuthorService.findAll()
2022-11-01 01:23:44,813 INFO com.global.book.aspect.LoggingAspect [main] ====>  Method Name is >> AuthorRepo.findAll()
2022-11-01 01:23:44,846 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [main] 
    select
        author0_.id as id1_0_0_,
        books1_.id as id1_1_1_,
        author0_.created_by as created_2_0_0_,
        author0_.created_date as created_3_0_0_,
        author0_.last_modified_by as last_mod4_0_0_,
        author0_.last_modified_date as last_mod5_0_0_,
        author0_.status_code as status_c6_0_0_,
        author0_.email as email7_0_0_,
        author0_.image_path as image_pa8_0_0_,
        author0_.ip_address as ip_addre9_0_0_,
        author0_.name as name10_0_0_,
        (select
            count(*) 
        from
            books b 
        where
            b.author_id = author0_.id) as formula1_0_,
        books1_.created_by as created_2_1_1_,
        books1_.created_date as created_3_1_1_,
        books1_.last_modified_by as last_mod4_1_1_,
        books1_.last_modified_date as last_mod5_1_1_,
        books1_.status_code as status_c6_1_1_,
        books1_.author_id as author_i9_1_1_,
        books1_.name as name7_1_1_,
        books1_.price as price8_1_1_,
        (select
            count(*) 
        from
            books) as formula2_1_,
        books1_.author_id as author_i9_1_0__,
        books1_.id as id1_1_0__ 
    from
        authors author0_ 
    left outer join
        books books1_ 
            on author0_.id=books1_.author_id
2022-11-01 01:23:44,874 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::1] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 75 ms.
2022-11-01 01:23:44,878 INFO com.global.book.aspect.MeasurementAspect [main] KPI[method-execution]	for: List com.global.book.service.AuthorService.findAll()	withArgs: ()	took: 75 ms.
2022-11-01 01:23:44,882 INFO com.global.book.aspect.LoggingAspect [main] ====>  Method Name is >> BookRepo.findAll()
2022-11-01 01:23:44,886 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [main] 
    select
        book0_.id as id1_1_0_,
        author1_.id as id1_0_1_,
        book0_.created_by as created_2_1_0_,
        book0_.created_date as created_3_1_0_,
        book0_.last_modified_by as last_mod4_1_0_,
        book0_.last_modified_date as last_mod5_1_0_,
        book0_.status_code as status_c6_1_0_,
        book0_.author_id as author_i9_1_0_,
        book0_.name as name7_1_0_,
        book0_.price as price8_1_0_,
        (select
            count(*) 
        from
            books) as formula2_0_,
        author1_.created_by as created_2_0_1_,
        author1_.created_date as created_3_0_1_,
        author1_.last_modified_by as last_mod4_0_1_,
        author1_.last_modified_date as last_mod5_0_1_,
        author1_.status_code as status_c6_0_1_,
        author1_.email as email7_0_1_,
        author1_.image_path as image_pa8_0_1_,
        author1_.ip_address as ip_addre9_0_1_,
        author1_.name as name10_0_1_,
        (select
            count(*) 
        from
            books b 
        where
            b.author_id = author1_.id) as formula1_1_ 
    from
        books book0_ 
    left outer join
        authors author1_ 
            on book0_.author_id=author1_.id
2022-11-01 01:23:45,690 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(4)-127.0.0.1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-11-01 01:23:45,690 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(4)-127.0.0.1] Initializing Servlet 'dispatcherServlet'
2022-11-01 01:23:45,690 DEBUG org.springframework.web.servlet.DispatcherServlet [RMI TCP Connection(4)-127.0.0.1] Detected StandardServletMultipartResolver
2022-11-01 01:23:45,691 DEBUG org.springframework.web.servlet.DispatcherServlet [RMI TCP Connection(4)-127.0.0.1] Detected AcceptHeaderLocaleResolver
2022-11-01 01:23:45,691 DEBUG org.springframework.web.servlet.DispatcherServlet [RMI TCP Connection(4)-127.0.0.1] Detected FixedThemeResolver
2022-11-01 01:23:45,692 DEBUG org.springframework.web.servlet.DispatcherServlet [RMI TCP Connection(4)-127.0.0.1] Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@4fc9e73d
2022-11-01 01:23:45,692 DEBUG org.springframework.web.servlet.DispatcherServlet [RMI TCP Connection(4)-127.0.0.1] Detected org.springframework.web.servlet.support.SessionFlashMapManager@3a3f1703
2022-11-01 01:23:45,692 DEBUG org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(4)-127.0.0.1] enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2022-11-01 01:23:45,692 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(4)-127.0.0.1] Completed initialization in 2 ms
2022-11-01 01:23:49,221 DEBUG org.springframework.core.log.LogFormatUtils [http-nio-8080-exec-3] GET "/author/1", parameters={}
2022-11-01 01:23:49,228 DEBUG org.springframework.web.servlet.handler.AbstractHandlerMapping [http-nio-8080-exec-3] Mapped to com.global.book.controller.AuthorController#findById(Long)
2022-11-01 01:23:49,243 INFO com.global.book.aspect.LoggingAspect [http-nio-8080-exec-3] ====>  Method Name is >> AuthorController.findById(..)
2022-11-01 01:23:49,244 INFO com.global.book.aspect.LoggingAspect [http-nio-8080-exec-3] ===> argument >> 1
2022-11-01 01:23:49,267 INFO com.global.book.aspect.LoggingAspect [http-nio-8080-exec-3] ====>  Method Name is >> AuthorService.findById(..)
2022-11-01 01:23:49,267 INFO com.global.book.aspect.LoggingAspect [http-nio-8080-exec-3] ===> argument >> 1
2022-11-01 01:23:49,275 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        author0_.id as id1_0_0_,
        author0_.created_by as created_2_0_0_,
        author0_.created_date as created_3_0_0_,
        author0_.last_modified_by as last_mod4_0_0_,
        author0_.last_modified_date as last_mod5_0_0_,
        author0_.status_code as status_c6_0_0_,
        author0_.email as email7_0_0_,
        author0_.image_path as image_pa8_0_0_,
        author0_.ip_address as ip_addre9_0_0_,
        author0_.name as name10_0_0_,
        (select
            count(*) 
        from
            books b 
        where
            b.author_id = author0_.id) as formula1_0_,
        books1_.author_id as author_i9_1_1_,
        books1_.id as id1_1_1_,
        books1_.id as id1_1_2_,
        books1_.created_by as created_2_1_2_,
        books1_.created_date as created_3_1_2_,
        books1_.last_modified_by as last_mod4_1_2_,
        books1_.last_modified_date as last_mod5_1_2_,
        books1_.status_code as status_c6_1_2_,
        books1_.author_id as author_i9_1_2_,
        books1_.name as name7_1_2_,
        books1_.price as price8_1_2_,
        (select
            count(*) 
        from
            books) as formula2_2_ 
    from
        authors author0_ 
    left outer join
        books books1_ 
            on author0_.id=books1_.author_id 
    where
        author0_.id=?
2022-11-01 01:23:49,280 INFO com.global.book.aspect.MeasurementAspect [http-nio-8080-exec-3] KPI[method-execution]	for: Author com.global.book.service.AuthorService.findById(Long)	withArgs: (1)	took: 13 ms.
2022-11-01 01:23:49,291 DEBUG org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor [http-nio-8080-exec-3] Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json, application/cbor]
2022-11-01 01:23:49,292 DEBUG org.springframework.core.log.LogFormatUtils [http-nio-8080-exec-3] Writing [com.global.book.entity.Author@42572f0d]
2022-11-01 01:23:49,306 DEBUG org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-3] Completed 200 OK
2022-11-01 01:23:56,833 DEBUG org.springframework.core.log.LogFormatUtils [http-nio-8080-exec-2] GET "/author/1", parameters={}
2022-11-01 01:23:56,834 DEBUG org.springframework.web.servlet.handler.AbstractHandlerMapping [http-nio-8080-exec-2] Mapped to com.global.book.controller.AuthorController#findById(Long)
2022-11-01 01:23:56,834 INFO com.global.book.aspect.LoggingAspect [http-nio-8080-exec-2] ====>  Method Name is >> AuthorController.findById(..)
2022-11-01 01:23:56,834 INFO com.global.book.aspect.LoggingAspect [http-nio-8080-exec-2] ===> argument >> 1
2022-11-01 01:23:56,835 INFO com.global.book.aspect.LoggingAspect [http-nio-8080-exec-2] ====>  Method Name is >> AuthorService.findById(..)
2022-11-01 01:23:56,835 INFO com.global.book.aspect.LoggingAspect [http-nio-8080-exec-2] ===> argument >> 1
2022-11-01 01:23:56,836 INFO com.global.book.aspect.MeasurementAspect [http-nio-8080-exec-2] KPI[method-execution]	for: Author com.global.book.service.AuthorService.findById(Long)	withArgs: (1)	took: 1 ms.
2022-11-01 01:23:56,836 DEBUG org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor [http-nio-8080-exec-2] Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json, application/cbor]
2022-11-01 01:23:56,836 DEBUG org.springframework.core.log.LogFormatUtils [http-nio-8080-exec-2] Writing [com.global.book.entity.Author@42572f0d]
2022-11-01 01:23:56,837 DEBUG org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-2] Completed 200 OK
2022-11-01 01:24:00,004 INFO com.global.book.aspect.LoggingAspect [AsynchThread::2] ====>  Method Name is >> PriceSchedule.computePrice()
2022-11-01 01:25:00,002 INFO com.global.book.aspect.LoggingAspect [AsynchThread::3] ====>  Method Name is >> PriceSchedule.computePrice()
2022-11-01 01:25:00,005 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::3] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computePrice()	withArgs: ()	took: 3 ms.
2022-11-01 01:26:00,002 INFO com.global.book.aspect.LoggingAspect [AsynchThread::4] ====>  Method Name is >> PriceSchedule.computePrice()
2022-11-01 01:26:00,004 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::4] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computePrice()	withArgs: ()	took: 2 ms.
2022-11-01 01:27:00,013 INFO com.global.book.aspect.LoggingAspect [AsynchThread::1] ====>  Method Name is >> PriceSchedule.computePrice()
2022-11-01 01:27:00,015 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::1] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computePrice()	withArgs: ()	took: 2 ms.
2022-11-01 01:27:04,811 INFO com.global.book.aspect.LoggingAspect [AsynchThread::3] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:27:04,813 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::3] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 2 ms.
2022-11-01 01:27:10,725 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(9)-127.0.0.1] Application shutdown requested.
2022-11-01 01:27:10,742 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(9)-127.0.0.1] Pausing ProtocolHandler ["http-nio-8080"]
2022-11-01 01:27:10,742 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(9)-127.0.0.1] Stopping service [Tomcat]
2022-11-01 01:27:10,743 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(9)-127.0.0.1] Destroying Spring FrameworkServlet 'dispatcherServlet'
2022-11-01 01:27:10,745 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(9)-127.0.0.1] Stopping ProtocolHandler ["http-nio-8080"]
2022-11-01 01:27:10,746 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(9)-127.0.0.1] Destroying ProtocolHandler ["http-nio-8080"]
2022-11-01 01:27:10,749 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [RMI TCP Connection(9)-127.0.0.1] Custom destroy method 'shutdown' on bean with name 'amazonS3' threw an exception: java.lang.UnsupportedOperationException: Extend AbstractAmazonS3 to provide an implementation
2022-11-01 01:27:10,750 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [RMI TCP Connection(9)-127.0.0.1] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-11-01 01:27:10,753 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(9)-127.0.0.1] HikariPool-1 - Shutdown initiated...
2022-11-01 01:27:10,757 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(9)-127.0.0.1] HikariPool-1 - Shutdown completed.
2022-11-01 01:52:04,493 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2022-11-01 01:52:04,496 INFO org.springframework.boot.StartupInfoLogger [main] Starting DataJpaBooksProjectApplication using Java 17.0.4.1 on DESKTOP-N2KRF5H with PID 16940 (C:\Users\princ\Desktop\projects\data-jpa-books-project\target\classes started by princ in C:\Users\princ\Desktop\projects\data-jpa-books-project)
2022-11-01 01:52:04,497 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.7.5, Spring v5.3.23
2022-11-01 01:52:04,497 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-11-01 01:52:05,152 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2022-11-01 01:52:05,153 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-11-01 01:52:05,247 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 89 ms. Found 2 JPA repository interfaces.
2022-11-01 01:52:05,737 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-11-01 01:52:05,743 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-11-01 01:52:05,744 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-11-01 01:52:05,744 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.68]
2022-11-01 01:52:05,819 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-11-01 01:52:05,819 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1294 ms
2022-11-01 01:52:06,203 ERROR org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Skipping filesystem location:\another\migration\directory (not found).
2022-11-01 01:52:06,204 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-11-01 01:52:06,300 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-11-01 01:52:06,306 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Flyway Community Edition 8.0.4 by Redgate
2022-11-01 01:52:06,306 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Database: jdbc:mysql://localhost:3306/book (MySQL 5.5)
2022-11-01 01:52:06,349 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully validated 2 migrations (execution time 00:00.012s)
2022-11-01 01:52:06,354 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Current version of schema `book`: 2
2022-11-01 01:52:06,355 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Schema `book` is up to date. No migration necessary.
2022-11-01 01:52:06,403 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-11-01 01:52:06,436 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.12.Final
2022-11-01 01:52:06,537 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-11-01 01:52:06,597 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-11-01 01:52:07,002 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-11-01 01:52:07,007 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-11-01 01:52:07,609 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-11-01 01:52:07,730 DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter [main] ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2022-11-01 01:52:07,801 DEBUG org.springframework.web.servlet.handler.AbstractHandlerMethodMapping [main] 28 mappings in 'requestMappingHandlerMapping'
2022-11-01 01:52:08,077 DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping [main] Patterns [/webjars/**, /**, /swagger-ui*/**] in 'resourceHandlerMapping'
2022-11-01 01:52:08,094 DEBUG org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver [main] ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2022-11-01 01:52:08,681 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 14 endpoint(s) beneath base path '/actuator'
2022-11-01 01:52:08,720 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2022-11-01 01:52:08,739 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2022-11-01 01:52:08,753 INFO org.springframework.boot.StartupInfoLogger [main] Started DataJpaBooksProjectApplication in 4.462 seconds (JVM running for 5.036)
2022-11-01 01:52:08,755 INFO com.global.book.aspect.LoggingAspect [AsynchThread::1] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:52:08,757 INFO com.global.book.aspect.LoggingAspect [main] ====>  Method Name is >> AuthorService.findAll()
2022-11-01 01:52:08,763 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-11-01 01:52:08,778 ERROR org.springframework.boot.SpringApplication [main] Application run failed
java.lang.IllegalStateException: Failed to execute CommandLineRunner
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:774)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:755)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at com.global.book.DataJpaBooksProjectApplication.main(DataJpaBooksProjectApplication.java:10)
Caused by: java.lang.IllegalArgumentException: Null key returned for cache operation (maybe you are using named params on classes without debug info?) Builder[public java.util.List com.global.book.service.AuthorService.findAll()] caches=[findAllauthors] | key='#author' | keyGenerator='' | cacheManager='' | cacheResolver='' | condition='' | unless='' | sync='false'
	at org.springframework.cache.interceptor.CacheAspectSupport.generateKey(CacheAspectSupport.java:595)
	at org.springframework.cache.interceptor.CacheAspectSupport.findCachedItem(CacheAspectSupport.java:535)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:402)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:345)
	at org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:64)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.global.book.aspect.MeasurementAspect.logTime(MeasurementAspect.java:36)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.global.book.service.AuthorService$$EnhancerBySpringCGLIB$$f4d713fb.findAll(<generated>)
	at com.global.book.config.StartupApp.run(StartupApp.java:29)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:771)
	... 5 common frames omitted
2022-11-01 01:52:08,806 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [main] Custom destroy method 'shutdown' on bean with name 'amazonS3' threw an exception: java.lang.UnsupportedOperationException: Extend AbstractAmazonS3 to provide an implementation
2022-11-01 01:52:08,807 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-11-01 01:52:08,822 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown initiated...
2022-11-01 01:52:08,826 ERROR org.springframework.aop.interceptor.SimpleAsyncUncaughtExceptionHandler [AsynchThread::1] Unexpected exception occurred invoking async method: public void com.global.book.service.PriceSchedule.computeDiscount() throws java.lang.InterruptedException
org.springframework.transaction.CannotCreateTransactionException: Could not open JDBC Connection for transaction; nested exception is java.sql.SQLException: HikariDataSource HikariDataSource (HikariPool-1) has been closed.
	at org.springframework.jdbc.datasource.DataSourceTransactionManager.doBegin(DataSourceTransactionManager.java:309)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:137)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.execute(JdbcTemplateStorageAccessor.java:115)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.updateRecord(JdbcTemplateStorageAccessor.java:81)
	at net.javacrumbs.shedlock.support.StorageBasedLockProvider.doLock(StorageBasedLockProvider.java:91)
	at net.javacrumbs.shedlock.support.StorageBasedLockProvider.lock(StorageBasedLockProvider.java:65)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208)
	at jdk.proxy2/jdk.proxy2.$Proxy110.lock(Unknown Source)
	at net.javacrumbs.shedlock.core.DefaultLockingTaskExecutor.executeWithLock(DefaultLockingTaskExecutor.java:63)
	at net.javacrumbs.shedlock.spring.aop.MethodProxyScheduledLockAdvisor$LockingInterceptor.invoke(MethodProxyScheduledLockAdvisor.java:86)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.global.book.aspect.MeasurementAspect.logTime(MeasurementAspect.java:36)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.sql.SQLException: HikariDataSource HikariDataSource (HikariPool-1) has been closed.
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:96)
	at org.springframework.jdbc.datasource.DataSourceTransactionManager.doBegin(DataSourceTransactionManager.java:265)
	... 40 common frames omitted
2022-11-01 01:52:08,827 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown completed.
2022-11-01 01:53:38,229 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2022-11-01 01:53:38,233 INFO org.springframework.boot.StartupInfoLogger [main] Starting DataJpaBooksProjectApplication using Java 17.0.4.1 on DESKTOP-N2KRF5H with PID 22276 (C:\Users\princ\Desktop\projects\data-jpa-books-project\target\classes started by princ in C:\Users\princ\Desktop\projects\data-jpa-books-project)
2022-11-01 01:53:38,233 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.7.5, Spring v5.3.23
2022-11-01 01:53:38,234 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-11-01 01:53:38,889 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2022-11-01 01:53:38,891 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-11-01 01:53:38,989 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 94 ms. Found 2 JPA repository interfaces.
2022-11-01 01:53:39,485 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-11-01 01:53:39,492 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-11-01 01:53:39,492 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-11-01 01:53:39,493 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.68]
2022-11-01 01:53:39,570 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-11-01 01:53:39,570 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1308 ms
2022-11-01 01:53:39,922 ERROR org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Skipping filesystem location:\another\migration\directory (not found).
2022-11-01 01:53:39,924 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-11-01 01:53:40,024 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-11-01 01:53:40,030 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Flyway Community Edition 8.0.4 by Redgate
2022-11-01 01:53:40,030 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Database: jdbc:mysql://localhost:3306/book (MySQL 5.5)
2022-11-01 01:53:40,072 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully validated 2 migrations (execution time 00:00.012s)
2022-11-01 01:53:40,077 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Current version of schema `book`: 2
2022-11-01 01:53:40,077 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Schema `book` is up to date. No migration necessary.
2022-11-01 01:53:40,131 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-11-01 01:53:40,166 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.12.Final
2022-11-01 01:53:40,285 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-11-01 01:53:40,359 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-11-01 01:53:40,794 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-11-01 01:53:40,800 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-11-01 01:53:41,518 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-11-01 01:53:41,666 DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter [main] ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2022-11-01 01:53:41,744 DEBUG org.springframework.web.servlet.handler.AbstractHandlerMethodMapping [main] 28 mappings in 'requestMappingHandlerMapping'
2022-11-01 01:53:42,041 DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping [main] Patterns [/webjars/**, /**, /swagger-ui*/**] in 'resourceHandlerMapping'
2022-11-01 01:53:42,059 DEBUG org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver [main] ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2022-11-01 01:53:42,601 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 14 endpoint(s) beneath base path '/actuator'
2022-11-01 01:53:42,637 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2022-11-01 01:53:42,656 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2022-11-01 01:53:42,671 INFO org.springframework.boot.StartupInfoLogger [main] Started DataJpaBooksProjectApplication in 4.644 seconds (JVM running for 5.213)
2022-11-01 01:53:42,673 INFO com.global.book.aspect.LoggingAspect [AsynchThread::1] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:53:42,676 INFO com.global.book.aspect.LoggingAspect [main] ====>  Method Name is >> AuthorService.findAll()
2022-11-01 01:53:42,681 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-11-01 01:53:42,699 ERROR org.springframework.boot.SpringApplication [main] Application run failed
java.lang.IllegalStateException: Failed to execute CommandLineRunner
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:774)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:755)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at com.global.book.DataJpaBooksProjectApplication.main(DataJpaBooksProjectApplication.java:10)
Caused by: java.lang.IllegalArgumentException: Null key returned for cache operation (maybe you are using named params on classes without debug info?) Builder[public java.util.List com.global.book.service.AuthorService.findAll()] caches=[findAllauthors] | key='#author' | keyGenerator='' | cacheManager='' | cacheResolver='' | condition='' | unless='' | sync='false'
	at org.springframework.cache.interceptor.CacheAspectSupport.generateKey(CacheAspectSupport.java:595)
	at org.springframework.cache.interceptor.CacheAspectSupport.findCachedItem(CacheAspectSupport.java:535)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:402)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:345)
	at org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:64)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.global.book.aspect.MeasurementAspect.logTime(MeasurementAspect.java:36)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.global.book.service.AuthorService$$EnhancerBySpringCGLIB$$9565b1b0.findAll(<generated>)
	at com.global.book.config.StartupApp.run(StartupApp.java:29)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:771)
	... 5 common frames omitted
2022-11-01 01:53:42,726 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [main] Custom destroy method 'shutdown' on bean with name 'amazonS3' threw an exception: java.lang.UnsupportedOperationException: Extend AbstractAmazonS3 to provide an implementation
2022-11-01 01:53:42,727 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-11-01 01:53:42,741 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown initiated...
2022-11-01 01:53:42,746 WARN com.zaxxer.hikari.pool.ProxyConnection [AsynchThread::1] HikariPool-1 - Connection com.mysql.cj.jdbc.ConnectionImpl@23008137 marked as broken because of SQLSTATE(08003), ErrorCode(0)
java.sql.SQLNonTransientConnectionException: No operations allowed after connection closed.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:73)
	at com.mysql.cj.jdbc.ConnectionImpl.rollback(ConnectionImpl.java:1844)
	at com.zaxxer.hikari.pool.ProxyConnection.rollback(ProxyConnection.java:396)
	at com.zaxxer.hikari.pool.HikariProxyConnection.rollback(HikariProxyConnection.java)
	at org.springframework.jdbc.datasource.DataSourceTransactionManager.doRollback(DataSourceTransactionManager.java:348)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processRollback(AbstractPlatformTransactionManager.java:835)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.rollback(AbstractPlatformTransactionManager.java:809)
	at org.springframework.transaction.support.TransactionTemplate.rollbackOnException(TransactionTemplate.java:168)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:144)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.execute(JdbcTemplateStorageAccessor.java:115)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.insertRecord(JdbcTemplateStorageAccessor.java:68)
	at net.javacrumbs.shedlock.support.StorageBasedLockProvider.doLock(StorageBasedLockProvider.java:81)
	at net.javacrumbs.shedlock.support.StorageBasedLockProvider.lock(StorageBasedLockProvider.java:65)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208)
	at jdk.proxy2/jdk.proxy2.$Proxy110.lock(Unknown Source)
	at net.javacrumbs.shedlock.core.DefaultLockingTaskExecutor.executeWithLock(DefaultLockingTaskExecutor.java:63)
	at net.javacrumbs.shedlock.spring.aop.MethodProxyScheduledLockAdvisor$LockingInterceptor.invoke(MethodProxyScheduledLockAdvisor.java:86)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.global.book.aspect.MeasurementAspect.logTime(MeasurementAspect.java:36)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: com.mysql.cj.exceptions.ConnectionIsClosedException: No operations allowed after connection closed.
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.NativeSession.checkClosed(NativeSession.java:761)
	at com.mysql.cj.jdbc.ConnectionImpl.checkClosed(ConnectionImpl.java:568)
	at com.mysql.cj.jdbc.ConnectionImpl.rollback(ConnectionImpl.java:1798)
	... 44 common frames omitted
2022-11-01 01:53:42,747 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown completed.
2022-11-01 01:53:42,747 ERROR org.springframework.transaction.support.TransactionTemplate [AsynchThread::1] Application exception overridden by rollback exception
org.springframework.dao.DuplicateKeyException: PreparedStatementCallback; SQL [INSERT INTO shedlock(name, lock_until, locked_at, locked_by) VALUES(?, TIMESTAMPADD(MICROSECOND, ?, UTC_TIMESTAMP(3)), UTC_TIMESTAMP(3), ?)]; Duplicate entry 'bookComputeDiscount' for key 'PRIMARY'; nested exception is java.sql.SQLIntegrityConstraintViolationException: Duplicate entry 'bookComputeDiscount' for key 'PRIMARY'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:247)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1541)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:960)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:981)
	at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.update(NamedParameterJdbcTemplate.java:328)
	at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.update(NamedParameterJdbcTemplate.java:333)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.lambda$execute$0(JdbcTemplateStorageAccessor.java:115)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.execute(JdbcTemplateStorageAccessor.java:115)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.insertRecord(JdbcTemplateStorageAccessor.java:68)
	at net.javacrumbs.shedlock.support.StorageBasedLockProvider.doLock(StorageBasedLockProvider.java:81)
	at net.javacrumbs.shedlock.support.StorageBasedLockProvider.lock(StorageBasedLockProvider.java:65)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208)
	at jdk.proxy2/jdk.proxy2.$Proxy110.lock(Unknown Source)
	at net.javacrumbs.shedlock.core.DefaultLockingTaskExecutor.executeWithLock(DefaultLockingTaskExecutor.java:63)
	at net.javacrumbs.shedlock.spring.aop.MethodProxyScheduledLockAdvisor$LockingInterceptor.invoke(MethodProxyScheduledLockAdvisor.java:86)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.global.book.aspect.MeasurementAspect.logTime(MeasurementAspect.java:36)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry 'bookComputeDiscount' for key 'PRIMARY'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1061)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1009)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1320)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:994)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.springframework.jdbc.core.JdbcTemplate.lambda$update$2(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:651)
	... 43 common frames omitted
2022-11-01 01:53:42,747 ERROR net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor [AsynchThread::1] Unexpected exception
org.springframework.transaction.TransactionSystemException: JDBC rollback failed; nested exception is java.sql.SQLNonTransientConnectionException: No operations allowed after connection closed.
	at org.springframework.jdbc.datasource.DataSourceTransactionManager.translateException(DataSourceTransactionManager.java:435)
	at org.springframework.jdbc.datasource.DataSourceTransactionManager.doRollback(DataSourceTransactionManager.java:351)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processRollback(AbstractPlatformTransactionManager.java:835)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.rollback(AbstractPlatformTransactionManager.java:809)
	at org.springframework.transaction.support.TransactionTemplate.rollbackOnException(TransactionTemplate.java:168)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:144)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.execute(JdbcTemplateStorageAccessor.java:115)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.insertRecord(JdbcTemplateStorageAccessor.java:68)
	at net.javacrumbs.shedlock.support.StorageBasedLockProvider.doLock(StorageBasedLockProvider.java:81)
	at net.javacrumbs.shedlock.support.StorageBasedLockProvider.lock(StorageBasedLockProvider.java:65)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208)
	at jdk.proxy2/jdk.proxy2.$Proxy110.lock(Unknown Source)
	at net.javacrumbs.shedlock.core.DefaultLockingTaskExecutor.executeWithLock(DefaultLockingTaskExecutor.java:63)
	at net.javacrumbs.shedlock.spring.aop.MethodProxyScheduledLockAdvisor$LockingInterceptor.invoke(MethodProxyScheduledLockAdvisor.java:86)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.global.book.aspect.MeasurementAspect.logTime(MeasurementAspect.java:36)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.sql.SQLNonTransientConnectionException: No operations allowed after connection closed.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:73)
	at com.mysql.cj.jdbc.ConnectionImpl.rollback(ConnectionImpl.java:1844)
	at com.zaxxer.hikari.pool.ProxyConnection.rollback(ProxyConnection.java:396)
	at com.zaxxer.hikari.pool.HikariProxyConnection.rollback(HikariProxyConnection.java)
	at org.springframework.jdbc.datasource.DataSourceTransactionManager.doRollback(DataSourceTransactionManager.java:348)
	... 41 common frames omitted
Caused by: com.mysql.cj.exceptions.ConnectionIsClosedException: No operations allowed after connection closed.
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.NativeSession.checkClosed(NativeSession.java:761)
	at com.mysql.cj.jdbc.ConnectionImpl.checkClosed(ConnectionImpl.java:568)
	at com.mysql.cj.jdbc.ConnectionImpl.rollback(ConnectionImpl.java:1798)
	... 44 common frames omitted
2022-11-01 01:53:42,748 ERROR org.springframework.aop.interceptor.SimpleAsyncUncaughtExceptionHandler [AsynchThread::1] Unexpected exception occurred invoking async method: public void com.global.book.service.PriceSchedule.computeDiscount() throws java.lang.InterruptedException
org.springframework.transaction.CannotCreateTransactionException: Could not open JDBC Connection for transaction; nested exception is java.sql.SQLException: HikariDataSource HikariDataSource (HikariPool-1) has been closed.
	at org.springframework.jdbc.datasource.DataSourceTransactionManager.doBegin(DataSourceTransactionManager.java:309)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:137)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.execute(JdbcTemplateStorageAccessor.java:115)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.updateRecord(JdbcTemplateStorageAccessor.java:81)
	at net.javacrumbs.shedlock.support.StorageBasedLockProvider.doLock(StorageBasedLockProvider.java:91)
	at net.javacrumbs.shedlock.support.StorageBasedLockProvider.lock(StorageBasedLockProvider.java:65)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208)
	at jdk.proxy2/jdk.proxy2.$Proxy110.lock(Unknown Source)
	at net.javacrumbs.shedlock.core.DefaultLockingTaskExecutor.executeWithLock(DefaultLockingTaskExecutor.java:63)
	at net.javacrumbs.shedlock.spring.aop.MethodProxyScheduledLockAdvisor$LockingInterceptor.invoke(MethodProxyScheduledLockAdvisor.java:86)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.global.book.aspect.MeasurementAspect.logTime(MeasurementAspect.java:36)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.sql.SQLException: HikariDataSource HikariDataSource (HikariPool-1) has been closed.
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:96)
	at org.springframework.jdbc.datasource.DataSourceTransactionManager.doBegin(DataSourceTransactionManager.java:265)
	... 40 common frames omitted
2022-11-01 01:53:56,086 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2022-11-01 01:53:56,091 INFO org.springframework.boot.StartupInfoLogger [main] Starting DataJpaBooksProjectApplication using Java 17.0.4.1 on DESKTOP-N2KRF5H with PID 8760 (C:\Users\princ\Desktop\projects\data-jpa-books-project\target\classes started by princ in C:\Users\princ\Desktop\projects\data-jpa-books-project)
2022-11-01 01:53:56,091 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.7.5, Spring v5.3.23
2022-11-01 01:53:56,091 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-11-01 01:53:56,795 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2022-11-01 01:53:56,797 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-11-01 01:53:56,891 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 89 ms. Found 2 JPA repository interfaces.
2022-11-01 01:53:57,376 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-11-01 01:53:57,382 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-11-01 01:53:57,382 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-11-01 01:53:57,382 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.68]
2022-11-01 01:53:57,458 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-11-01 01:53:57,458 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1332 ms
2022-11-01 01:53:57,824 ERROR org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Skipping filesystem location:\another\migration\directory (not found).
2022-11-01 01:53:57,826 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-11-01 01:53:57,943 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-11-01 01:53:57,951 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Flyway Community Edition 8.0.4 by Redgate
2022-11-01 01:53:57,951 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Database: jdbc:mysql://localhost:3306/book (MySQL 5.5)
2022-11-01 01:53:57,999 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully validated 2 migrations (execution time 00:00.013s)
2022-11-01 01:53:58,007 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Current version of schema `book`: 2
2022-11-01 01:53:58,008 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Schema `book` is up to date. No migration necessary.
2022-11-01 01:53:58,072 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-11-01 01:53:58,107 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.12.Final
2022-11-01 01:53:58,227 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-11-01 01:53:58,311 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-11-01 01:53:58,793 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-11-01 01:53:58,798 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-11-01 01:53:59,543 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-11-01 01:53:59,694 DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter [main] ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2022-11-01 01:53:59,788 DEBUG org.springframework.web.servlet.handler.AbstractHandlerMethodMapping [main] 28 mappings in 'requestMappingHandlerMapping'
2022-11-01 01:54:00,140 DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping [main] Patterns [/webjars/**, /**, /swagger-ui*/**] in 'resourceHandlerMapping'
2022-11-01 01:54:00,163 DEBUG org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver [main] ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2022-11-01 01:54:00,853 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 14 endpoint(s) beneath base path '/actuator'
2022-11-01 01:54:00,893 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2022-11-01 01:54:00,915 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2022-11-01 01:54:00,930 INFO org.springframework.boot.StartupInfoLogger [main] Started DataJpaBooksProjectApplication in 5.078 seconds (JVM running for 5.657)
2022-11-01 01:54:00,933 INFO com.global.book.aspect.LoggingAspect [AsynchThread::1] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:54:00,936 INFO com.global.book.aspect.LoggingAspect [main] ====>  Method Name is >> AuthorService.findAll()
2022-11-01 01:54:00,951 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-11-01 01:54:00,968 ERROR org.springframework.boot.SpringApplication [main] Application run failed
java.lang.IllegalStateException: Failed to execute CommandLineRunner
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:774)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:755)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at com.global.book.DataJpaBooksProjectApplication.main(DataJpaBooksProjectApplication.java:10)
Caused by: java.lang.IllegalArgumentException: Null key returned for cache operation (maybe you are using named params on classes without debug info?) Builder[public java.util.List com.global.book.service.AuthorService.findAll()] caches=[findAllauthors] | key='#author' | keyGenerator='' | cacheManager='' | cacheResolver='' | condition='' | unless='' | sync='false'
	at org.springframework.cache.interceptor.CacheAspectSupport.generateKey(CacheAspectSupport.java:595)
	at org.springframework.cache.interceptor.CacheAspectSupport.findCachedItem(CacheAspectSupport.java:535)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:402)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:345)
	at org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:64)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.global.book.aspect.MeasurementAspect.logTime(MeasurementAspect.java:36)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.global.book.service.AuthorService$$EnhancerBySpringCGLIB$$11b23722.findAll(<generated>)
	at com.global.book.config.StartupApp.run(StartupApp.java:29)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:771)
	... 5 common frames omitted
2022-11-01 01:54:00,996 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [main] Custom destroy method 'shutdown' on bean with name 'amazonS3' threw an exception: java.lang.UnsupportedOperationException: Extend AbstractAmazonS3 to provide an implementation
2022-11-01 01:54:00,997 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-11-01 01:54:01,013 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown initiated...
2022-11-01 01:54:01,018 ERROR org.springframework.aop.interceptor.SimpleAsyncUncaughtExceptionHandler [AsynchThread::1] Unexpected exception occurred invoking async method: public void com.global.book.service.PriceSchedule.computeDiscount() throws java.lang.InterruptedException
org.springframework.transaction.CannotCreateTransactionException: Could not open JDBC Connection for transaction; nested exception is java.sql.SQLException: HikariDataSource HikariDataSource (HikariPool-1) has been closed.
	at org.springframework.jdbc.datasource.DataSourceTransactionManager.doBegin(DataSourceTransactionManager.java:309)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:137)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.execute(JdbcTemplateStorageAccessor.java:115)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.updateRecord(JdbcTemplateStorageAccessor.java:81)
	at net.javacrumbs.shedlock.support.StorageBasedLockProvider.doLock(StorageBasedLockProvider.java:91)
	at net.javacrumbs.shedlock.support.StorageBasedLockProvider.lock(StorageBasedLockProvider.java:65)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208)
	at jdk.proxy2/jdk.proxy2.$Proxy110.lock(Unknown Source)
	at net.javacrumbs.shedlock.core.DefaultLockingTaskExecutor.executeWithLock(DefaultLockingTaskExecutor.java:63)
	at net.javacrumbs.shedlock.spring.aop.MethodProxyScheduledLockAdvisor$LockingInterceptor.invoke(MethodProxyScheduledLockAdvisor.java:86)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.global.book.aspect.MeasurementAspect.logTime(MeasurementAspect.java:36)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.sql.SQLException: HikariDataSource HikariDataSource (HikariPool-1) has been closed.
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:96)
	at org.springframework.jdbc.datasource.DataSourceTransactionManager.doBegin(DataSourceTransactionManager.java:265)
	... 40 common frames omitted
2022-11-01 01:54:01,019 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown completed.
2022-11-01 01:57:13,831 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2022-11-01 01:57:13,836 INFO org.springframework.boot.StartupInfoLogger [main] Starting DataJpaBooksProjectApplication using Java 17.0.4.1 on DESKTOP-N2KRF5H with PID 15096 (C:\Users\princ\Desktop\projects\data-jpa-books-project\target\classes started by princ in C:\Users\princ\Desktop\projects\data-jpa-books-project)
2022-11-01 01:57:13,837 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.7.5, Spring v5.3.23
2022-11-01 01:57:13,837 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-11-01 01:57:14,476 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2022-11-01 01:57:14,477 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-11-01 01:57:14,569 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 87 ms. Found 2 JPA repository interfaces.
2022-11-01 01:57:15,063 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-11-01 01:57:15,070 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-11-01 01:57:15,071 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-11-01 01:57:15,071 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.68]
2022-11-01 01:57:15,147 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-11-01 01:57:15,147 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1281 ms
2022-11-01 01:57:15,495 ERROR org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Skipping filesystem location:\another\migration\directory (not found).
2022-11-01 01:57:15,496 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-11-01 01:57:15,602 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-11-01 01:57:15,608 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Flyway Community Edition 8.0.4 by Redgate
2022-11-01 01:57:15,608 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Database: jdbc:mysql://localhost:3306/book (MySQL 5.5)
2022-11-01 01:57:15,652 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully validated 2 migrations (execution time 00:00.013s)
2022-11-01 01:57:15,659 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Current version of schema `book`: 2
2022-11-01 01:57:15,659 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Schema `book` is up to date. No migration necessary.
2022-11-01 01:57:15,713 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-11-01 01:57:15,745 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.12.Final
2022-11-01 01:57:15,845 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-11-01 01:57:15,906 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-11-01 01:57:16,325 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-11-01 01:57:16,332 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-11-01 01:57:17,038 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-11-01 01:57:17,182 DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter [main] ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2022-11-01 01:57:17,262 DEBUG org.springframework.web.servlet.handler.AbstractHandlerMethodMapping [main] 28 mappings in 'requestMappingHandlerMapping'
2022-11-01 01:57:17,569 DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping [main] Patterns [/webjars/**, /**, /swagger-ui*/**] in 'resourceHandlerMapping'
2022-11-01 01:57:17,587 DEBUG org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver [main] ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2022-11-01 01:57:18,202 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 14 endpoint(s) beneath base path '/actuator'
2022-11-01 01:57:18,242 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2022-11-01 01:57:18,261 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2022-11-01 01:57:18,276 INFO org.springframework.boot.StartupInfoLogger [main] Started DataJpaBooksProjectApplication in 4.647 seconds (JVM running for 5.204)
2022-11-01 01:57:18,278 INFO com.global.book.aspect.LoggingAspect [AsynchThread::1] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 01:57:18,281 INFO com.global.book.aspect.LoggingAspect [main] ====>  Method Name is >> AuthorService.findAll()
2022-11-01 01:57:18,286 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-11-01 01:57:18,303 ERROR org.springframework.boot.SpringApplication [main] Application run failed
java.lang.IllegalStateException: Failed to execute CommandLineRunner
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:774)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:755)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at com.global.book.DataJpaBooksProjectApplication.main(DataJpaBooksProjectApplication.java:10)
Caused by: java.lang.IllegalArgumentException: Null key returned for cache operation (maybe you are using named params on classes without debug info?) Builder[public java.util.List com.global.book.service.AuthorService.findAll()] caches=[findAllauthors] | key='#author' | keyGenerator='' | cacheManager='' | cacheResolver='' | condition='' | unless='' | sync='false'
	at org.springframework.cache.interceptor.CacheAspectSupport.generateKey(CacheAspectSupport.java:595)
	at org.springframework.cache.interceptor.CacheAspectSupport.findCachedItem(CacheAspectSupport.java:535)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:402)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:345)
	at org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:64)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.global.book.aspect.MeasurementAspect.logTime(MeasurementAspect.java:36)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.global.book.service.AuthorService$$EnhancerBySpringCGLIB$$8734a5a9.findAll(<generated>)
	at com.global.book.config.StartupApp.run(StartupApp.java:29)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:771)
	... 5 common frames omitted
2022-11-01 01:57:18,330 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [main] Custom destroy method 'shutdown' on bean with name 'amazonS3' threw an exception: java.lang.UnsupportedOperationException: Extend AbstractAmazonS3 to provide an implementation
2022-11-01 01:57:18,331 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-11-01 01:57:18,347 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown initiated...
2022-11-01 01:57:18,353 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown completed.
2022-11-01 01:57:18,354 WARN com.zaxxer.hikari.pool.ProxyConnection [AsynchThread::1] HikariPool-1 - Connection com.mysql.cj.jdbc.ConnectionImpl@47d3ab1c marked as broken because of SQLSTATE(08007), ErrorCode(0)
java.sql.SQLNonTransientConnectionException: Communications link failure during rollback(). Transaction resolution unknown.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)
	at com.mysql.cj.jdbc.ConnectionImpl.rollback(ConnectionImpl.java:1835)
	at com.zaxxer.hikari.pool.ProxyConnection.rollback(ProxyConnection.java:396)
	at com.zaxxer.hikari.pool.HikariProxyConnection.rollback(HikariProxyConnection.java)
	at org.springframework.jdbc.datasource.DataSourceTransactionManager.doRollback(DataSourceTransactionManager.java:348)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processRollback(AbstractPlatformTransactionManager.java:835)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.rollback(AbstractPlatformTransactionManager.java:809)
	at org.springframework.transaction.support.TransactionTemplate.rollbackOnException(TransactionTemplate.java:168)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:144)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.execute(JdbcTemplateStorageAccessor.java:115)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.insertRecord(JdbcTemplateStorageAccessor.java:68)
	at net.javacrumbs.shedlock.support.StorageBasedLockProvider.doLock(StorageBasedLockProvider.java:81)
	at net.javacrumbs.shedlock.support.StorageBasedLockProvider.lock(StorageBasedLockProvider.java:65)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208)
	at jdk.proxy2/jdk.proxy2.$Proxy110.lock(Unknown Source)
	at net.javacrumbs.shedlock.core.DefaultLockingTaskExecutor.executeWithLock(DefaultLockingTaskExecutor.java:63)
	at net.javacrumbs.shedlock.spring.aop.MethodProxyScheduledLockAdvisor$LockingInterceptor.invoke(MethodProxyScheduledLockAdvisor.java:86)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.global.book.aspect.MeasurementAspect.logTime(MeasurementAspect.java:36)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
2022-11-01 01:57:18,355 ERROR org.springframework.transaction.support.TransactionTemplate [AsynchThread::1] Application exception overridden by rollback exception
org.springframework.dao.DuplicateKeyException: PreparedStatementCallback; SQL [INSERT INTO shedlock(name, lock_until, locked_at, locked_by) VALUES(?, TIMESTAMPADD(MICROSECOND, ?, UTC_TIMESTAMP(3)), UTC_TIMESTAMP(3), ?)]; Duplicate entry 'bookComputeDiscount' for key 'PRIMARY'; nested exception is java.sql.SQLIntegrityConstraintViolationException: Duplicate entry 'bookComputeDiscount' for key 'PRIMARY'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:247)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1541)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:960)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:981)
	at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.update(NamedParameterJdbcTemplate.java:328)
	at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.update(NamedParameterJdbcTemplate.java:333)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.lambda$execute$0(JdbcTemplateStorageAccessor.java:115)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.execute(JdbcTemplateStorageAccessor.java:115)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.insertRecord(JdbcTemplateStorageAccessor.java:68)
	at net.javacrumbs.shedlock.support.StorageBasedLockProvider.doLock(StorageBasedLockProvider.java:81)
	at net.javacrumbs.shedlock.support.StorageBasedLockProvider.lock(StorageBasedLockProvider.java:65)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208)
	at jdk.proxy2/jdk.proxy2.$Proxy110.lock(Unknown Source)
	at net.javacrumbs.shedlock.core.DefaultLockingTaskExecutor.executeWithLock(DefaultLockingTaskExecutor.java:63)
	at net.javacrumbs.shedlock.spring.aop.MethodProxyScheduledLockAdvisor$LockingInterceptor.invoke(MethodProxyScheduledLockAdvisor.java:86)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.global.book.aspect.MeasurementAspect.logTime(MeasurementAspect.java:36)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry 'bookComputeDiscount' for key 'PRIMARY'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1061)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1009)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1320)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:994)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.springframework.jdbc.core.JdbcTemplate.lambda$update$2(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:651)
	... 43 common frames omitted
2022-11-01 01:57:18,356 ERROR net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor [AsynchThread::1] Unexpected exception
org.springframework.transaction.TransactionSystemException: JDBC rollback failed; nested exception is java.sql.SQLNonTransientConnectionException: Communications link failure during rollback(). Transaction resolution unknown.
	at org.springframework.jdbc.datasource.DataSourceTransactionManager.translateException(DataSourceTransactionManager.java:435)
	at org.springframework.jdbc.datasource.DataSourceTransactionManager.doRollback(DataSourceTransactionManager.java:351)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processRollback(AbstractPlatformTransactionManager.java:835)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.rollback(AbstractPlatformTransactionManager.java:809)
	at org.springframework.transaction.support.TransactionTemplate.rollbackOnException(TransactionTemplate.java:168)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:144)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.execute(JdbcTemplateStorageAccessor.java:115)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.insertRecord(JdbcTemplateStorageAccessor.java:68)
	at net.javacrumbs.shedlock.support.StorageBasedLockProvider.doLock(StorageBasedLockProvider.java:81)
	at net.javacrumbs.shedlock.support.StorageBasedLockProvider.lock(StorageBasedLockProvider.java:65)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208)
	at jdk.proxy2/jdk.proxy2.$Proxy110.lock(Unknown Source)
	at net.javacrumbs.shedlock.core.DefaultLockingTaskExecutor.executeWithLock(DefaultLockingTaskExecutor.java:63)
	at net.javacrumbs.shedlock.spring.aop.MethodProxyScheduledLockAdvisor$LockingInterceptor.invoke(MethodProxyScheduledLockAdvisor.java:86)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.global.book.aspect.MeasurementAspect.logTime(MeasurementAspect.java:36)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.sql.SQLNonTransientConnectionException: Communications link failure during rollback(). Transaction resolution unknown.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)
	at com.mysql.cj.jdbc.ConnectionImpl.rollback(ConnectionImpl.java:1835)
	at com.zaxxer.hikari.pool.ProxyConnection.rollback(ProxyConnection.java:396)
	at com.zaxxer.hikari.pool.HikariProxyConnection.rollback(HikariProxyConnection.java)
	at org.springframework.jdbc.datasource.DataSourceTransactionManager.doRollback(DataSourceTransactionManager.java:348)
	... 41 common frames omitted
2022-11-01 01:57:18,356 ERROR org.springframework.aop.interceptor.SimpleAsyncUncaughtExceptionHandler [AsynchThread::1] Unexpected exception occurred invoking async method: public void com.global.book.service.PriceSchedule.computeDiscount() throws java.lang.InterruptedException
org.springframework.transaction.CannotCreateTransactionException: Could not open JDBC Connection for transaction; nested exception is java.sql.SQLException: HikariDataSource HikariDataSource (HikariPool-1) has been closed.
	at org.springframework.jdbc.datasource.DataSourceTransactionManager.doBegin(DataSourceTransactionManager.java:309)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:137)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.execute(JdbcTemplateStorageAccessor.java:115)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.updateRecord(JdbcTemplateStorageAccessor.java:81)
	at net.javacrumbs.shedlock.support.StorageBasedLockProvider.doLock(StorageBasedLockProvider.java:91)
	at net.javacrumbs.shedlock.support.StorageBasedLockProvider.lock(StorageBasedLockProvider.java:65)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208)
	at jdk.proxy2/jdk.proxy2.$Proxy110.lock(Unknown Source)
	at net.javacrumbs.shedlock.core.DefaultLockingTaskExecutor.executeWithLock(DefaultLockingTaskExecutor.java:63)
	at net.javacrumbs.shedlock.spring.aop.MethodProxyScheduledLockAdvisor$LockingInterceptor.invoke(MethodProxyScheduledLockAdvisor.java:86)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.global.book.aspect.MeasurementAspect.logTime(MeasurementAspect.java:36)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.sql.SQLException: HikariDataSource HikariDataSource (HikariPool-1) has been closed.
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:96)
	at org.springframework.jdbc.datasource.DataSourceTransactionManager.doBegin(DataSourceTransactionManager.java:265)
	... 40 common frames omitted
2022-11-01 01:59:41,939 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2022-11-01 01:59:41,944 INFO org.springframework.boot.StartupInfoLogger [main] Starting DataJpaBooksProjectApplication using Java 17.0.4.1 on DESKTOP-N2KRF5H with PID 3896 (C:\Users\princ\Desktop\projects\data-jpa-books-project\target\classes started by princ in C:\Users\princ\Desktop\projects\data-jpa-books-project)
2022-11-01 01:59:41,944 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.7.5, Spring v5.3.23
2022-11-01 01:59:41,945 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-11-01 01:59:42,704 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-11-01 01:59:42,756 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 45 ms. Found 2 JPA repository interfaces.
2022-11-01 01:59:43,394 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-11-01 01:59:43,401 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-11-01 01:59:43,401 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-11-01 01:59:43,401 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.68]
2022-11-01 01:59:43,485 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-11-01 01:59:43,485 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1508 ms
2022-11-01 01:59:43,677 WARN org.springframework.context.support.AbstractApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: 'entityManagerFactory' depends on missing bean 'cacheManager'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'cacheManager' available
2022-11-01 01:59:43,679 INFO org.apache.juli.logging.DirectJDKLog [main] Stopping service [Tomcat]
2022-11-01 01:59:43,693 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-11-01 01:59:43,706 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'cacheManager' that could not be found.


Action:

Consider defining a bean named 'cacheManager' in your configuration.

2022-11-01 02:00:14,884 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2022-11-01 02:00:14,889 INFO org.springframework.boot.StartupInfoLogger [main] Starting DataJpaBooksProjectApplication using Java 17.0.4.1 on DESKTOP-N2KRF5H with PID 22196 (C:\Users\princ\Desktop\projects\data-jpa-books-project\target\classes started by princ in C:\Users\princ\Desktop\projects\data-jpa-books-project)
2022-11-01 02:00:14,889 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.7.5, Spring v5.3.23
2022-11-01 02:00:14,889 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-11-01 02:00:15,492 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-11-01 02:00:15,529 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 32 ms. Found 2 JPA repository interfaces.
2022-11-01 02:00:16,022 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-11-01 02:00:16,028 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-11-01 02:00:16,028 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-11-01 02:00:16,028 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.68]
2022-11-01 02:00:16,100 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-11-01 02:00:16,101 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1185 ms
2022-11-01 02:00:16,322 ERROR org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Skipping filesystem location:\another\migration\directory (not found).
2022-11-01 02:00:16,324 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-11-01 02:00:16,426 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-11-01 02:00:16,432 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Flyway Community Edition 8.0.4 by Redgate
2022-11-01 02:00:16,433 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Database: jdbc:mysql://localhost:3306/book (MySQL 5.5)
2022-11-01 02:00:16,472 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully validated 2 migrations (execution time 00:00.011s)
2022-11-01 02:00:16,477 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Current version of schema `book`: 2
2022-11-01 02:00:16,478 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Schema `book` is up to date. No migration necessary.
2022-11-01 02:00:16,531 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-11-01 02:00:16,563 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.12.Final
2022-11-01 02:00:16,656 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-11-01 02:00:16,715 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-11-01 02:00:17,127 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-11-01 02:00:17,132 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-11-01 02:00:17,729 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-11-01 02:00:17,852 DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter [main] ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2022-11-01 02:00:17,928 DEBUG org.springframework.web.servlet.handler.AbstractHandlerMethodMapping [main] 28 mappings in 'requestMappingHandlerMapping'
2022-11-01 02:00:18,190 DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping [main] Patterns [/webjars/**, /**, /swagger-ui*/**] in 'resourceHandlerMapping'
2022-11-01 02:00:18,203 DEBUG org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver [main] ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2022-11-01 02:00:18,549 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 14 endpoint(s) beneath base path '/actuator'
2022-11-01 02:00:18,589 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2022-11-01 02:00:18,605 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2022-11-01 02:00:18,621 INFO org.springframework.boot.StartupInfoLogger [main] Started DataJpaBooksProjectApplication in 3.934 seconds (JVM running for 4.493)
2022-11-01 02:00:18,622 INFO com.global.book.aspect.LoggingAspect [AsynchThread::1] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 02:00:18,625 INFO com.global.book.aspect.LoggingAspect [main] ====>  Method Name is >> AuthorService.findAll()
2022-11-01 02:00:18,629 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-11-01 02:00:18,642 ERROR org.springframework.boot.SpringApplication [main] Application run failed
java.lang.IllegalStateException: Failed to execute CommandLineRunner
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:774)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:755)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at com.global.book.DataJpaBooksProjectApplication.main(DataJpaBooksProjectApplication.java:10)
Caused by: java.lang.IllegalArgumentException: Null key returned for cache operation (maybe you are using named params on classes without debug info?) Builder[public java.util.List com.global.book.service.AuthorService.findAll()] caches=[findAllauthors] | key='#author' | keyGenerator='' | cacheManager='' | cacheResolver='' | condition='' | unless='' | sync='false'
	at org.springframework.cache.interceptor.CacheAspectSupport.generateKey(CacheAspectSupport.java:595)
	at org.springframework.cache.interceptor.CacheAspectSupport.findCachedItem(CacheAspectSupport.java:535)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:402)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:345)
	at org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:64)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.global.book.aspect.MeasurementAspect.logTime(MeasurementAspect.java:36)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.global.book.service.AuthorService$$EnhancerBySpringCGLIB$$a9cb68c4.findAll(<generated>)
	at com.global.book.config.StartupApp.run(StartupApp.java:29)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:771)
	... 5 common frames omitted
2022-11-01 02:00:18,666 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [main] Custom destroy method 'shutdown' on bean with name 'amazonS3' threw an exception: java.lang.UnsupportedOperationException: Extend AbstractAmazonS3 to provide an implementation
2022-11-01 02:00:18,668 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-11-01 02:00:18,671 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown initiated...
2022-11-01 02:00:18,676 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown completed.
2022-11-01 02:00:18,684 WARN com.zaxxer.hikari.pool.ProxyConnection [AsynchThread::1] HikariPool-1 - Connection com.mysql.cj.jdbc.ConnectionImpl@19f9cffc marked as broken because of SQLSTATE(08003), ErrorCode(0)
java.sql.SQLNonTransientConnectionException: No operations allowed after connection closed.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:73)
	at com.mysql.cj.jdbc.ConnectionImpl.getMetaData(ConnectionImpl.java:1177)
	at com.mysql.cj.jdbc.ConnectionImpl.getMetaData(ConnectionImpl.java:1161)
	at com.zaxxer.hikari.pool.ProxyConnection.getMetaData(ProxyConnection.java:380)
	at com.zaxxer.hikari.pool.HikariProxyConnection.getMetaData(HikariProxyConnection.java)
	at org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:340)
	at org.springframework.jdbc.support.SQLErrorCodesFactory.resolveErrorCodes(SQLErrorCodesFactory.java:235)
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.lambda$setDataSource$0(SQLErrorCodeSQLExceptionTranslator.java:140)
	at org.springframework.util.function.SingletonSupplier.get(SingletonSupplier.java:97)
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.setDataSource(SQLErrorCodeSQLExceptionTranslator.java:141)
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.<init>(SQLErrorCodeSQLExceptionTranslator.java:102)
	at org.springframework.jdbc.support.JdbcAccessor.getExceptionTranslator(JdbcAccessor.java:136)
	at org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1541)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:960)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:981)
	at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.update(NamedParameterJdbcTemplate.java:328)
	at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.update(NamedParameterJdbcTemplate.java:333)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.lambda$execute$0(JdbcTemplateStorageAccessor.java:115)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.execute(JdbcTemplateStorageAccessor.java:115)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.insertRecord(JdbcTemplateStorageAccessor.java:68)
	at net.javacrumbs.shedlock.support.StorageBasedLockProvider.doLock(StorageBasedLockProvider.java:81)
	at net.javacrumbs.shedlock.support.StorageBasedLockProvider.lock(StorageBasedLockProvider.java:65)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208)
	at jdk.proxy2/jdk.proxy2.$Proxy110.lock(Unknown Source)
	at net.javacrumbs.shedlock.core.DefaultLockingTaskExecutor.executeWithLock(DefaultLockingTaskExecutor.java:63)
	at net.javacrumbs.shedlock.spring.aop.MethodProxyScheduledLockAdvisor$LockingInterceptor.invoke(MethodProxyScheduledLockAdvisor.java:86)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.global.book.aspect.MeasurementAspect.logTime(MeasurementAspect.java:36)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: com.mysql.cj.exceptions.ConnectionIsClosedException: No operations allowed after connection closed.
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.NativeSession.checkClosed(NativeSession.java:761)
	at com.mysql.cj.jdbc.ConnectionImpl.checkClosed(ConnectionImpl.java:568)
	at com.mysql.cj.jdbc.ConnectionImpl.getMetaData(ConnectionImpl.java:1166)
	... 55 common frames omitted
2022-11-01 02:00:18,685 WARN org.springframework.jdbc.support.SQLErrorCodesFactory [AsynchThread::1] Error while extracting database name
org.springframework.jdbc.support.MetaDataAccessException: Error while extracting DatabaseMetaData; nested exception is java.sql.SQLException: HikariDataSource HikariDataSource (HikariPool-1) has been closed.
	at org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:366)
	at org.springframework.jdbc.support.SQLErrorCodesFactory.resolveErrorCodes(SQLErrorCodesFactory.java:235)
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.lambda$setDataSource$0(SQLErrorCodeSQLExceptionTranslator.java:140)
	at org.springframework.util.function.SingletonSupplier.get(SingletonSupplier.java:97)
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.setDataSource(SQLErrorCodeSQLExceptionTranslator.java:141)
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.<init>(SQLErrorCodeSQLExceptionTranslator.java:102)
	at org.springframework.jdbc.support.JdbcAccessor.getExceptionTranslator(JdbcAccessor.java:136)
	at org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1541)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:960)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:981)
	at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.update(NamedParameterJdbcTemplate.java:328)
	at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.update(NamedParameterJdbcTemplate.java:333)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.lambda$execute$0(JdbcTemplateStorageAccessor.java:115)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.execute(JdbcTemplateStorageAccessor.java:115)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.insertRecord(JdbcTemplateStorageAccessor.java:68)
	at net.javacrumbs.shedlock.support.StorageBasedLockProvider.doLock(StorageBasedLockProvider.java:81)
	at net.javacrumbs.shedlock.support.StorageBasedLockProvider.lock(StorageBasedLockProvider.java:65)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208)
	at jdk.proxy2/jdk.proxy2.$Proxy110.lock(Unknown Source)
	at net.javacrumbs.shedlock.core.DefaultLockingTaskExecutor.executeWithLock(DefaultLockingTaskExecutor.java:63)
	at net.javacrumbs.shedlock.spring.aop.MethodProxyScheduledLockAdvisor$LockingInterceptor.invoke(MethodProxyScheduledLockAdvisor.java:86)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.global.book.aspect.MeasurementAspect.logTime(MeasurementAspect.java:36)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.sql.SQLException: HikariDataSource HikariDataSource (HikariPool-1) has been closed.
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:96)
	at org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:349)
	... 51 common frames omitted
2022-11-01 02:00:18,685 WARN org.springframework.jdbc.support.SQLErrorCodesFactory [AsynchThread::1] Error while extracting database name
org.springframework.jdbc.support.MetaDataAccessException: Error while extracting DatabaseMetaData; nested exception is java.sql.SQLException: HikariDataSource HikariDataSource (HikariPool-1) has been closed.
	at org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:366)
	at org.springframework.jdbc.support.SQLErrorCodesFactory.resolveErrorCodes(SQLErrorCodesFactory.java:235)
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.lambda$setDataSource$0(SQLErrorCodeSQLExceptionTranslator.java:140)
	at org.springframework.util.function.SingletonSupplier.get(SingletonSupplier.java:97)
	at org.springframework.util.function.SupplierUtils.resolve(SupplierUtils.java:40)
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.getSqlErrorCodes(SQLErrorCodeSQLExceptionTranslator.java:171)
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:193)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1541)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:960)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:981)
	at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.update(NamedParameterJdbcTemplate.java:328)
	at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.update(NamedParameterJdbcTemplate.java:333)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.lambda$execute$0(JdbcTemplateStorageAccessor.java:115)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.execute(JdbcTemplateStorageAccessor.java:115)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.insertRecord(JdbcTemplateStorageAccessor.java:68)
	at net.javacrumbs.shedlock.support.StorageBasedLockProvider.doLock(StorageBasedLockProvider.java:81)
	at net.javacrumbs.shedlock.support.StorageBasedLockProvider.lock(StorageBasedLockProvider.java:65)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208)
	at jdk.proxy2/jdk.proxy2.$Proxy110.lock(Unknown Source)
	at net.javacrumbs.shedlock.core.DefaultLockingTaskExecutor.executeWithLock(DefaultLockingTaskExecutor.java:63)
	at net.javacrumbs.shedlock.spring.aop.MethodProxyScheduledLockAdvisor$LockingInterceptor.invoke(MethodProxyScheduledLockAdvisor.java:86)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.global.book.aspect.MeasurementAspect.logTime(MeasurementAspect.java:36)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.sql.SQLException: HikariDataSource HikariDataSource (HikariPool-1) has been closed.
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:96)
	at org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:349)
	... 52 common frames omitted
2022-11-01 02:00:18,686 ERROR org.springframework.transaction.support.TransactionTemplate [AsynchThread::1] Application exception overridden by rollback exception
org.springframework.dao.DataIntegrityViolationException: PreparedStatementCallback; SQL [INSERT INTO shedlock(name, lock_until, locked_at, locked_by) VALUES(?, TIMESTAMPADD(MICROSECOND, ?, UTC_TIMESTAMP(3)), UTC_TIMESTAMP(3), ?)]; Duplicate entry 'bookComputeDiscount' for key 'PRIMARY'; nested exception is java.sql.SQLIntegrityConstraintViolationException: Duplicate entry 'bookComputeDiscount' for key 'PRIMARY'
	at org.springframework.jdbc.support.SQLExceptionSubclassTranslator.doTranslate(SQLExceptionSubclassTranslator.java:87)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:79)
	at org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1541)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:960)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:981)
	at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.update(NamedParameterJdbcTemplate.java:328)
	at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.update(NamedParameterJdbcTemplate.java:333)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.lambda$execute$0(JdbcTemplateStorageAccessor.java:115)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.execute(JdbcTemplateStorageAccessor.java:115)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.insertRecord(JdbcTemplateStorageAccessor.java:68)
	at net.javacrumbs.shedlock.support.StorageBasedLockProvider.doLock(StorageBasedLockProvider.java:81)
	at net.javacrumbs.shedlock.support.StorageBasedLockProvider.lock(StorageBasedLockProvider.java:65)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208)
	at jdk.proxy2/jdk.proxy2.$Proxy110.lock(Unknown Source)
	at net.javacrumbs.shedlock.core.DefaultLockingTaskExecutor.executeWithLock(DefaultLockingTaskExecutor.java:63)
	at net.javacrumbs.shedlock.spring.aop.MethodProxyScheduledLockAdvisor$LockingInterceptor.invoke(MethodProxyScheduledLockAdvisor.java:86)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.global.book.aspect.MeasurementAspect.logTime(MeasurementAspect.java:36)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry 'bookComputeDiscount' for key 'PRIMARY'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1061)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1009)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1320)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:994)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.springframework.jdbc.core.JdbcTemplate.lambda$update$2(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:651)
	... 43 common frames omitted
2022-11-01 02:00:18,686 ERROR net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor [AsynchThread::1] Unexpected exception
org.springframework.transaction.TransactionSystemException: JDBC rollback failed; nested exception is java.sql.SQLException: Connection is closed
	at org.springframework.jdbc.datasource.DataSourceTransactionManager.translateException(DataSourceTransactionManager.java:435)
	at org.springframework.jdbc.datasource.DataSourceTransactionManager.doRollback(DataSourceTransactionManager.java:351)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processRollback(AbstractPlatformTransactionManager.java:835)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.rollback(AbstractPlatformTransactionManager.java:809)
	at org.springframework.transaction.support.TransactionTemplate.rollbackOnException(TransactionTemplate.java:168)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:144)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.execute(JdbcTemplateStorageAccessor.java:115)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.insertRecord(JdbcTemplateStorageAccessor.java:68)
	at net.javacrumbs.shedlock.support.StorageBasedLockProvider.doLock(StorageBasedLockProvider.java:81)
	at net.javacrumbs.shedlock.support.StorageBasedLockProvider.lock(StorageBasedLockProvider.java:65)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208)
	at jdk.proxy2/jdk.proxy2.$Proxy110.lock(Unknown Source)
	at net.javacrumbs.shedlock.core.DefaultLockingTaskExecutor.executeWithLock(DefaultLockingTaskExecutor.java:63)
	at net.javacrumbs.shedlock.spring.aop.MethodProxyScheduledLockAdvisor$LockingInterceptor.invoke(MethodProxyScheduledLockAdvisor.java:86)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.global.book.aspect.MeasurementAspect.logTime(MeasurementAspect.java:36)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.sql.SQLException: Connection is closed
	at com.zaxxer.hikari.pool.ProxyConnection$ClosedConnection.lambda$getClosedConnection$0(ProxyConnection.java:515)
	at jdk.proxy3/jdk.proxy3.$Proxy126.rollback(Unknown Source)
	at com.zaxxer.hikari.pool.ProxyConnection.rollback(ProxyConnection.java:396)
	at com.zaxxer.hikari.pool.HikariProxyConnection.rollback(HikariProxyConnection.java)
	at org.springframework.jdbc.datasource.DataSourceTransactionManager.doRollback(DataSourceTransactionManager.java:348)
	... 41 common frames omitted
2022-11-01 02:00:18,687 ERROR org.springframework.aop.interceptor.SimpleAsyncUncaughtExceptionHandler [AsynchThread::1] Unexpected exception occurred invoking async method: public void com.global.book.service.PriceSchedule.computeDiscount() throws java.lang.InterruptedException
org.springframework.transaction.CannotCreateTransactionException: Could not open JDBC Connection for transaction; nested exception is java.sql.SQLException: HikariDataSource HikariDataSource (HikariPool-1) has been closed.
	at org.springframework.jdbc.datasource.DataSourceTransactionManager.doBegin(DataSourceTransactionManager.java:309)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:137)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.execute(JdbcTemplateStorageAccessor.java:115)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.updateRecord(JdbcTemplateStorageAccessor.java:81)
	at net.javacrumbs.shedlock.support.StorageBasedLockProvider.doLock(StorageBasedLockProvider.java:91)
	at net.javacrumbs.shedlock.support.StorageBasedLockProvider.lock(StorageBasedLockProvider.java:65)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208)
	at jdk.proxy2/jdk.proxy2.$Proxy110.lock(Unknown Source)
	at net.javacrumbs.shedlock.core.DefaultLockingTaskExecutor.executeWithLock(DefaultLockingTaskExecutor.java:63)
	at net.javacrumbs.shedlock.spring.aop.MethodProxyScheduledLockAdvisor$LockingInterceptor.invoke(MethodProxyScheduledLockAdvisor.java:86)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.global.book.aspect.MeasurementAspect.logTime(MeasurementAspect.java:36)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.sql.SQLException: HikariDataSource HikariDataSource (HikariPool-1) has been closed.
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:96)
	at org.springframework.jdbc.datasource.DataSourceTransactionManager.doBegin(DataSourceTransactionManager.java:265)
	... 40 common frames omitted
2022-11-01 02:00:49,839 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2022-11-01 02:00:49,843 INFO org.springframework.boot.StartupInfoLogger [main] Starting DataJpaBooksProjectApplication using Java 17.0.4.1 on DESKTOP-N2KRF5H with PID 12560 (C:\Users\princ\Desktop\projects\data-jpa-books-project\target\classes started by princ in C:\Users\princ\Desktop\projects\data-jpa-books-project)
2022-11-01 02:00:49,844 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.7.5, Spring v5.3.23
2022-11-01 02:00:49,844 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-11-01 02:00:50,445 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-11-01 02:00:50,481 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 32 ms. Found 2 JPA repository interfaces.
2022-11-01 02:00:50,959 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-11-01 02:00:50,965 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-11-01 02:00:50,965 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-11-01 02:00:50,965 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.68]
2022-11-01 02:00:51,038 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-11-01 02:00:51,038 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1166 ms
2022-11-01 02:00:51,250 ERROR org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Skipping filesystem location:\another\migration\directory (not found).
2022-11-01 02:00:51,252 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-11-01 02:00:51,352 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-11-01 02:00:51,358 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Flyway Community Edition 8.0.4 by Redgate
2022-11-01 02:00:51,358 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Database: jdbc:mysql://localhost:3306/book (MySQL 5.5)
2022-11-01 02:00:51,398 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully validated 2 migrations (execution time 00:00.012s)
2022-11-01 02:00:51,404 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Current version of schema `book`: 2
2022-11-01 02:00:51,404 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Schema `book` is up to date. No migration necessary.
2022-11-01 02:00:51,457 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-11-01 02:00:51,489 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.12.Final
2022-11-01 02:00:51,574 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-11-01 02:00:51,633 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-11-01 02:00:52,040 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-11-01 02:00:52,045 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-11-01 02:00:52,645 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-11-01 02:00:52,770 DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter [main] ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2022-11-01 02:00:52,842 DEBUG org.springframework.web.servlet.handler.AbstractHandlerMethodMapping [main] 28 mappings in 'requestMappingHandlerMapping'
2022-11-01 02:00:53,081 DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping [main] Patterns [/webjars/**, /**, /swagger-ui*/**] in 'resourceHandlerMapping'
2022-11-01 02:00:53,092 DEBUG org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver [main] ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2022-11-01 02:00:53,419 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 14 endpoint(s) beneath base path '/actuator'
2022-11-01 02:00:53,457 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2022-11-01 02:00:53,476 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2022-11-01 02:00:53,490 INFO org.springframework.boot.StartupInfoLogger [main] Started DataJpaBooksProjectApplication in 3.848 seconds (JVM running for 4.427)
2022-11-01 02:00:53,492 INFO com.global.book.aspect.LoggingAspect [AsynchThread::1] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 02:00:53,494 INFO com.global.book.aspect.LoggingAspect [main] ====>  Method Name is >> AuthorService.findAll()
2022-11-01 02:00:53,499 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-11-01 02:00:53,513 ERROR org.springframework.boot.SpringApplication [main] Application run failed
java.lang.IllegalStateException: Failed to execute CommandLineRunner
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:774)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:755)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at com.global.book.DataJpaBooksProjectApplication.main(DataJpaBooksProjectApplication.java:10)
Caused by: java.lang.IllegalArgumentException: Null key returned for cache operation (maybe you are using named params on classes without debug info?) Builder[public java.util.List com.global.book.service.AuthorService.findAll()] caches=[findAllauthors] | key='#author' | keyGenerator='' | cacheManager='' | cacheResolver='' | condition='' | unless='' | sync='false'
	at org.springframework.cache.interceptor.CacheAspectSupport.generateKey(CacheAspectSupport.java:595)
	at org.springframework.cache.interceptor.CacheAspectSupport.findCachedItem(CacheAspectSupport.java:535)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:402)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:345)
	at org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:64)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.global.book.aspect.MeasurementAspect.logTime(MeasurementAspect.java:36)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.global.book.service.AuthorService$$EnhancerBySpringCGLIB$$77fb1b3a.findAll(<generated>)
	at com.global.book.config.StartupApp.run(StartupApp.java:29)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:771)
	... 5 common frames omitted
2022-11-01 02:00:53,538 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [main] Custom destroy method 'shutdown' on bean with name 'amazonS3' threw an exception: java.lang.UnsupportedOperationException: Extend AbstractAmazonS3 to provide an implementation
2022-11-01 02:00:53,539 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-11-01 02:00:53,543 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown initiated...
2022-11-01 02:00:53,548 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown completed.
2022-11-01 02:00:53,557 WARN com.zaxxer.hikari.pool.ProxyConnection [AsynchThread::1] HikariPool-1 - Connection com.mysql.cj.jdbc.ConnectionImpl@443a1624 marked as broken because of SQLSTATE(08003), ErrorCode(0)
java.sql.SQLNonTransientConnectionException: No operations allowed after connection closed.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:73)
	at com.mysql.cj.jdbc.ConnectionImpl.getMetaData(ConnectionImpl.java:1177)
	at com.mysql.cj.jdbc.ConnectionImpl.getMetaData(ConnectionImpl.java:1161)
	at com.zaxxer.hikari.pool.ProxyConnection.getMetaData(ProxyConnection.java:380)
	at com.zaxxer.hikari.pool.HikariProxyConnection.getMetaData(HikariProxyConnection.java)
	at org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:340)
	at org.springframework.jdbc.support.SQLErrorCodesFactory.resolveErrorCodes(SQLErrorCodesFactory.java:235)
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.lambda$setDataSource$0(SQLErrorCodeSQLExceptionTranslator.java:140)
	at org.springframework.util.function.SingletonSupplier.get(SingletonSupplier.java:97)
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.setDataSource(SQLErrorCodeSQLExceptionTranslator.java:141)
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.<init>(SQLErrorCodeSQLExceptionTranslator.java:102)
	at org.springframework.jdbc.support.JdbcAccessor.getExceptionTranslator(JdbcAccessor.java:136)
	at org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1541)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:960)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:981)
	at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.update(NamedParameterJdbcTemplate.java:328)
	at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.update(NamedParameterJdbcTemplate.java:333)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.lambda$execute$0(JdbcTemplateStorageAccessor.java:115)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.execute(JdbcTemplateStorageAccessor.java:115)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.insertRecord(JdbcTemplateStorageAccessor.java:68)
	at net.javacrumbs.shedlock.support.StorageBasedLockProvider.doLock(StorageBasedLockProvider.java:81)
	at net.javacrumbs.shedlock.support.StorageBasedLockProvider.lock(StorageBasedLockProvider.java:65)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208)
	at jdk.proxy2/jdk.proxy2.$Proxy110.lock(Unknown Source)
	at net.javacrumbs.shedlock.core.DefaultLockingTaskExecutor.executeWithLock(DefaultLockingTaskExecutor.java:63)
	at net.javacrumbs.shedlock.spring.aop.MethodProxyScheduledLockAdvisor$LockingInterceptor.invoke(MethodProxyScheduledLockAdvisor.java:86)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.global.book.aspect.MeasurementAspect.logTime(MeasurementAspect.java:36)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: com.mysql.cj.exceptions.ConnectionIsClosedException: No operations allowed after connection closed.
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.NativeSession.checkClosed(NativeSession.java:761)
	at com.mysql.cj.jdbc.ConnectionImpl.checkClosed(ConnectionImpl.java:568)
	at com.mysql.cj.jdbc.ConnectionImpl.getMetaData(ConnectionImpl.java:1166)
	... 55 common frames omitted
2022-11-01 02:00:53,558 WARN org.springframework.jdbc.support.SQLErrorCodesFactory [AsynchThread::1] Error while extracting database name
org.springframework.jdbc.support.MetaDataAccessException: Error while extracting DatabaseMetaData; nested exception is java.sql.SQLException: HikariDataSource HikariDataSource (HikariPool-1) has been closed.
	at org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:366)
	at org.springframework.jdbc.support.SQLErrorCodesFactory.resolveErrorCodes(SQLErrorCodesFactory.java:235)
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.lambda$setDataSource$0(SQLErrorCodeSQLExceptionTranslator.java:140)
	at org.springframework.util.function.SingletonSupplier.get(SingletonSupplier.java:97)
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.setDataSource(SQLErrorCodeSQLExceptionTranslator.java:141)
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.<init>(SQLErrorCodeSQLExceptionTranslator.java:102)
	at org.springframework.jdbc.support.JdbcAccessor.getExceptionTranslator(JdbcAccessor.java:136)
	at org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1541)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:960)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:981)
	at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.update(NamedParameterJdbcTemplate.java:328)
	at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.update(NamedParameterJdbcTemplate.java:333)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.lambda$execute$0(JdbcTemplateStorageAccessor.java:115)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.execute(JdbcTemplateStorageAccessor.java:115)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.insertRecord(JdbcTemplateStorageAccessor.java:68)
	at net.javacrumbs.shedlock.support.StorageBasedLockProvider.doLock(StorageBasedLockProvider.java:81)
	at net.javacrumbs.shedlock.support.StorageBasedLockProvider.lock(StorageBasedLockProvider.java:65)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208)
	at jdk.proxy2/jdk.proxy2.$Proxy110.lock(Unknown Source)
	at net.javacrumbs.shedlock.core.DefaultLockingTaskExecutor.executeWithLock(DefaultLockingTaskExecutor.java:63)
	at net.javacrumbs.shedlock.spring.aop.MethodProxyScheduledLockAdvisor$LockingInterceptor.invoke(MethodProxyScheduledLockAdvisor.java:86)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.global.book.aspect.MeasurementAspect.logTime(MeasurementAspect.java:36)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.sql.SQLException: HikariDataSource HikariDataSource (HikariPool-1) has been closed.
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:96)
	at org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:349)
	... 51 common frames omitted
2022-11-01 02:00:53,558 WARN org.springframework.jdbc.support.SQLErrorCodesFactory [AsynchThread::1] Error while extracting database name
org.springframework.jdbc.support.MetaDataAccessException: Error while extracting DatabaseMetaData; nested exception is java.sql.SQLException: HikariDataSource HikariDataSource (HikariPool-1) has been closed.
	at org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:366)
	at org.springframework.jdbc.support.SQLErrorCodesFactory.resolveErrorCodes(SQLErrorCodesFactory.java:235)
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.lambda$setDataSource$0(SQLErrorCodeSQLExceptionTranslator.java:140)
	at org.springframework.util.function.SingletonSupplier.get(SingletonSupplier.java:97)
	at org.springframework.util.function.SupplierUtils.resolve(SupplierUtils.java:40)
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.getSqlErrorCodes(SQLErrorCodeSQLExceptionTranslator.java:171)
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:193)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1541)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:960)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:981)
	at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.update(NamedParameterJdbcTemplate.java:328)
	at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.update(NamedParameterJdbcTemplate.java:333)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.lambda$execute$0(JdbcTemplateStorageAccessor.java:115)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.execute(JdbcTemplateStorageAccessor.java:115)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.insertRecord(JdbcTemplateStorageAccessor.java:68)
	at net.javacrumbs.shedlock.support.StorageBasedLockProvider.doLock(StorageBasedLockProvider.java:81)
	at net.javacrumbs.shedlock.support.StorageBasedLockProvider.lock(StorageBasedLockProvider.java:65)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208)
	at jdk.proxy2/jdk.proxy2.$Proxy110.lock(Unknown Source)
	at net.javacrumbs.shedlock.core.DefaultLockingTaskExecutor.executeWithLock(DefaultLockingTaskExecutor.java:63)
	at net.javacrumbs.shedlock.spring.aop.MethodProxyScheduledLockAdvisor$LockingInterceptor.invoke(MethodProxyScheduledLockAdvisor.java:86)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.global.book.aspect.MeasurementAspect.logTime(MeasurementAspect.java:36)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.sql.SQLException: HikariDataSource HikariDataSource (HikariPool-1) has been closed.
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:96)
	at org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:349)
	... 52 common frames omitted
2022-11-01 02:00:53,559 ERROR org.springframework.transaction.support.TransactionTemplate [AsynchThread::1] Application exception overridden by rollback exception
org.springframework.dao.DataIntegrityViolationException: PreparedStatementCallback; SQL [INSERT INTO shedlock(name, lock_until, locked_at, locked_by) VALUES(?, TIMESTAMPADD(MICROSECOND, ?, UTC_TIMESTAMP(3)), UTC_TIMESTAMP(3), ?)]; Duplicate entry 'bookComputeDiscount' for key 'PRIMARY'; nested exception is java.sql.SQLIntegrityConstraintViolationException: Duplicate entry 'bookComputeDiscount' for key 'PRIMARY'
	at org.springframework.jdbc.support.SQLExceptionSubclassTranslator.doTranslate(SQLExceptionSubclassTranslator.java:87)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:79)
	at org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1541)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:960)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:981)
	at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.update(NamedParameterJdbcTemplate.java:328)
	at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.update(NamedParameterJdbcTemplate.java:333)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.lambda$execute$0(JdbcTemplateStorageAccessor.java:115)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.execute(JdbcTemplateStorageAccessor.java:115)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.insertRecord(JdbcTemplateStorageAccessor.java:68)
	at net.javacrumbs.shedlock.support.StorageBasedLockProvider.doLock(StorageBasedLockProvider.java:81)
	at net.javacrumbs.shedlock.support.StorageBasedLockProvider.lock(StorageBasedLockProvider.java:65)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208)
	at jdk.proxy2/jdk.proxy2.$Proxy110.lock(Unknown Source)
	at net.javacrumbs.shedlock.core.DefaultLockingTaskExecutor.executeWithLock(DefaultLockingTaskExecutor.java:63)
	at net.javacrumbs.shedlock.spring.aop.MethodProxyScheduledLockAdvisor$LockingInterceptor.invoke(MethodProxyScheduledLockAdvisor.java:86)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.global.book.aspect.MeasurementAspect.logTime(MeasurementAspect.java:36)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry 'bookComputeDiscount' for key 'PRIMARY'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1061)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1009)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1320)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:994)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.springframework.jdbc.core.JdbcTemplate.lambda$update$2(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:651)
	... 43 common frames omitted
2022-11-01 02:00:53,559 ERROR net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor [AsynchThread::1] Unexpected exception
org.springframework.transaction.TransactionSystemException: JDBC rollback failed; nested exception is java.sql.SQLException: Connection is closed
	at org.springframework.jdbc.datasource.DataSourceTransactionManager.translateException(DataSourceTransactionManager.java:435)
	at org.springframework.jdbc.datasource.DataSourceTransactionManager.doRollback(DataSourceTransactionManager.java:351)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processRollback(AbstractPlatformTransactionManager.java:835)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.rollback(AbstractPlatformTransactionManager.java:809)
	at org.springframework.transaction.support.TransactionTemplate.rollbackOnException(TransactionTemplate.java:168)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:144)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.execute(JdbcTemplateStorageAccessor.java:115)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.insertRecord(JdbcTemplateStorageAccessor.java:68)
	at net.javacrumbs.shedlock.support.StorageBasedLockProvider.doLock(StorageBasedLockProvider.java:81)
	at net.javacrumbs.shedlock.support.StorageBasedLockProvider.lock(StorageBasedLockProvider.java:65)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208)
	at jdk.proxy2/jdk.proxy2.$Proxy110.lock(Unknown Source)
	at net.javacrumbs.shedlock.core.DefaultLockingTaskExecutor.executeWithLock(DefaultLockingTaskExecutor.java:63)
	at net.javacrumbs.shedlock.spring.aop.MethodProxyScheduledLockAdvisor$LockingInterceptor.invoke(MethodProxyScheduledLockAdvisor.java:86)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.global.book.aspect.MeasurementAspect.logTime(MeasurementAspect.java:36)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.sql.SQLException: Connection is closed
	at com.zaxxer.hikari.pool.ProxyConnection$ClosedConnection.lambda$getClosedConnection$0(ProxyConnection.java:515)
	at jdk.proxy3/jdk.proxy3.$Proxy126.rollback(Unknown Source)
	at com.zaxxer.hikari.pool.ProxyConnection.rollback(ProxyConnection.java:396)
	at com.zaxxer.hikari.pool.HikariProxyConnection.rollback(HikariProxyConnection.java)
	at org.springframework.jdbc.datasource.DataSourceTransactionManager.doRollback(DataSourceTransactionManager.java:348)
	... 41 common frames omitted
2022-11-01 02:00:53,560 ERROR org.springframework.aop.interceptor.SimpleAsyncUncaughtExceptionHandler [AsynchThread::1] Unexpected exception occurred invoking async method: public void com.global.book.service.PriceSchedule.computeDiscount() throws java.lang.InterruptedException
org.springframework.transaction.CannotCreateTransactionException: Could not open JDBC Connection for transaction; nested exception is java.sql.SQLException: HikariDataSource HikariDataSource (HikariPool-1) has been closed.
	at org.springframework.jdbc.datasource.DataSourceTransactionManager.doBegin(DataSourceTransactionManager.java:309)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:137)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.execute(JdbcTemplateStorageAccessor.java:115)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.updateRecord(JdbcTemplateStorageAccessor.java:81)
	at net.javacrumbs.shedlock.support.StorageBasedLockProvider.doLock(StorageBasedLockProvider.java:91)
	at net.javacrumbs.shedlock.support.StorageBasedLockProvider.lock(StorageBasedLockProvider.java:65)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208)
	at jdk.proxy2/jdk.proxy2.$Proxy110.lock(Unknown Source)
	at net.javacrumbs.shedlock.core.DefaultLockingTaskExecutor.executeWithLock(DefaultLockingTaskExecutor.java:63)
	at net.javacrumbs.shedlock.spring.aop.MethodProxyScheduledLockAdvisor$LockingInterceptor.invoke(MethodProxyScheduledLockAdvisor.java:86)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.global.book.aspect.MeasurementAspect.logTime(MeasurementAspect.java:36)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.sql.SQLException: HikariDataSource HikariDataSource (HikariPool-1) has been closed.
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:96)
	at org.springframework.jdbc.datasource.DataSourceTransactionManager.doBegin(DataSourceTransactionManager.java:265)
	... 40 common frames omitted
2022-11-01 02:01:03,333 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2022-11-01 02:01:03,338 INFO org.springframework.boot.StartupInfoLogger [main] Starting DataJpaBooksProjectApplication using Java 17.0.4.1 on DESKTOP-N2KRF5H with PID 18880 (C:\Users\princ\Desktop\projects\data-jpa-books-project\target\classes started by princ in C:\Users\princ\Desktop\projects\data-jpa-books-project)
2022-11-01 02:01:03,338 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.7.5, Spring v5.3.23
2022-11-01 02:01:03,338 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-11-01 02:01:03,952 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-11-01 02:01:03,991 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 33 ms. Found 2 JPA repository interfaces.
2022-11-01 02:01:04,472 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-11-01 02:01:04,478 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-11-01 02:01:04,479 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-11-01 02:01:04,479 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.68]
2022-11-01 02:01:04,553 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-11-01 02:01:04,554 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1186 ms
2022-11-01 02:01:04,775 ERROR org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Skipping filesystem location:\another\migration\directory (not found).
2022-11-01 02:01:04,776 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-11-01 02:01:04,889 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-11-01 02:01:04,896 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Flyway Community Edition 8.0.4 by Redgate
2022-11-01 02:01:04,896 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Database: jdbc:mysql://localhost:3306/book (MySQL 5.5)
2022-11-01 02:01:04,942 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully validated 2 migrations (execution time 00:00.014s)
2022-11-01 02:01:04,949 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Current version of schema `book`: 2
2022-11-01 02:01:04,950 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Schema `book` is up to date. No migration necessary.
2022-11-01 02:01:05,010 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-11-01 02:01:05,046 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.12.Final
2022-11-01 02:01:05,149 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-11-01 02:01:05,219 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-11-01 02:01:05,709 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-11-01 02:01:05,715 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-11-01 02:01:06,407 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-11-01 02:01:06,546 DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter [main] ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2022-11-01 02:01:06,635 DEBUG org.springframework.web.servlet.handler.AbstractHandlerMethodMapping [main] 28 mappings in 'requestMappingHandlerMapping'
2022-11-01 02:01:06,920 DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping [main] Patterns [/webjars/**, /**, /swagger-ui*/**] in 'resourceHandlerMapping'
2022-11-01 02:01:06,936 DEBUG org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver [main] ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2022-11-01 02:01:07,406 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 14 endpoint(s) beneath base path '/actuator'
2022-11-01 02:01:07,446 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2022-11-01 02:01:07,464 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2022-11-01 02:01:07,478 INFO org.springframework.boot.StartupInfoLogger [main] Started DataJpaBooksProjectApplication in 4.348 seconds (JVM running for 4.913)
2022-11-01 02:01:07,480 INFO com.global.book.aspect.LoggingAspect [AsynchThread::1] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 02:01:07,483 INFO com.global.book.aspect.LoggingAspect [main] ====>  Method Name is >> AuthorService.findAll()
2022-11-01 02:01:07,489 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-11-01 02:01:07,505 ERROR org.springframework.boot.SpringApplication [main] Application run failed
java.lang.IllegalStateException: Failed to execute CommandLineRunner
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:774)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:755)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at com.global.book.DataJpaBooksProjectApplication.main(DataJpaBooksProjectApplication.java:10)
Caused by: java.lang.IllegalArgumentException: Null key returned for cache operation (maybe you are using named params on classes without debug info?) Builder[public java.util.List com.global.book.service.AuthorService.findAll()] caches=[findAllauthors] | key='#author' | keyGenerator='' | cacheManager='' | cacheResolver='' | condition='' | unless='' | sync='false'
	at org.springframework.cache.interceptor.CacheAspectSupport.generateKey(CacheAspectSupport.java:595)
	at org.springframework.cache.interceptor.CacheAspectSupport.findCachedItem(CacheAspectSupport.java:535)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:402)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:345)
	at org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:64)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.global.book.aspect.MeasurementAspect.logTime(MeasurementAspect.java:36)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.global.book.service.AuthorService$$EnhancerBySpringCGLIB$$75347abb.findAll(<generated>)
	at com.global.book.config.StartupApp.run(StartupApp.java:29)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:771)
	... 5 common frames omitted
2022-11-01 02:01:07,530 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [main] Custom destroy method 'shutdown' on bean with name 'amazonS3' threw an exception: java.lang.UnsupportedOperationException: Extend AbstractAmazonS3 to provide an implementation
2022-11-01 02:01:07,532 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-11-01 02:01:07,535 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown initiated...
2022-11-01 02:01:07,540 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown completed.
2022-11-01 02:01:07,550 WARN com.zaxxer.hikari.pool.ProxyConnection [AsynchThread::1] HikariPool-1 - Connection com.mysql.cj.jdbc.ConnectionImpl@6965319f marked as broken because of SQLSTATE(08003), ErrorCode(0)
java.sql.SQLNonTransientConnectionException: No operations allowed after connection closed.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:73)
	at com.mysql.cj.jdbc.ConnectionImpl.getMetaData(ConnectionImpl.java:1177)
	at com.mysql.cj.jdbc.ConnectionImpl.getMetaData(ConnectionImpl.java:1161)
	at com.zaxxer.hikari.pool.ProxyConnection.getMetaData(ProxyConnection.java:380)
	at com.zaxxer.hikari.pool.HikariProxyConnection.getMetaData(HikariProxyConnection.java)
	at org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:340)
	at org.springframework.jdbc.support.SQLErrorCodesFactory.resolveErrorCodes(SQLErrorCodesFactory.java:235)
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.lambda$setDataSource$0(SQLErrorCodeSQLExceptionTranslator.java:140)
	at org.springframework.util.function.SingletonSupplier.get(SingletonSupplier.java:97)
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.setDataSource(SQLErrorCodeSQLExceptionTranslator.java:141)
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.<init>(SQLErrorCodeSQLExceptionTranslator.java:102)
	at org.springframework.jdbc.support.JdbcAccessor.getExceptionTranslator(JdbcAccessor.java:136)
	at org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1541)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:960)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:981)
	at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.update(NamedParameterJdbcTemplate.java:328)
	at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.update(NamedParameterJdbcTemplate.java:333)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.lambda$execute$0(JdbcTemplateStorageAccessor.java:115)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.execute(JdbcTemplateStorageAccessor.java:115)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.insertRecord(JdbcTemplateStorageAccessor.java:68)
	at net.javacrumbs.shedlock.support.StorageBasedLockProvider.doLock(StorageBasedLockProvider.java:81)
	at net.javacrumbs.shedlock.support.StorageBasedLockProvider.lock(StorageBasedLockProvider.java:65)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208)
	at jdk.proxy2/jdk.proxy2.$Proxy110.lock(Unknown Source)
	at net.javacrumbs.shedlock.core.DefaultLockingTaskExecutor.executeWithLock(DefaultLockingTaskExecutor.java:63)
	at net.javacrumbs.shedlock.spring.aop.MethodProxyScheduledLockAdvisor$LockingInterceptor.invoke(MethodProxyScheduledLockAdvisor.java:86)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.global.book.aspect.MeasurementAspect.logTime(MeasurementAspect.java:36)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: com.mysql.cj.exceptions.ConnectionIsClosedException: No operations allowed after connection closed.
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.NativeSession.checkClosed(NativeSession.java:761)
	at com.mysql.cj.jdbc.ConnectionImpl.checkClosed(ConnectionImpl.java:568)
	at com.mysql.cj.jdbc.ConnectionImpl.getMetaData(ConnectionImpl.java:1166)
	... 55 common frames omitted
2022-11-01 02:01:07,551 WARN org.springframework.jdbc.support.SQLErrorCodesFactory [AsynchThread::1] Error while extracting database name
org.springframework.jdbc.support.MetaDataAccessException: Error while extracting DatabaseMetaData; nested exception is java.sql.SQLException: HikariDataSource HikariDataSource (HikariPool-1) has been closed.
	at org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:366)
	at org.springframework.jdbc.support.SQLErrorCodesFactory.resolveErrorCodes(SQLErrorCodesFactory.java:235)
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.lambda$setDataSource$0(SQLErrorCodeSQLExceptionTranslator.java:140)
	at org.springframework.util.function.SingletonSupplier.get(SingletonSupplier.java:97)
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.setDataSource(SQLErrorCodeSQLExceptionTranslator.java:141)
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.<init>(SQLErrorCodeSQLExceptionTranslator.java:102)
	at org.springframework.jdbc.support.JdbcAccessor.getExceptionTranslator(JdbcAccessor.java:136)
	at org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1541)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:960)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:981)
	at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.update(NamedParameterJdbcTemplate.java:328)
	at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.update(NamedParameterJdbcTemplate.java:333)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.lambda$execute$0(JdbcTemplateStorageAccessor.java:115)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.execute(JdbcTemplateStorageAccessor.java:115)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.insertRecord(JdbcTemplateStorageAccessor.java:68)
	at net.javacrumbs.shedlock.support.StorageBasedLockProvider.doLock(StorageBasedLockProvider.java:81)
	at net.javacrumbs.shedlock.support.StorageBasedLockProvider.lock(StorageBasedLockProvider.java:65)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208)
	at jdk.proxy2/jdk.proxy2.$Proxy110.lock(Unknown Source)
	at net.javacrumbs.shedlock.core.DefaultLockingTaskExecutor.executeWithLock(DefaultLockingTaskExecutor.java:63)
	at net.javacrumbs.shedlock.spring.aop.MethodProxyScheduledLockAdvisor$LockingInterceptor.invoke(MethodProxyScheduledLockAdvisor.java:86)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.global.book.aspect.MeasurementAspect.logTime(MeasurementAspect.java:36)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.sql.SQLException: HikariDataSource HikariDataSource (HikariPool-1) has been closed.
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:96)
	at org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:349)
	... 51 common frames omitted
2022-11-01 02:01:07,552 WARN org.springframework.jdbc.support.SQLErrorCodesFactory [AsynchThread::1] Error while extracting database name
org.springframework.jdbc.support.MetaDataAccessException: Error while extracting DatabaseMetaData; nested exception is java.sql.SQLException: HikariDataSource HikariDataSource (HikariPool-1) has been closed.
	at org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:366)
	at org.springframework.jdbc.support.SQLErrorCodesFactory.resolveErrorCodes(SQLErrorCodesFactory.java:235)
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.lambda$setDataSource$0(SQLErrorCodeSQLExceptionTranslator.java:140)
	at org.springframework.util.function.SingletonSupplier.get(SingletonSupplier.java:97)
	at org.springframework.util.function.SupplierUtils.resolve(SupplierUtils.java:40)
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.getSqlErrorCodes(SQLErrorCodeSQLExceptionTranslator.java:171)
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:193)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1541)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:960)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:981)
	at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.update(NamedParameterJdbcTemplate.java:328)
	at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.update(NamedParameterJdbcTemplate.java:333)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.lambda$execute$0(JdbcTemplateStorageAccessor.java:115)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.execute(JdbcTemplateStorageAccessor.java:115)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.insertRecord(JdbcTemplateStorageAccessor.java:68)
	at net.javacrumbs.shedlock.support.StorageBasedLockProvider.doLock(StorageBasedLockProvider.java:81)
	at net.javacrumbs.shedlock.support.StorageBasedLockProvider.lock(StorageBasedLockProvider.java:65)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208)
	at jdk.proxy2/jdk.proxy2.$Proxy110.lock(Unknown Source)
	at net.javacrumbs.shedlock.core.DefaultLockingTaskExecutor.executeWithLock(DefaultLockingTaskExecutor.java:63)
	at net.javacrumbs.shedlock.spring.aop.MethodProxyScheduledLockAdvisor$LockingInterceptor.invoke(MethodProxyScheduledLockAdvisor.java:86)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.global.book.aspect.MeasurementAspect.logTime(MeasurementAspect.java:36)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.sql.SQLException: HikariDataSource HikariDataSource (HikariPool-1) has been closed.
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:96)
	at org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:349)
	... 52 common frames omitted
2022-11-01 02:01:07,552 ERROR org.springframework.transaction.support.TransactionTemplate [AsynchThread::1] Application exception overridden by rollback exception
org.springframework.dao.DataIntegrityViolationException: PreparedStatementCallback; SQL [INSERT INTO shedlock(name, lock_until, locked_at, locked_by) VALUES(?, TIMESTAMPADD(MICROSECOND, ?, UTC_TIMESTAMP(3)), UTC_TIMESTAMP(3), ?)]; Duplicate entry 'bookComputeDiscount' for key 'PRIMARY'; nested exception is java.sql.SQLIntegrityConstraintViolationException: Duplicate entry 'bookComputeDiscount' for key 'PRIMARY'
	at org.springframework.jdbc.support.SQLExceptionSubclassTranslator.doTranslate(SQLExceptionSubclassTranslator.java:87)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:79)
	at org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1541)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:960)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:981)
	at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.update(NamedParameterJdbcTemplate.java:328)
	at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.update(NamedParameterJdbcTemplate.java:333)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.lambda$execute$0(JdbcTemplateStorageAccessor.java:115)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.execute(JdbcTemplateStorageAccessor.java:115)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.insertRecord(JdbcTemplateStorageAccessor.java:68)
	at net.javacrumbs.shedlock.support.StorageBasedLockProvider.doLock(StorageBasedLockProvider.java:81)
	at net.javacrumbs.shedlock.support.StorageBasedLockProvider.lock(StorageBasedLockProvider.java:65)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208)
	at jdk.proxy2/jdk.proxy2.$Proxy110.lock(Unknown Source)
	at net.javacrumbs.shedlock.core.DefaultLockingTaskExecutor.executeWithLock(DefaultLockingTaskExecutor.java:63)
	at net.javacrumbs.shedlock.spring.aop.MethodProxyScheduledLockAdvisor$LockingInterceptor.invoke(MethodProxyScheduledLockAdvisor.java:86)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.global.book.aspect.MeasurementAspect.logTime(MeasurementAspect.java:36)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry 'bookComputeDiscount' for key 'PRIMARY'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1061)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1009)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1320)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:994)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.springframework.jdbc.core.JdbcTemplate.lambda$update$2(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:651)
	... 43 common frames omitted
2022-11-01 02:01:07,553 ERROR net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor [AsynchThread::1] Unexpected exception
org.springframework.transaction.TransactionSystemException: JDBC rollback failed; nested exception is java.sql.SQLException: Connection is closed
	at org.springframework.jdbc.datasource.DataSourceTransactionManager.translateException(DataSourceTransactionManager.java:435)
	at org.springframework.jdbc.datasource.DataSourceTransactionManager.doRollback(DataSourceTransactionManager.java:351)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processRollback(AbstractPlatformTransactionManager.java:835)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.rollback(AbstractPlatformTransactionManager.java:809)
	at org.springframework.transaction.support.TransactionTemplate.rollbackOnException(TransactionTemplate.java:168)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:144)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.execute(JdbcTemplateStorageAccessor.java:115)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.insertRecord(JdbcTemplateStorageAccessor.java:68)
	at net.javacrumbs.shedlock.support.StorageBasedLockProvider.doLock(StorageBasedLockProvider.java:81)
	at net.javacrumbs.shedlock.support.StorageBasedLockProvider.lock(StorageBasedLockProvider.java:65)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208)
	at jdk.proxy2/jdk.proxy2.$Proxy110.lock(Unknown Source)
	at net.javacrumbs.shedlock.core.DefaultLockingTaskExecutor.executeWithLock(DefaultLockingTaskExecutor.java:63)
	at net.javacrumbs.shedlock.spring.aop.MethodProxyScheduledLockAdvisor$LockingInterceptor.invoke(MethodProxyScheduledLockAdvisor.java:86)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.global.book.aspect.MeasurementAspect.logTime(MeasurementAspect.java:36)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.sql.SQLException: Connection is closed
	at com.zaxxer.hikari.pool.ProxyConnection$ClosedConnection.lambda$getClosedConnection$0(ProxyConnection.java:515)
	at jdk.proxy3/jdk.proxy3.$Proxy126.rollback(Unknown Source)
	at com.zaxxer.hikari.pool.ProxyConnection.rollback(ProxyConnection.java:396)
	at com.zaxxer.hikari.pool.HikariProxyConnection.rollback(HikariProxyConnection.java)
	at org.springframework.jdbc.datasource.DataSourceTransactionManager.doRollback(DataSourceTransactionManager.java:348)
	... 41 common frames omitted
2022-11-01 02:01:07,553 ERROR org.springframework.aop.interceptor.SimpleAsyncUncaughtExceptionHandler [AsynchThread::1] Unexpected exception occurred invoking async method: public void com.global.book.service.PriceSchedule.computeDiscount() throws java.lang.InterruptedException
org.springframework.transaction.CannotCreateTransactionException: Could not open JDBC Connection for transaction; nested exception is java.sql.SQLException: HikariDataSource HikariDataSource (HikariPool-1) has been closed.
	at org.springframework.jdbc.datasource.DataSourceTransactionManager.doBegin(DataSourceTransactionManager.java:309)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:137)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.execute(JdbcTemplateStorageAccessor.java:115)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.updateRecord(JdbcTemplateStorageAccessor.java:81)
	at net.javacrumbs.shedlock.support.StorageBasedLockProvider.doLock(StorageBasedLockProvider.java:91)
	at net.javacrumbs.shedlock.support.StorageBasedLockProvider.lock(StorageBasedLockProvider.java:65)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208)
	at jdk.proxy2/jdk.proxy2.$Proxy110.lock(Unknown Source)
	at net.javacrumbs.shedlock.core.DefaultLockingTaskExecutor.executeWithLock(DefaultLockingTaskExecutor.java:63)
	at net.javacrumbs.shedlock.spring.aop.MethodProxyScheduledLockAdvisor$LockingInterceptor.invoke(MethodProxyScheduledLockAdvisor.java:86)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.global.book.aspect.MeasurementAspect.logTime(MeasurementAspect.java:36)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.sql.SQLException: HikariDataSource HikariDataSource (HikariPool-1) has been closed.
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:96)
	at org.springframework.jdbc.datasource.DataSourceTransactionManager.doBegin(DataSourceTransactionManager.java:265)
	... 40 common frames omitted
2022-11-01 02:01:27,070 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2022-11-01 02:01:27,076 INFO org.springframework.boot.StartupInfoLogger [main] Starting DataJpaBooksProjectApplication using Java 17.0.4.1 on DESKTOP-N2KRF5H with PID 6376 (C:\Users\princ\Desktop\projects\data-jpa-books-project\target\classes started by princ in C:\Users\princ\Desktop\projects\data-jpa-books-project)
2022-11-01 02:01:27,076 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.7.5, Spring v5.3.23
2022-11-01 02:01:27,076 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-11-01 02:01:27,675 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-11-01 02:01:27,714 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 35 ms. Found 2 JPA repository interfaces.
2022-11-01 02:01:28,192 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-11-01 02:01:28,199 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-11-01 02:01:28,199 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-11-01 02:01:28,199 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.68]
2022-11-01 02:01:28,271 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-11-01 02:01:28,271 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1169 ms
2022-11-01 02:01:28,489 ERROR org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Skipping filesystem location:\another\migration\directory (not found).
2022-11-01 02:01:28,491 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-11-01 02:01:28,590 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-11-01 02:01:28,596 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Flyway Community Edition 8.0.4 by Redgate
2022-11-01 02:01:28,597 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Database: jdbc:mysql://localhost:3306/book (MySQL 5.5)
2022-11-01 02:01:28,638 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully validated 2 migrations (execution time 00:00.012s)
2022-11-01 02:01:28,644 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Current version of schema `book`: 2
2022-11-01 02:01:28,644 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Schema `book` is up to date. No migration necessary.
2022-11-01 02:01:28,691 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-11-01 02:01:28,722 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.12.Final
2022-11-01 02:01:28,817 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-11-01 02:01:28,883 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-11-01 02:01:29,292 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-11-01 02:01:29,297 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-11-01 02:01:29,880 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-11-01 02:01:30,001 DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter [main] ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2022-11-01 02:01:30,071 DEBUG org.springframework.web.servlet.handler.AbstractHandlerMethodMapping [main] 28 mappings in 'requestMappingHandlerMapping'
2022-11-01 02:01:30,327 DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping [main] Patterns [/webjars/**, /**, /swagger-ui*/**] in 'resourceHandlerMapping'
2022-11-01 02:01:30,344 DEBUG org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver [main] ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2022-11-01 02:01:30,764 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 14 endpoint(s) beneath base path '/actuator'
2022-11-01 02:01:30,803 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2022-11-01 02:01:30,821 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2022-11-01 02:01:30,836 INFO org.springframework.boot.StartupInfoLogger [main] Started DataJpaBooksProjectApplication in 3.965 seconds (JVM running for 4.532)
2022-11-01 02:01:30,838 INFO com.global.book.aspect.LoggingAspect [AsynchThread::1] ====>  Method Name is >> PriceSchedule.computeDiscount()
2022-11-01 02:01:30,840 INFO com.global.book.aspect.LoggingAspect [main] ====>  Method Name is >> AuthorService.findAll()
2022-11-01 02:01:30,876 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [main] 
    select
        author0_.id as id1_0_0_,
        books1_.id as id1_1_1_,
        author0_.created_by as created_2_0_0_,
        author0_.created_date as created_3_0_0_,
        author0_.last_modified_by as last_mod4_0_0_,
        author0_.last_modified_date as last_mod5_0_0_,
        author0_.status_code as status_c6_0_0_,
        author0_.email as email7_0_0_,
        author0_.image_path as image_pa8_0_0_,
        author0_.ip_address as ip_addre9_0_0_,
        author0_.name as name10_0_0_,
        (select
            count(*) 
        from
            books b 
        where
            b.author_id = author0_.id) as formula1_0_,
        books1_.created_by as created_2_1_1_,
        books1_.created_date as created_3_1_1_,
        books1_.last_modified_by as last_mod4_1_1_,
        books1_.last_modified_date as last_mod5_1_1_,
        books1_.status_code as status_c6_1_1_,
        books1_.author_id as author_i9_1_1_,
        books1_.name as name7_1_1_,
        books1_.price as price8_1_1_,
        (select
            count(*) 
        from
            books) as formula2_1_,
        books1_.author_id as author_i9_1_0__,
        books1_.id as id1_1_0__ 
    from
        authors author0_ 
    left outer join
        books books1_ 
            on author0_.id=books1_.author_id
2022-11-01 02:01:30,911 INFO com.global.book.aspect.MeasurementAspect [main] KPI[method-execution]	for: List com.global.book.service.AuthorService.findAll()	withArgs: ()	took: 71 ms.
2022-11-01 02:01:30,918 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [main] 
    select
        book0_.id as id1_1_0_,
        author1_.id as id1_0_1_,
        book0_.created_by as created_2_1_0_,
        book0_.created_date as created_3_1_0_,
        book0_.last_modified_by as last_mod4_1_0_,
        book0_.last_modified_date as last_mod5_1_0_,
        book0_.status_code as status_c6_1_0_,
        book0_.author_id as author_i9_1_0_,
        book0_.name as name7_1_0_,
        book0_.price as price8_1_0_,
        (select
            count(*) 
        from
            books) as formula2_0_,
        author1_.created_by as created_2_0_1_,
        author1_.created_date as created_3_0_1_,
        author1_.last_modified_by as last_mod4_0_1_,
        author1_.last_modified_date as last_mod5_0_1_,
        author1_.status_code as status_c6_0_1_,
        author1_.email as email7_0_1_,
        author1_.image_path as image_pa8_0_1_,
        author1_.ip_address as ip_addre9_0_1_,
        author1_.name as name10_0_1_,
        (select
            count(*) 
        from
            books b 
        where
            b.author_id = author1_.id) as formula1_1_ 
    from
        books book0_ 
    left outer join
        authors author1_ 
            on book0_.author_id=author1_.id
2022-11-01 02:01:31,566 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(3)-127.0.0.1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-11-01 02:01:31,566 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(3)-127.0.0.1] Initializing Servlet 'dispatcherServlet'
2022-11-01 02:01:31,567 DEBUG org.springframework.web.servlet.DispatcherServlet [RMI TCP Connection(3)-127.0.0.1] Detected StandardServletMultipartResolver
2022-11-01 02:01:31,567 DEBUG org.springframework.web.servlet.DispatcherServlet [RMI TCP Connection(3)-127.0.0.1] Detected AcceptHeaderLocaleResolver
2022-11-01 02:01:31,567 DEBUG org.springframework.web.servlet.DispatcherServlet [RMI TCP Connection(3)-127.0.0.1] Detected FixedThemeResolver
2022-11-01 02:01:31,568 DEBUG org.springframework.web.servlet.DispatcherServlet [RMI TCP Connection(3)-127.0.0.1] Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@7baf7a9d
2022-11-01 02:01:31,568 DEBUG org.springframework.web.servlet.DispatcherServlet [RMI TCP Connection(3)-127.0.0.1] Detected org.springframework.web.servlet.support.SessionFlashMapManager@4ad04b05
2022-11-01 02:01:31,568 DEBUG org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(3)-127.0.0.1] enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2022-11-01 02:01:31,568 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(3)-127.0.0.1] Completed initialization in 2 ms
2022-11-01 02:01:34,930 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Discount -> 2022-11-01T02:01:34.930378300
2022-11-01 02:01:34,934 INFO com.global.book.aspect.MeasurementAspect [AsynchThread::1] KPI[method-execution]	for: void com.global.book.service.PriceSchedule.computeDiscount()	withArgs: ()	took: 4097 ms.
2022-11-01 02:01:53,785 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(2)-127.0.0.1] Application shutdown requested.
2022-11-01 02:01:53,802 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(2)-127.0.0.1] Pausing ProtocolHandler ["http-nio-8080"]
2022-11-01 02:01:53,802 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(2)-127.0.0.1] Stopping service [Tomcat]
2022-11-01 02:01:53,803 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(2)-127.0.0.1] Destroying Spring FrameworkServlet 'dispatcherServlet'
2022-11-01 02:01:53,804 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(2)-127.0.0.1] Stopping ProtocolHandler ["http-nio-8080"]
2022-11-01 02:01:53,806 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(2)-127.0.0.1] Destroying ProtocolHandler ["http-nio-8080"]
2022-11-01 02:01:53,808 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [RMI TCP Connection(2)-127.0.0.1] Custom destroy method 'shutdown' on bean with name 'amazonS3' threw an exception: java.lang.UnsupportedOperationException: Extend AbstractAmazonS3 to provide an implementation
2022-11-01 02:01:53,809 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [RMI TCP Connection(2)-127.0.0.1] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-11-01 02:01:53,811 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(2)-127.0.0.1] HikariPool-1 - Shutdown initiated...
2022-11-01 02:01:53,816 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(2)-127.0.0.1] HikariPool-1 - Shutdown completed.

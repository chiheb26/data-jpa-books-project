2022-10-27 01:18:58,310 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2022-10-27 01:18:58,314 INFO org.springframework.boot.StartupInfoLogger [main] Starting DataJpaBooksProjectApplication using Java 17.0.4.1 on DESKTOP-N2KRF5H with PID 22196 (C:\Users\princ\Desktop\projects\data-jpa-books-project\target\classes started by princ in C:\Users\princ\Desktop\projects\data-jpa-books-project)
2022-10-27 01:18:58,314 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.7.5, Spring v5.3.23
2022-10-27 01:18:58,314 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-27 01:18:58,674 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-27 01:18:58,709 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 30 ms. Found 2 JPA repository interfaces.
2022-10-27 01:18:59,035 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-10-27 01:18:59,041 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-10-27 01:18:59,041 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-27 01:18:59,041 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.68]
2022-10-27 01:18:59,101 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-27 01:18:59,101 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 760 ms
2022-10-27 01:18:59,195 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-27 01:18:59,224 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.12.Final
2022-10-27 01:18:59,312 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-27 01:18:59,370 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-27 01:18:59,469 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-27 01:18:59,478 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-10-27 01:18:59,889 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-27 01:18:59,894 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-27 01:19:00,253 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-27 01:19:00,457 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2022-10-27 01:19:00,471 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2022-10-27 01:19:00,478 INFO org.springframework.boot.StartupInfoLogger [main] Started DataJpaBooksProjectApplication in 2.364 seconds (JVM running for 2.893)
2022-10-27 01:19:00,500 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [main] 
    select
        author0_.id as id1_0_,
        author0_.created_by as created_2_0_,
        author0_.created_date as created_3_0_,
        author0_.last_modified_by as last_mod4_0_,
        author0_.last_modified_date as last_mod5_0_,
        author0_.status_code as status_c6_0_,
        author0_.email as email7_0_,
        author0_.ip_address as ip_addre8_0_,
        author0_.name as name9_0_,
        (select
            count(*) 
        from
            books b 
        where
            b.author_id = author0_.id) as formula1_ 
    from
        authors author0_
2022-10-27 01:19:00,520 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [main] 
    select
        book0_.id as id1_1_0_,
        author1_.id as id1_0_1_,
        book0_.created_by as created_2_1_0_,
        book0_.created_date as created_3_1_0_,
        book0_.last_modified_by as last_mod4_1_0_,
        book0_.last_modified_date as last_mod5_1_0_,
        book0_.status_code as status_c6_1_0_,
        book0_.author_id as author_i9_1_0_,
        book0_.name as name7_1_0_,
        book0_.price as price8_1_0_,
        (select
            count(*) 
        from
            books) as formula2_0_,
        author1_.created_by as created_2_0_1_,
        author1_.created_date as created_3_0_1_,
        author1_.last_modified_by as last_mod4_0_1_,
        author1_.last_modified_date as last_mod5_0_1_,
        author1_.status_code as status_c6_0_1_,
        author1_.email as email7_0_1_,
        author1_.ip_address as ip_addre8_0_1_,
        author1_.name as name9_0_1_,
        (select
            count(*) 
        from
            books b 
        where
            b.author_id = author1_.id) as formula1_1_ 
    from
        books book0_ 
    left outer join
        authors author1_ 
            on book0_.author_id=author1_.id
2022-10-27 01:19:04,506 INFO com.global.book.service.PriceSchedule [task-1] Compute Price -> 2022-10-27T01:19:04.506097
2022-10-27 01:19:10,498 INFO com.global.book.service.PriceSchedule [task-4] Compute Price -> 2022-10-27T01:19:10.498214800
2022-10-27 01:19:16,498 INFO com.global.book.service.PriceSchedule [task-7] Compute Price -> 2022-10-27T01:19:16.498989700
2022-10-27 01:19:22,501 INFO com.global.book.service.PriceSchedule [task-3] Compute Price -> 2022-10-27T01:19:22.501066100
2022-10-27 01:19:28,496 INFO com.global.book.service.PriceSchedule [task-6] Compute Price -> 2022-10-27T01:19:28.496032
2022-10-27 01:19:34,501 INFO com.global.book.service.PriceSchedule [task-2] Compute Price -> 2022-10-27T01:19:34.501934100
2022-10-27 01:19:40,484 INFO com.global.book.service.PriceSchedule [task-5] Compute Price -> 2022-10-27T01:19:40.484636900
2022-10-27 01:19:46,482 INFO com.global.book.service.PriceSchedule [task-8] Compute Price -> 2022-10-27T01:19:46.482975
2022-10-27 01:19:52,503 INFO com.global.book.service.PriceSchedule [task-1] Compute Price -> 2022-10-27T01:19:52.503824700
2022-10-27 01:19:58,499 INFO com.global.book.service.PriceSchedule [task-4] Compute Price -> 2022-10-27T01:19:58.499910800
2022-10-27 01:20:04,501 INFO com.global.book.service.PriceSchedule [task-7] Compute Price -> 2022-10-27T01:20:04.501535300
2022-10-27 01:20:10,505 INFO com.global.book.service.PriceSchedule [task-3] Compute Price -> 2022-10-27T01:20:10.505084
2022-10-27 01:20:16,485 INFO com.global.book.service.PriceSchedule [task-6] Compute Price -> 2022-10-27T01:20:16.485780100
2022-10-27 01:20:22,508 INFO com.global.book.service.PriceSchedule [task-2] Compute Price -> 2022-10-27T01:20:22.508182300
2022-10-27 01:20:28,487 INFO com.global.book.service.PriceSchedule [task-5] Compute Price -> 2022-10-27T01:20:28.487734600
2022-10-27 01:20:34,493 INFO com.global.book.service.PriceSchedule [task-8] Compute Price -> 2022-10-27T01:20:34.493652700
2022-10-27 01:20:39,518 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(4)-127.0.0.1] Application shutdown requested.
2022-10-27 01:20:39,546 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(4)-127.0.0.1] Pausing ProtocolHandler ["http-nio-8080"]
2022-10-27 01:20:39,547 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(4)-127.0.0.1] Stopping service [Tomcat]
2022-10-27 01:20:39,550 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(4)-127.0.0.1] Stopping ProtocolHandler ["http-nio-8080"]
2022-10-27 01:20:39,552 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(4)-127.0.0.1] Destroying ProtocolHandler ["http-nio-8080"]
2022-10-27 01:20:39,554 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [RMI TCP Connection(4)-127.0.0.1] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-27 01:20:39,555 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(4)-127.0.0.1] HikariPool-1 - Shutdown initiated...
2022-10-27 01:20:39,558 ERROR org.springframework.aop.interceptor.SimpleAsyncUncaughtExceptionHandler [task-1] Unexpected exception occurred invoking async method: public void com.global.book.service.PriceSchedule.computePrice() throws java.lang.InterruptedException
java.lang.InterruptedException: sleep interrupted
	at java.base/java.lang.Thread.sleep(Native Method)
	at com.global.book.service.PriceSchedule.computePrice(PriceSchedule.java:23)
	at com.global.book.service.PriceSchedule$$FastClassBySpringCGLIB$$a6c7ce20.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at net.javacrumbs.shedlock.core.DefaultLockingTaskExecutor.executeWithLock(DefaultLockingTaskExecutor.java:74)
	at net.javacrumbs.shedlock.spring.aop.MethodProxyScheduledLockAdvisor$LockingInterceptor.invoke(MethodProxyScheduledLockAdvisor.java:86)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
2022-10-27 01:20:39,559 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(4)-127.0.0.1] HikariPool-1 - Shutdown completed.
2022-10-27 01:20:44,825 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2022-10-27 01:20:44,829 INFO org.springframework.boot.StartupInfoLogger [main] Starting DataJpaBooksProjectApplication using Java 17.0.4.1 on DESKTOP-N2KRF5H with PID 19584 (C:\Users\princ\Desktop\projects\data-jpa-books-project\target\classes started by princ in C:\Users\princ\Desktop\projects\data-jpa-books-project)
2022-10-27 01:20:44,830 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.7.5, Spring v5.3.23
2022-10-27 01:20:44,830 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-27 01:20:45,189 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-27 01:20:45,221 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 28 ms. Found 2 JPA repository interfaces.
2022-10-27 01:20:45,553 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-10-27 01:20:45,559 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-10-27 01:20:45,560 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-27 01:20:45,560 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.68]
2022-10-27 01:20:45,618 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-27 01:20:45,618 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 760 ms
2022-10-27 01:20:45,711 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-27 01:20:45,738 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.12.Final
2022-10-27 01:20:45,822 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-27 01:20:45,874 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-27 01:20:45,974 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-27 01:20:45,983 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-10-27 01:20:46,402 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-27 01:20:46,406 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-27 01:20:46,762 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-27 01:20:46,978 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2022-10-27 01:20:46,992 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2022-10-27 01:20:46,999 INFO org.springframework.boot.StartupInfoLogger [main] Started DataJpaBooksProjectApplication in 2.386 seconds (JVM running for 2.917)
2022-10-27 01:20:47,025 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [main] 
    select
        author0_.id as id1_0_,
        author0_.created_by as created_2_0_,
        author0_.created_date as created_3_0_,
        author0_.last_modified_by as last_mod4_0_,
        author0_.last_modified_date as last_mod5_0_,
        author0_.status_code as status_c6_0_,
        author0_.email as email7_0_,
        author0_.ip_address as ip_addre8_0_,
        author0_.name as name9_0_,
        (select
            count(*) 
        from
            books b 
        where
            b.author_id = author0_.id) as formula1_ 
    from
        authors author0_
2022-10-27 01:20:47,047 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [main] 
    select
        book0_.id as id1_1_0_,
        author1_.id as id1_0_1_,
        book0_.created_by as created_2_1_0_,
        book0_.created_date as created_3_1_0_,
        book0_.last_modified_by as last_mod4_1_0_,
        book0_.last_modified_date as last_mod5_1_0_,
        book0_.status_code as status_c6_1_0_,
        book0_.author_id as author_i9_1_0_,
        book0_.name as name7_1_0_,
        book0_.price as price8_1_0_,
        (select
            count(*) 
        from
            books) as formula2_0_,
        author1_.created_by as created_2_0_1_,
        author1_.created_date as created_3_0_1_,
        author1_.last_modified_by as last_mod4_0_1_,
        author1_.last_modified_date as last_mod5_0_1_,
        author1_.status_code as status_c6_0_1_,
        author1_.email as email7_0_1_,
        author1_.ip_address as ip_addre8_0_1_,
        author1_.name as name9_0_1_,
        (select
            count(*) 
        from
            books b 
        where
            b.author_id = author1_.id) as formula1_1_ 
    from
        books book0_ 
    left outer join
        authors author1_ 
            on book0_.author_id=author1_.id
2022-10-27 01:20:51,030 INFO com.global.book.service.PriceSchedule [task-2] Compute Discount -> 2022-10-27T01:20:51.030430400
2022-10-27 01:20:51,061 INFO com.global.book.service.PriceSchedule [task-1] Compute Price -> 2022-10-27T01:20:51.061439100
2022-10-27 01:20:57,016 INFO com.global.book.service.PriceSchedule [task-7] Compute Price -> 2022-10-27T01:20:57.016909900
2022-10-27 01:20:57,016 INFO com.global.book.service.PriceSchedule [task-8] Compute Discount -> 2022-10-27T01:20:57.016909900
2022-10-27 01:21:03,013 INFO com.global.book.service.PriceSchedule [task-2] Compute Price -> 2022-10-27T01:21:03.013799900
2022-10-27 01:21:03,013 INFO com.global.book.service.PriceSchedule [task-1] Compute Discount -> 2022-10-27T01:21:03.013799900
2022-10-27 01:21:09,019 INFO com.global.book.service.PriceSchedule [task-8] Compute Price -> 2022-10-27T01:21:09.019638600
2022-10-27 01:21:09,019 INFO com.global.book.service.PriceSchedule [task-7] Compute Discount -> 2022-10-27T01:21:09.019638600
2022-10-27 01:21:15,023 INFO com.global.book.service.PriceSchedule [task-1] Compute Discount -> 2022-10-27T01:21:15.023816900
2022-10-27 01:21:15,023 INFO com.global.book.service.PriceSchedule [task-2] Compute Price -> 2022-10-27T01:21:15.023816900
2022-10-27 01:21:21,022 INFO com.global.book.service.PriceSchedule [task-8] Compute Discount -> 2022-10-27T01:21:21.022019400
2022-10-27 01:21:21,022 INFO com.global.book.service.PriceSchedule [task-7] Compute Price -> 2022-10-27T01:21:21.022019400
2022-10-27 01:21:27,027 INFO com.global.book.service.PriceSchedule [task-1] Compute Discount -> 2022-10-27T01:21:27.027220
2022-10-27 01:21:27,027 INFO com.global.book.service.PriceSchedule [task-2] Compute Price -> 2022-10-27T01:21:27.027220
2022-10-27 01:21:33,011 INFO com.global.book.service.PriceSchedule [task-7] Compute Discount -> 2022-10-27T01:21:33.011092200
2022-10-27 01:21:33,011 INFO com.global.book.service.PriceSchedule [task-8] Compute Price -> 2022-10-27T01:21:33.011092200
2022-10-27 01:21:37,016 INFO com.global.book.service.PriceSchedule [task-6] Compute Price -> 2022-10-27T01:21:37.016162200
2022-10-27 01:21:39,030 INFO com.global.book.service.PriceSchedule [task-1] Compute Discount -> 2022-10-27T01:21:39.030526
2022-10-27 01:21:43,017 INFO com.global.book.service.PriceSchedule [task-5] Compute Price -> 2022-10-27T01:21:43.017416200
2022-10-27 01:21:45,020 INFO com.global.book.service.PriceSchedule [task-2] Compute Discount -> 2022-10-27T01:21:45.020277300
2022-10-27 01:21:49,021 INFO com.global.book.service.PriceSchedule [task-6] Compute Price -> 2022-10-27T01:21:49.021284600
2022-10-27 01:21:51,021 INFO com.global.book.service.PriceSchedule [task-7] Compute Discount -> 2022-10-27T01:21:51.021065900
2022-10-27 01:21:55,014 INFO com.global.book.service.PriceSchedule [task-5] Compute Price -> 2022-10-27T01:21:55.014185400
2022-10-27 01:21:57,021 INFO com.global.book.service.PriceSchedule [task-1] Compute Discount -> 2022-10-27T01:21:57.021592600
2022-10-27 01:22:01,019 INFO com.global.book.service.PriceSchedule [task-6] Compute Price -> 2022-10-27T01:22:01.019318700
2022-10-27 01:22:03,022 INFO com.global.book.service.PriceSchedule [task-2] Compute Discount -> 2022-10-27T01:22:03.022842200
2022-10-27 01:22:05,148 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(5)-127.0.0.1] Application shutdown requested.
2022-10-27 01:22:05,184 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(5)-127.0.0.1] Pausing ProtocolHandler ["http-nio-8080"]
2022-10-27 01:22:05,185 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(5)-127.0.0.1] Stopping service [Tomcat]
2022-10-27 01:22:05,187 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(5)-127.0.0.1] Stopping ProtocolHandler ["http-nio-8080"]
2022-10-27 01:22:05,189 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(5)-127.0.0.1] Destroying ProtocolHandler ["http-nio-8080"]
2022-10-27 01:22:05,192 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [RMI TCP Connection(5)-127.0.0.1] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-27 01:22:05,193 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(5)-127.0.0.1] HikariPool-1 - Shutdown initiated...
2022-10-27 01:22:05,195 ERROR org.springframework.aop.interceptor.SimpleAsyncUncaughtExceptionHandler [task-5] Unexpected exception occurred invoking async method: public void com.global.book.service.PriceSchedule.computePrice() throws java.lang.InterruptedException
java.lang.InterruptedException: sleep interrupted
	at java.base/java.lang.Thread.sleep(Native Method)
	at com.global.book.service.PriceSchedule.computePrice(PriceSchedule.java:23)
	at com.global.book.service.PriceSchedule$$FastClassBySpringCGLIB$$a6c7ce20.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at net.javacrumbs.shedlock.core.DefaultLockingTaskExecutor.executeWithLock(DefaultLockingTaskExecutor.java:74)
	at net.javacrumbs.shedlock.spring.aop.MethodProxyScheduledLockAdvisor$LockingInterceptor.invoke(MethodProxyScheduledLockAdvisor.java:86)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
2022-10-27 01:22:05,195 ERROR org.springframework.aop.interceptor.SimpleAsyncUncaughtExceptionHandler [task-7] Unexpected exception occurred invoking async method: public void com.global.book.service.PriceSchedule.computeDiscount() throws java.lang.InterruptedException
java.lang.InterruptedException: sleep interrupted
	at java.base/java.lang.Thread.sleep(Native Method)
	at com.global.book.service.PriceSchedule.computeDiscount(PriceSchedule.java:31)
	at com.global.book.service.PriceSchedule$$FastClassBySpringCGLIB$$a6c7ce20.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at net.javacrumbs.shedlock.core.DefaultLockingTaskExecutor.executeWithLock(DefaultLockingTaskExecutor.java:74)
	at net.javacrumbs.shedlock.spring.aop.MethodProxyScheduledLockAdvisor$LockingInterceptor.invoke(MethodProxyScheduledLockAdvisor.java:86)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
2022-10-27 01:22:05,197 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(5)-127.0.0.1] HikariPool-1 - Shutdown completed.
2022-10-27 01:48:12,344 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2022-10-27 01:48:12,349 INFO org.springframework.boot.StartupInfoLogger [main] Starting DataJpaBooksProjectApplication using Java 17.0.4.1 on DESKTOP-N2KRF5H with PID 8972 (C:\Users\princ\Desktop\projects\data-jpa-books-project\target\classes started by princ in C:\Users\princ\Desktop\projects\data-jpa-books-project)
2022-10-27 01:48:12,349 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.7.5, Spring v5.3.23
2022-10-27 01:48:12,349 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-27 01:48:12,715 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-27 01:48:12,750 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 30 ms. Found 2 JPA repository interfaces.
2022-10-27 01:48:13,082 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-10-27 01:48:13,087 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-10-27 01:48:13,087 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-27 01:48:13,088 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.68]
2022-10-27 01:48:13,147 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-27 01:48:13,147 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 772 ms
2022-10-27 01:48:13,246 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-27 01:48:13,273 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.12.Final
2022-10-27 01:48:13,358 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-27 01:48:13,411 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-27 01:48:13,506 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-27 01:48:13,514 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-10-27 01:48:13,975 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-27 01:48:13,980 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-27 01:48:14,357 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-27 01:48:14,566 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2022-10-27 01:48:14,580 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2022-10-27 01:48:14,588 INFO org.springframework.boot.StartupInfoLogger [main] Started DataJpaBooksProjectApplication in 2.431 seconds (JVM running for 2.96)
2022-10-27 01:48:14,610 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [main] 
    select
        author0_.id as id1_0_,
        author0_.created_by as created_2_0_,
        author0_.created_date as created_3_0_,
        author0_.last_modified_by as last_mod4_0_,
        author0_.last_modified_date as last_mod5_0_,
        author0_.status_code as status_c6_0_,
        author0_.email as email7_0_,
        author0_.ip_address as ip_addre8_0_,
        author0_.name as name9_0_,
        (select
            count(*) 
        from
            books b 
        where
            b.author_id = author0_.id) as formula1_ 
    from
        authors author0_
2022-10-27 01:48:14,634 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [main] 
    select
        book0_.id as id1_1_0_,
        author1_.id as id1_0_1_,
        book0_.created_by as created_2_1_0_,
        book0_.created_date as created_3_1_0_,
        book0_.last_modified_by as last_mod4_1_0_,
        book0_.last_modified_date as last_mod5_1_0_,
        book0_.status_code as status_c6_1_0_,
        book0_.author_id as author_i9_1_0_,
        book0_.name as name7_1_0_,
        book0_.price as price8_1_0_,
        (select
            count(*) 
        from
            books) as formula2_0_,
        author1_.created_by as created_2_0_1_,
        author1_.created_date as created_3_0_1_,
        author1_.last_modified_by as last_mod4_0_1_,
        author1_.last_modified_date as last_mod5_0_1_,
        author1_.status_code as status_c6_0_1_,
        author1_.email as email7_0_1_,
        author1_.ip_address as ip_addre8_0_1_,
        author1_.name as name9_0_1_,
        (select
            count(*) 
        from
            books b 
        where
            b.author_id = author1_.id) as formula1_1_ 
    from
        books book0_ 
    left outer join
        authors author1_ 
            on book0_.author_id=author1_.id
2022-10-27 01:48:18,658 INFO com.global.book.service.PriceSchedule [task-1] Compute Discount -> 2022-10-27T01:48:18.658061
2022-10-27 01:48:24,619 INFO com.global.book.service.PriceSchedule [task-4] Compute Discount -> 2022-10-27T01:48:24.619797200
2022-10-27 01:48:30,597 INFO com.global.book.service.PriceSchedule [task-7] Compute Discount -> 2022-10-27T01:48:30.597816800
2022-10-27 01:48:36,603 INFO com.global.book.service.PriceSchedule [task-3] Compute Discount -> 2022-10-27T01:48:36.603804700
2022-10-27 01:48:42,602 INFO com.global.book.service.PriceSchedule [task-6] Compute Discount -> 2022-10-27T01:48:42.602454900
2022-10-27 01:48:48,608 INFO com.global.book.service.PriceSchedule [task-2] Compute Discount -> 2022-10-27T01:48:48.608586200
2022-10-27 01:48:54,614 INFO com.global.book.service.PriceSchedule [task-5] Compute Discount -> 2022-10-27T01:48:54.614785100
2022-10-27 01:49:00,606 INFO com.global.book.service.PriceSchedule [task-8] Compute Discount -> 2022-10-27T01:49:00.606862100
2022-10-27 01:49:04,031 INFO com.global.book.service.PriceSchedule [task-7] Compute Price -> 2022-10-27T01:49:04.031683
2022-10-27 01:49:06,601 INFO com.global.book.service.PriceSchedule [task-2] Compute Discount -> 2022-10-27T01:49:06.601725300
2022-10-27 01:49:12,599 INFO com.global.book.service.PriceSchedule [task-5] Compute Discount -> 2022-10-27T01:49:12.599687700
2022-10-27 01:49:16,615 INFO com.global.book.service.PriceSchedule [task-1] Compute Discount -> 2022-10-27T01:49:16.615646
2022-10-27 01:49:22,598 INFO com.global.book.service.PriceSchedule [task-3] Compute Discount -> 2022-10-27T01:49:22.598945500
2022-10-27 01:49:26,616 INFO com.global.book.service.PriceSchedule [task-2] Compute Discount -> 2022-10-27T01:49:26.616852500
2022-10-27 01:49:32,602 INFO com.global.book.service.PriceSchedule [task-8] Compute Discount -> 2022-10-27T01:49:32.602516200
2022-10-27 01:49:38,592 INFO com.global.book.service.PriceSchedule [task-4] Compute Discount -> 2022-10-27T01:49:38.592629600
2022-10-27 01:49:42,609 INFO com.global.book.service.PriceSchedule [task-6] Compute Discount -> 2022-10-27T01:49:42.609672800
2022-10-27 01:49:48,600 INFO com.global.book.service.PriceSchedule [task-7] Compute Discount -> 2022-10-27T01:49:48.600615700
2022-10-27 01:49:52,616 INFO com.global.book.service.PriceSchedule [task-8] Compute Discount -> 2022-10-27T01:49:52.616998400
2022-10-27 01:49:58,604 INFO com.global.book.service.PriceSchedule [task-5] Compute Discount -> 2022-10-27T01:49:58.604665900
2022-10-27 01:50:04,011 INFO com.global.book.service.PriceSchedule [task-1] Compute Price -> 2022-10-27T01:50:04.011956100
2022-10-27 01:50:04,601 INFO com.global.book.service.PriceSchedule [task-7] Compute Discount -> 2022-10-27T01:50:04.601619500
2022-10-27 01:50:08,621 INFO com.global.book.service.PriceSchedule [task-4] Compute Discount -> 2022-10-27T01:50:08.621215
2022-10-27 01:50:14,607 INFO com.global.book.service.PriceSchedule [task-6] Compute Discount -> 2022-10-27T01:50:14.607478900
2022-10-27 01:50:20,611 INFO com.global.book.service.PriceSchedule [task-1] Compute Discount -> 2022-10-27T01:50:20.611666700
2022-10-27 01:50:26,610 INFO com.global.book.service.PriceSchedule [task-2] Compute Discount -> 2022-10-27T01:50:26.610340500
2022-10-27 01:50:32,600 INFO com.global.book.service.PriceSchedule [task-3] Compute Discount -> 2022-10-27T01:50:32.600739700
2022-10-27 01:50:38,612 INFO com.global.book.service.PriceSchedule [task-8] Compute Discount -> 2022-10-27T01:50:38.612010700
2022-10-27 01:50:44,602 INFO com.global.book.service.PriceSchedule [task-5] Compute Discount -> 2022-10-27T01:50:44.602221600
2022-10-27 01:50:44,728 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(6)-127.0.0.1] Application shutdown requested.
2022-10-27 01:50:44,744 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(6)-127.0.0.1] Pausing ProtocolHandler ["http-nio-8080"]
2022-10-27 01:50:44,744 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(6)-127.0.0.1] Stopping service [Tomcat]
2022-10-27 01:50:44,746 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(6)-127.0.0.1] Stopping ProtocolHandler ["http-nio-8080"]
2022-10-27 01:50:44,748 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(6)-127.0.0.1] Destroying ProtocolHandler ["http-nio-8080"]
2022-10-27 01:50:44,751 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [RMI TCP Connection(6)-127.0.0.1] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-27 01:50:44,751 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(6)-127.0.0.1] HikariPool-1 - Shutdown initiated...
2022-10-27 01:50:44,754 ERROR org.springframework.aop.interceptor.SimpleAsyncUncaughtExceptionHandler [task-6] Unexpected exception occurred invoking async method: public void com.global.book.service.PriceSchedule.computeDiscount() throws java.lang.InterruptedException
java.lang.InterruptedException: sleep interrupted
	at java.base/java.lang.Thread.sleep(Native Method)
	at com.global.book.service.PriceSchedule.computeDiscount(PriceSchedule.java:34)
	at com.global.book.service.PriceSchedule$$FastClassBySpringCGLIB$$a6c7ce20.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at net.javacrumbs.shedlock.core.DefaultLockingTaskExecutor.executeWithLock(DefaultLockingTaskExecutor.java:74)
	at net.javacrumbs.shedlock.spring.aop.MethodProxyScheduledLockAdvisor$LockingInterceptor.invoke(MethodProxyScheduledLockAdvisor.java:86)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
2022-10-27 01:50:44,757 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(6)-127.0.0.1] HikariPool-1 - Shutdown completed.
2022-10-27 01:50:47,000 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2022-10-27 01:50:47,005 INFO org.springframework.boot.StartupInfoLogger [main] Starting DataJpaBooksProjectApplication using Java 17.0.4.1 on DESKTOP-N2KRF5H with PID 18136 (C:\Users\princ\Desktop\projects\data-jpa-books-project\target\classes started by princ in C:\Users\princ\Desktop\projects\data-jpa-books-project)
2022-10-27 01:50:47,006 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.7.5, Spring v5.3.23
2022-10-27 01:50:47,006 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-27 01:50:47,392 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-27 01:50:47,433 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 35 ms. Found 2 JPA repository interfaces.
2022-10-27 01:50:47,777 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-10-27 01:50:47,783 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-10-27 01:50:47,784 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-27 01:50:47,784 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.68]
2022-10-27 01:50:47,842 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-27 01:50:47,843 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 808 ms
2022-10-27 01:50:47,937 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-27 01:50:47,965 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.12.Final
2022-10-27 01:50:48,050 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-27 01:50:48,105 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-27 01:50:48,202 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-27 01:50:48,211 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-10-27 01:50:48,631 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-27 01:50:48,636 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-27 01:50:48,995 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-27 01:50:49,207 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2022-10-27 01:50:49,221 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2022-10-27 01:50:49,229 INFO org.springframework.boot.StartupInfoLogger [main] Started DataJpaBooksProjectApplication in 2.424 seconds (JVM running for 2.971)
2022-10-27 01:50:49,252 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [main] 
    select
        author0_.id as id1_0_,
        author0_.created_by as created_2_0_,
        author0_.created_date as created_3_0_,
        author0_.last_modified_by as last_mod4_0_,
        author0_.last_modified_date as last_mod5_0_,
        author0_.status_code as status_c6_0_,
        author0_.email as email7_0_,
        author0_.ip_address as ip_addre8_0_,
        author0_.name as name9_0_,
        (select
            count(*) 
        from
            books b 
        where
            b.author_id = author0_.id) as formula1_ 
    from
        authors author0_
2022-10-27 01:50:49,274 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [main] 
    select
        book0_.id as id1_1_0_,
        author1_.id as id1_0_1_,
        book0_.created_by as created_2_1_0_,
        book0_.created_date as created_3_1_0_,
        book0_.last_modified_by as last_mod4_1_0_,
        book0_.last_modified_date as last_mod5_1_0_,
        book0_.status_code as status_c6_1_0_,
        book0_.author_id as author_i9_1_0_,
        book0_.name as name7_1_0_,
        book0_.price as price8_1_0_,
        (select
            count(*) 
        from
            books) as formula2_0_,
        author1_.created_by as created_2_0_1_,
        author1_.created_date as created_3_0_1_,
        author1_.last_modified_by as last_mod4_0_1_,
        author1_.last_modified_date as last_mod5_0_1_,
        author1_.status_code as status_c6_0_1_,
        author1_.email as email7_0_1_,
        author1_.ip_address as ip_addre8_0_1_,
        author1_.name as name9_0_1_,
        (select
            count(*) 
        from
            books b 
        where
            b.author_id = author1_.id) as formula1_1_ 
    from
        books book0_ 
    left outer join
        authors author1_ 
            on book0_.author_id=author1_.id
2022-10-27 01:50:53,306 INFO com.global.book.service.PriceSchedule [task-1] Compute Discount -> 2022-10-27T01:50:53.306658400
2022-10-27 01:50:59,241 INFO com.global.book.service.PriceSchedule [task-4] Compute Discount -> 2022-10-27T01:50:59.241826600
2022-10-27 01:51:03,248 INFO com.global.book.service.PriceSchedule [task-6] Compute Discount -> 2022-10-27T01:51:03.248751600
2022-10-27 01:51:04,025 INFO com.global.book.service.PriceSchedule [task-7] Compute Price -> 2022-10-27T01:51:04.025735600
2022-10-27 01:51:09,247 INFO com.global.book.service.PriceSchedule [task-3] Compute Discount -> 2022-10-27T01:51:09.247398400
2022-10-27 01:51:15,240 INFO com.global.book.service.PriceSchedule [task-4] Compute Discount -> 2022-10-27T01:51:15.240656
2022-10-27 01:51:21,259 INFO com.global.book.service.PriceSchedule [task-6] Compute Discount -> 2022-10-27T01:51:21.259422900
2022-10-27 01:51:27,240 INFO com.global.book.service.PriceSchedule [task-5] Compute Discount -> 2022-10-27T01:51:27.240833700
2022-10-27 01:51:33,246 INFO com.global.book.service.PriceSchedule [task-2] Compute Discount -> 2022-10-27T01:51:33.246110900
2022-10-27 01:51:39,249 INFO com.global.book.service.PriceSchedule [task-1] Compute Discount -> 2022-10-27T01:51:39.249802900
2022-10-27 01:51:45,253 INFO com.global.book.service.PriceSchedule [task-8] Compute Discount -> 2022-10-27T01:51:45.253159800
2022-10-27 01:51:51,251 INFO com.global.book.service.PriceSchedule [task-7] Compute Discount -> 2022-10-27T01:51:51.251374
2022-10-27 01:51:57,241 INFO com.global.book.service.PriceSchedule [task-3] Compute Discount -> 2022-10-27T01:51:57.241951800
2022-10-27 01:52:03,246 INFO com.global.book.service.PriceSchedule [task-4] Compute Discount -> 2022-10-27T01:52:03.246571200
2022-10-27 01:52:04,019 INFO com.global.book.service.PriceSchedule [task-8] Compute Price -> 2022-10-27T01:52:04.019275
2022-10-27 01:52:09,233 INFO com.global.book.service.PriceSchedule [task-7] Compute Discount -> 2022-10-27T01:52:09.233852600
2022-10-27 01:52:15,249 INFO com.global.book.service.PriceSchedule [task-3] Compute Discount -> 2022-10-27T01:52:15.249428200
2022-10-27 01:52:21,249 INFO com.global.book.service.PriceSchedule [task-4] Compute Discount -> 2022-10-27T01:52:21.249133600
2022-10-27 01:52:27,247 INFO com.global.book.service.PriceSchedule [task-5] Compute Discount -> 2022-10-27T01:52:27.247302400
2022-10-27 01:52:33,250 INFO com.global.book.service.PriceSchedule [task-6] Compute Discount -> 2022-10-27T01:52:33.250917600
2022-10-27 01:52:39,249 INFO com.global.book.service.PriceSchedule [task-1] Compute Discount -> 2022-10-27T01:52:39.249645
2022-10-27 01:52:45,249 INFO com.global.book.service.PriceSchedule [task-2] Compute Discount -> 2022-10-27T01:52:45.249147
2022-10-27 01:52:51,254 INFO com.global.book.service.PriceSchedule [task-8] Compute Discount -> 2022-10-27T01:52:51.254104900
2022-10-27 01:52:57,242 INFO com.global.book.service.PriceSchedule [task-7] Compute Discount -> 2022-10-27T01:52:57.242328
2022-10-27 01:53:01,258 INFO com.global.book.service.PriceSchedule [task-5] Compute Discount -> 2022-10-27T01:53:01.258607700
2022-10-27 01:53:04,019 INFO com.global.book.service.PriceSchedule [task-2] Compute Price -> 2022-10-27T01:53:04.019060800
2022-10-27 01:53:07,243 INFO com.global.book.service.PriceSchedule [task-4] Compute Discount -> 2022-10-27T01:53:07.243163800
2022-10-27 01:53:11,252 INFO com.global.book.service.PriceSchedule [task-1] Compute Discount -> 2022-10-27T01:53:11.252174900
2022-10-27 01:53:17,246 INFO com.global.book.service.PriceSchedule [task-6] Compute Discount -> 2022-10-27T01:53:17.246807400
2022-10-27 01:53:23,250 INFO com.global.book.service.PriceSchedule [task-8] Compute Discount -> 2022-10-27T01:53:23.250579300
2022-10-27 01:53:29,255 INFO com.global.book.service.PriceSchedule [task-3] Compute Discount -> 2022-10-27T01:53:29.255332500
2022-10-27 01:53:34,952 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(6)-127.0.0.1] Application shutdown requested.
2022-10-27 01:53:34,967 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(6)-127.0.0.1] Pausing ProtocolHandler ["http-nio-8080"]
2022-10-27 01:53:34,968 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(6)-127.0.0.1] Stopping service [Tomcat]
2022-10-27 01:53:34,970 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(6)-127.0.0.1] Stopping ProtocolHandler ["http-nio-8080"]
2022-10-27 01:53:34,972 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(6)-127.0.0.1] Destroying ProtocolHandler ["http-nio-8080"]
2022-10-27 01:53:34,974 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [RMI TCP Connection(6)-127.0.0.1] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-27 01:53:34,975 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(6)-127.0.0.1] HikariPool-1 - Shutdown initiated...
2022-10-27 01:53:34,978 ERROR org.springframework.aop.interceptor.SimpleAsyncUncaughtExceptionHandler [task-2] Unexpected exception occurred invoking async method: public void com.global.book.service.PriceSchedule.computeDiscount() throws java.lang.InterruptedException
java.lang.InterruptedException: sleep interrupted
	at java.base/java.lang.Thread.sleep(Native Method)
	at com.global.book.service.PriceSchedule.computeDiscount(PriceSchedule.java:36)
	at com.global.book.service.PriceSchedule$$FastClassBySpringCGLIB$$a6c7ce20.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at net.javacrumbs.shedlock.core.DefaultLockingTaskExecutor.executeWithLock(DefaultLockingTaskExecutor.java:74)
	at net.javacrumbs.shedlock.spring.aop.MethodProxyScheduledLockAdvisor$LockingInterceptor.invoke(MethodProxyScheduledLockAdvisor.java:86)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
2022-10-27 01:53:34,980 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(6)-127.0.0.1] HikariPool-1 - Shutdown completed.
2022-10-27 01:53:37,517 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2022-10-27 01:53:37,523 INFO org.springframework.boot.StartupInfoLogger [main] Starting DataJpaBooksProjectApplication using Java 17.0.4.1 on DESKTOP-N2KRF5H with PID 20192 (C:\Users\princ\Desktop\projects\data-jpa-books-project\target\classes started by princ in C:\Users\princ\Desktop\projects\data-jpa-books-project)
2022-10-27 01:53:37,524 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.7.5, Spring v5.3.23
2022-10-27 01:53:37,524 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-27 01:53:37,895 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-27 01:53:37,928 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 29 ms. Found 2 JPA repository interfaces.
2022-10-27 01:53:38,255 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-10-27 01:53:38,261 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-10-27 01:53:38,261 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-27 01:53:38,262 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.68]
2022-10-27 01:53:38,322 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-27 01:53:38,322 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 769 ms
2022-10-27 01:53:38,418 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-27 01:53:38,444 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.12.Final
2022-10-27 01:53:38,528 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-27 01:53:38,584 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-27 01:53:38,678 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-27 01:53:38,687 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-10-27 01:53:39,101 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-27 01:53:39,105 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-27 01:53:39,486 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-27 01:53:39,714 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2022-10-27 01:53:39,728 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2022-10-27 01:53:39,735 INFO org.springframework.boot.StartupInfoLogger [main] Started DataJpaBooksProjectApplication in 2.416 seconds (JVM running for 2.941)
2022-10-27 01:53:39,759 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [main] 
    select
        author0_.id as id1_0_,
        author0_.created_by as created_2_0_,
        author0_.created_date as created_3_0_,
        author0_.last_modified_by as last_mod4_0_,
        author0_.last_modified_date as last_mod5_0_,
        author0_.status_code as status_c6_0_,
        author0_.email as email7_0_,
        author0_.ip_address as ip_addre8_0_,
        author0_.name as name9_0_,
        (select
            count(*) 
        from
            books b 
        where
            b.author_id = author0_.id) as formula1_ 
    from
        authors author0_
2022-10-27 01:53:39,784 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [main] 
    select
        book0_.id as id1_1_0_,
        author1_.id as id1_0_1_,
        book0_.created_by as created_2_1_0_,
        book0_.created_date as created_3_1_0_,
        book0_.last_modified_by as last_mod4_1_0_,
        book0_.last_modified_date as last_mod5_1_0_,
        book0_.status_code as status_c6_1_0_,
        book0_.author_id as author_i9_1_0_,
        book0_.name as name7_1_0_,
        book0_.price as price8_1_0_,
        (select
            count(*) 
        from
            books) as formula2_0_,
        author1_.created_by as created_2_0_1_,
        author1_.created_date as created_3_0_1_,
        author1_.last_modified_by as last_mod4_0_1_,
        author1_.last_modified_date as last_mod5_0_1_,
        author1_.status_code as status_c6_0_1_,
        author1_.email as email7_0_1_,
        author1_.ip_address as ip_addre8_0_1_,
        author1_.name as name9_0_1_,
        (select
            count(*) 
        from
            books b 
        where
            b.author_id = author1_.id) as formula1_1_ 
    from
        books book0_ 
    left outer join
        authors author1_ 
            on book0_.author_id=author1_.id
2022-10-27 01:53:43,802 INFO com.global.book.service.PriceSchedule [task-1] Compute Discount -> 2022-10-27T01:53:43.802274500
2022-10-27 01:53:49,756 INFO com.global.book.service.PriceSchedule [task-4] Compute Discount -> 2022-10-27T01:53:49.756401500
2022-10-27 01:53:51,668 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(2)-127.0.0.1] Application shutdown requested.
2022-10-27 01:53:51,682 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(2)-127.0.0.1] Pausing ProtocolHandler ["http-nio-8080"]
2022-10-27 01:53:51,682 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(2)-127.0.0.1] Stopping service [Tomcat]
2022-10-27 01:53:51,684 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(2)-127.0.0.1] Stopping ProtocolHandler ["http-nio-8080"]
2022-10-27 01:53:51,686 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(2)-127.0.0.1] Destroying ProtocolHandler ["http-nio-8080"]
2022-10-27 01:53:51,688 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [RMI TCP Connection(2)-127.0.0.1] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-27 01:53:51,689 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(2)-127.0.0.1] HikariPool-1 - Shutdown initiated...
2022-10-27 01:53:51,692 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(2)-127.0.0.1] HikariPool-1 - Shutdown completed.
2022-10-27 01:54:15,937 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2022-10-27 01:54:15,942 INFO org.springframework.boot.StartupInfoLogger [main] Starting DataJpaBooksProjectApplication using Java 17.0.4.1 on DESKTOP-N2KRF5H with PID 20452 (C:\Users\princ\Desktop\projects\data-jpa-books-project\target\classes started by princ in C:\Users\princ\Desktop\projects\data-jpa-books-project)
2022-10-27 01:54:15,942 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.7.5, Spring v5.3.23
2022-10-27 01:54:15,943 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-27 01:54:16,330 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-27 01:54:16,369 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 32 ms. Found 2 JPA repository interfaces.
2022-10-27 01:54:16,702 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-10-27 01:54:16,708 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-10-27 01:54:16,709 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-27 01:54:16,710 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.68]
2022-10-27 01:54:16,767 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-27 01:54:16,767 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 794 ms
2022-10-27 01:54:16,856 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-27 01:54:16,882 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.12.Final
2022-10-27 01:54:16,967 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-27 01:54:17,020 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-27 01:54:17,120 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-27 01:54:17,129 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-10-27 01:54:17,580 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-27 01:54:17,588 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-27 01:54:18,041 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-27 01:54:18,282 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2022-10-27 01:54:18,300 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2022-10-27 01:54:18,311 INFO org.springframework.boot.StartupInfoLogger [main] Started DataJpaBooksProjectApplication in 2.576 seconds (JVM running for 3.174)
2022-10-27 01:54:18,342 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [main] 
    select
        author0_.id as id1_0_,
        author0_.created_by as created_2_0_,
        author0_.created_date as created_3_0_,
        author0_.last_modified_by as last_mod4_0_,
        author0_.last_modified_date as last_mod5_0_,
        author0_.status_code as status_c6_0_,
        author0_.email as email7_0_,
        author0_.ip_address as ip_addre8_0_,
        author0_.name as name9_0_,
        (select
            count(*) 
        from
            books b 
        where
            b.author_id = author0_.id) as formula1_ 
    from
        authors author0_
2022-10-27 01:54:18,369 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [main] 
    select
        book0_.id as id1_1_0_,
        author1_.id as id1_0_1_,
        book0_.created_by as created_2_1_0_,
        book0_.created_date as created_3_1_0_,
        book0_.last_modified_by as last_mod4_1_0_,
        book0_.last_modified_date as last_mod5_1_0_,
        book0_.status_code as status_c6_1_0_,
        book0_.author_id as author_i9_1_0_,
        book0_.name as name7_1_0_,
        book0_.price as price8_1_0_,
        (select
            count(*) 
        from
            books) as formula2_0_,
        author1_.created_by as created_2_0_1_,
        author1_.created_date as created_3_0_1_,
        author1_.last_modified_by as last_mod4_0_1_,
        author1_.last_modified_date as last_mod5_0_1_,
        author1_.status_code as status_c6_0_1_,
        author1_.email as email7_0_1_,
        author1_.ip_address as ip_addre8_0_1_,
        author1_.name as name9_0_1_,
        (select
            count(*) 
        from
            books b 
        where
            b.author_id = author1_.id) as formula1_1_ 
    from
        books book0_ 
    left outer join
        authors author1_ 
            on book0_.author_id=author1_.id
2022-10-27 01:54:22,324 INFO com.global.book.service.PriceSchedule [task-1] Compute Discount -> 2022-10-27T01:54:22.324907700
2022-10-27 01:54:24,328 INFO com.global.book.service.PriceSchedule [task-2] Compute Discount -> 2022-10-27T01:54:24.328917700
2022-10-27 01:54:26,333 INFO com.global.book.service.PriceSchedule [task-3] Compute Discount -> 2022-10-27T01:54:26.333897300
2022-10-27 01:54:28,319 INFO com.global.book.service.PriceSchedule [task-4] Compute Discount -> 2022-10-27T01:54:28.319425800
2022-10-27 01:54:30,049 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(2)-127.0.0.1] Application shutdown requested.
2022-10-27 01:54:30,063 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(2)-127.0.0.1] Pausing ProtocolHandler ["http-nio-8080"]
2022-10-27 01:54:30,064 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(2)-127.0.0.1] Stopping service [Tomcat]
2022-10-27 01:54:30,066 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(2)-127.0.0.1] Stopping ProtocolHandler ["http-nio-8080"]
2022-10-27 01:54:30,068 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(2)-127.0.0.1] Destroying ProtocolHandler ["http-nio-8080"]
2022-10-27 01:54:30,070 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [RMI TCP Connection(2)-127.0.0.1] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-27 01:54:30,071 ERROR org.springframework.aop.interceptor.SimpleAsyncUncaughtExceptionHandler [task-5] Unexpected exception occurred invoking async method: public void com.global.book.service.PriceSchedule.computeDiscount() throws java.lang.InterruptedException
java.lang.InterruptedException: sleep interrupted
	at java.base/java.lang.Thread.sleep(Native Method)
	at com.global.book.service.PriceSchedule.computeDiscount(PriceSchedule.java:36)
	at com.global.book.service.PriceSchedule$$FastClassBySpringCGLIB$$a6c7ce20.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
2022-10-27 01:54:30,071 ERROR org.springframework.aop.interceptor.SimpleAsyncUncaughtExceptionHandler [task-6] Unexpected exception occurred invoking async method: public void com.global.book.service.PriceSchedule.computeDiscount() throws java.lang.InterruptedException
java.lang.InterruptedException: sleep interrupted
	at java.base/java.lang.Thread.sleep(Native Method)
	at com.global.book.service.PriceSchedule.computeDiscount(PriceSchedule.java:36)
	at com.global.book.service.PriceSchedule$$FastClassBySpringCGLIB$$a6c7ce20.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
2022-10-27 01:54:30,072 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(2)-127.0.0.1] HikariPool-1 - Shutdown initiated...
2022-10-27 01:54:30,076 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(2)-127.0.0.1] HikariPool-1 - Shutdown completed.
2022-10-27 01:54:34,890 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2022-10-27 01:54:34,895 INFO org.springframework.boot.StartupInfoLogger [main] Starting DataJpaBooksProjectApplication using Java 17.0.4.1 on DESKTOP-N2KRF5H with PID 18528 (C:\Users\princ\Desktop\projects\data-jpa-books-project\target\classes started by princ in C:\Users\princ\Desktop\projects\data-jpa-books-project)
2022-10-27 01:54:34,896 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.7.5, Spring v5.3.23
2022-10-27 01:54:34,896 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-27 01:54:35,293 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-27 01:54:35,332 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 34 ms. Found 2 JPA repository interfaces.
2022-10-27 01:54:35,678 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-10-27 01:54:35,683 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-10-27 01:54:35,684 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-27 01:54:35,684 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.68]
2022-10-27 01:54:35,745 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-27 01:54:35,746 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 821 ms
2022-10-27 01:54:35,850 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-27 01:54:35,879 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.12.Final
2022-10-27 01:54:35,963 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-27 01:54:36,019 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-27 01:54:36,113 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-27 01:54:36,122 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-10-27 01:54:36,570 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-27 01:54:36,576 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-27 01:54:36,948 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-27 01:54:37,146 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2022-10-27 01:54:37,160 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2022-10-27 01:54:37,169 INFO org.springframework.boot.StartupInfoLogger [main] Started DataJpaBooksProjectApplication in 2.493 seconds (JVM running for 3.021)
2022-10-27 01:54:37,192 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [main] 
    select
        author0_.id as id1_0_,
        author0_.created_by as created_2_0_,
        author0_.created_date as created_3_0_,
        author0_.last_modified_by as last_mod4_0_,
        author0_.last_modified_date as last_mod5_0_,
        author0_.status_code as status_c6_0_,
        author0_.email as email7_0_,
        author0_.ip_address as ip_addre8_0_,
        author0_.name as name9_0_,
        (select
            count(*) 
        from
            books b 
        where
            b.author_id = author0_.id) as formula1_ 
    from
        authors author0_
2022-10-27 01:54:37,212 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [main] 
    select
        book0_.id as id1_1_0_,
        author1_.id as id1_0_1_,
        book0_.created_by as created_2_1_0_,
        book0_.created_date as created_3_1_0_,
        book0_.last_modified_by as last_mod4_1_0_,
        book0_.last_modified_date as last_mod5_1_0_,
        book0_.status_code as status_c6_1_0_,
        book0_.author_id as author_i9_1_0_,
        book0_.name as name7_1_0_,
        book0_.price as price8_1_0_,
        (select
            count(*) 
        from
            books) as formula2_0_,
        author1_.created_by as created_2_0_1_,
        author1_.created_date as created_3_0_1_,
        author1_.last_modified_by as last_mod4_0_1_,
        author1_.last_modified_date as last_mod5_0_1_,
        author1_.status_code as status_c6_0_1_,
        author1_.email as email7_0_1_,
        author1_.ip_address as ip_addre8_0_1_,
        author1_.name as name9_0_1_,
        (select
            count(*) 
        from
            books b 
        where
            b.author_id = author1_.id) as formula1_1_ 
    from
        books book0_ 
    left outer join
        authors author1_ 
            on book0_.author_id=author1_.id
2022-10-27 01:54:41,173 INFO com.global.book.service.PriceSchedule [task-1] Compute Discount -> 2022-10-27T01:54:41.173912400
2022-10-27 01:54:43,181 INFO com.global.book.service.PriceSchedule [task-2] Compute Discount -> 2022-10-27T01:54:43.181728200
2022-10-27 01:54:45,001 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(2)-127.0.0.1] Application shutdown requested.
2022-10-27 01:54:45,025 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(2)-127.0.0.1] Pausing ProtocolHandler ["http-nio-8080"]
2022-10-27 01:54:45,025 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(2)-127.0.0.1] Stopping service [Tomcat]
2022-10-27 01:54:45,028 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(2)-127.0.0.1] Stopping ProtocolHandler ["http-nio-8080"]
2022-10-27 01:54:45,030 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(2)-127.0.0.1] Destroying ProtocolHandler ["http-nio-8080"]
2022-10-27 01:54:45,032 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [RMI TCP Connection(2)-127.0.0.1] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-27 01:54:45,033 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(2)-127.0.0.1] HikariPool-1 - Shutdown initiated...
2022-10-27 01:54:45,033 ERROR org.springframework.aop.interceptor.SimpleAsyncUncaughtExceptionHandler [task-3] Unexpected exception occurred invoking async method: public void com.global.book.service.PriceSchedule.computeDiscount() throws java.lang.InterruptedException
java.lang.InterruptedException: sleep interrupted
	at java.base/java.lang.Thread.sleep(Native Method)
	at com.global.book.service.PriceSchedule.computeDiscount(PriceSchedule.java:36)
	at com.global.book.service.PriceSchedule$$FastClassBySpringCGLIB$$a6c7ce20.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
2022-10-27 01:54:45,033 ERROR org.springframework.aop.interceptor.SimpleAsyncUncaughtExceptionHandler [task-4] Unexpected exception occurred invoking async method: public void com.global.book.service.PriceSchedule.computeDiscount() throws java.lang.InterruptedException
java.lang.InterruptedException: sleep interrupted
	at java.base/java.lang.Thread.sleep(Native Method)
	at com.global.book.service.PriceSchedule.computeDiscount(PriceSchedule.java:36)
	at com.global.book.service.PriceSchedule$$FastClassBySpringCGLIB$$a6c7ce20.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
2022-10-27 01:54:45,037 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(2)-127.0.0.1] HikariPool-1 - Shutdown completed.
2022-10-27 02:08:18,062 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2022-10-27 02:08:18,066 INFO org.springframework.boot.StartupInfoLogger [main] Starting DataJpaBooksProjectApplication using Java 17.0.4.1 on DESKTOP-N2KRF5H with PID 20700 (C:\Users\princ\Desktop\projects\data-jpa-books-project\target\classes started by princ in C:\Users\princ\Desktop\projects\data-jpa-books-project)
2022-10-27 02:08:18,066 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.7.5, Spring v5.3.23
2022-10-27 02:08:18,067 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-27 02:08:18,434 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-27 02:08:18,470 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 31 ms. Found 2 JPA repository interfaces.
2022-10-27 02:08:18,800 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-10-27 02:08:18,806 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-10-27 02:08:18,806 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-27 02:08:18,806 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.68]
2022-10-27 02:08:18,864 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-27 02:08:18,864 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 766 ms
2022-10-27 02:08:18,957 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-27 02:08:18,984 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.12.Final
2022-10-27 02:08:19,069 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-27 02:08:19,123 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-27 02:08:19,222 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-27 02:08:19,230 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-10-27 02:08:19,680 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-27 02:08:19,685 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-27 02:08:20,078 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-27 02:08:20,303 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2022-10-27 02:08:20,317 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2022-10-27 02:08:20,325 INFO org.springframework.boot.StartupInfoLogger [main] Started DataJpaBooksProjectApplication in 2.473 seconds (JVM running for 2.993)
2022-10-27 02:08:20,353 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [main] 
    select
        author0_.id as id1_0_,
        author0_.created_by as created_2_0_,
        author0_.created_date as created_3_0_,
        author0_.last_modified_by as last_mod4_0_,
        author0_.last_modified_date as last_mod5_0_,
        author0_.status_code as status_c6_0_,
        author0_.email as email7_0_,
        author0_.ip_address as ip_addre8_0_,
        author0_.name as name9_0_,
        (select
            count(*) 
        from
            books b 
        where
            b.author_id = author0_.id) as formula1_ 
    from
        authors author0_
2022-10-27 02:08:20,375 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [main] 
    select
        book0_.id as id1_1_0_,
        author1_.id as id1_0_1_,
        book0_.created_by as created_2_1_0_,
        book0_.created_date as created_3_1_0_,
        book0_.last_modified_by as last_mod4_1_0_,
        book0_.last_modified_date as last_mod5_1_0_,
        book0_.status_code as status_c6_1_0_,
        book0_.author_id as author_i9_1_0_,
        book0_.name as name7_1_0_,
        book0_.price as price8_1_0_,
        (select
            count(*) 
        from
            books) as formula2_0_,
        author1_.created_by as created_2_0_1_,
        author1_.created_date as created_3_0_1_,
        author1_.last_modified_by as last_mod4_0_1_,
        author1_.last_modified_date as last_mod5_0_1_,
        author1_.status_code as status_c6_0_1_,
        author1_.email as email7_0_1_,
        author1_.ip_address as ip_addre8_0_1_,
        author1_.name as name9_0_1_,
        (select
            count(*) 
        from
            books b 
        where
            b.author_id = author1_.id) as formula1_1_ 
    from
        books book0_ 
    left outer join
        authors author1_ 
            on book0_.author_id=author1_.id
2022-10-27 02:08:24,390 INFO com.global.book.service.PriceSchedule [task-1] Compute Discount -> 2022-10-27T02:08:24.390501100
2022-10-27 02:08:30,338 INFO com.global.book.service.PriceSchedule [task-4] Compute Discount -> 2022-10-27T02:08:30.338183800
2022-10-27 02:08:34,359 INFO com.global.book.service.PriceSchedule [task-6] Compute Discount -> 2022-10-27T02:08:34.359369900
2022-10-27 02:08:40,335 INFO com.global.book.service.PriceSchedule [task-2] Compute Discount -> 2022-10-27T02:08:40.335516800
2022-10-27 02:08:44,350 INFO com.global.book.service.PriceSchedule [task-1] Compute Discount -> 2022-10-27T02:08:44.350250200
2022-10-27 02:08:46,264 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-27 02:08:46,264 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-2] Initializing Servlet 'dispatcherServlet'
2022-10-27 02:08:46,265 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-2] Completed initialization in 1 ms
2022-10-27 02:08:46,297 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        author0_.id as id1_0_,
        author0_.created_by as created_2_0_,
        author0_.created_date as created_3_0_,
        author0_.last_modified_by as last_mod4_0_,
        author0_.last_modified_date as last_mod5_0_,
        author0_.status_code as status_c6_0_,
        author0_.email as email7_0_,
        author0_.ip_address as ip_addre8_0_,
        author0_.name as name9_0_,
        (select
            count(*) 
        from
            books b 
        where
            b.author_id = author0_.id) as formula1_ 
    from
        authors author0_
2022-10-27 02:08:46,346 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        books0_.author_id as author_i9_1_0_,
        books0_.id as id1_1_0_,
        books0_.id as id1_1_1_,
        books0_.created_by as created_2_1_1_,
        books0_.created_date as created_3_1_1_,
        books0_.last_modified_by as last_mod4_1_1_,
        books0_.last_modified_date as last_mod5_1_1_,
        books0_.status_code as status_c6_1_1_,
        books0_.author_id as author_i9_1_1_,
        books0_.name as name7_1_1_,
        books0_.price as price8_1_1_,
        (select
            count(*) 
        from
            books) as formula2_1_ 
    from
        books books0_ 
    where
        books0_.author_id=?
2022-10-27 02:08:46,353 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        books0_.author_id as author_i9_1_0_,
        books0_.id as id1_1_0_,
        books0_.id as id1_1_1_,
        books0_.created_by as created_2_1_1_,
        books0_.created_date as created_3_1_1_,
        books0_.last_modified_by as last_mod4_1_1_,
        books0_.last_modified_date as last_mod5_1_1_,
        books0_.status_code as status_c6_1_1_,
        books0_.author_id as author_i9_1_1_,
        books0_.name as name7_1_1_,
        books0_.price as price8_1_1_,
        (select
            count(*) 
        from
            books) as formula2_1_ 
    from
        books books0_ 
    where
        books0_.author_id=?
2022-10-27 02:08:46,355 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        books0_.author_id as author_i9_1_0_,
        books0_.id as id1_1_0_,
        books0_.id as id1_1_1_,
        books0_.created_by as created_2_1_1_,
        books0_.created_date as created_3_1_1_,
        books0_.last_modified_by as last_mod4_1_1_,
        books0_.last_modified_date as last_mod5_1_1_,
        books0_.status_code as status_c6_1_1_,
        books0_.author_id as author_i9_1_1_,
        books0_.name as name7_1_1_,
        books0_.price as price8_1_1_,
        (select
            count(*) 
        from
            books) as formula2_1_ 
    from
        books books0_ 
    where
        books0_.author_id=?
2022-10-27 02:08:46,356 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        books0_.author_id as author_i9_1_0_,
        books0_.id as id1_1_0_,
        books0_.id as id1_1_1_,
        books0_.created_by as created_2_1_1_,
        books0_.created_date as created_3_1_1_,
        books0_.last_modified_by as last_mod4_1_1_,
        books0_.last_modified_date as last_mod5_1_1_,
        books0_.status_code as status_c6_1_1_,
        books0_.author_id as author_i9_1_1_,
        books0_.name as name7_1_1_,
        books0_.price as price8_1_1_,
        (select
            count(*) 
        from
            books) as formula2_1_ 
    from
        books books0_ 
    where
        books0_.author_id=?
2022-10-27 02:08:46,359 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        books0_.author_id as author_i9_1_0_,
        books0_.id as id1_1_0_,
        books0_.id as id1_1_1_,
        books0_.created_by as created_2_1_1_,
        books0_.created_date as created_3_1_1_,
        books0_.last_modified_by as last_mod4_1_1_,
        books0_.last_modified_date as last_mod5_1_1_,
        books0_.status_code as status_c6_1_1_,
        books0_.author_id as author_i9_1_1_,
        books0_.name as name7_1_1_,
        books0_.price as price8_1_1_,
        (select
            count(*) 
        from
            books) as formula2_1_ 
    from
        books books0_ 
    where
        books0_.author_id=?
2022-10-27 02:08:50,337 INFO com.global.book.service.PriceSchedule [task-7] Compute Discount -> 2022-10-27T02:08:50.337843700
2022-10-27 02:08:54,346 INFO com.global.book.service.PriceSchedule [task-6] Compute Discount -> 2022-10-27T02:08:54.346859900
2022-10-27 02:09:00,350 INFO com.global.book.service.PriceSchedule [task-5] Compute Discount -> 2022-10-27T02:09:00.350331700
2022-10-27 02:09:04,027 INFO com.global.book.service.PriceSchedule [task-1] Compute Price -> 2022-10-27T02:09:04.027075200
2022-10-27 02:09:06,346 INFO com.global.book.service.PriceSchedule [task-7] Compute Discount -> 2022-10-27T02:09:06.346405
2022-10-27 02:09:12,348 INFO com.global.book.service.PriceSchedule [task-6] Compute Discount -> 2022-10-27T02:09:12.348386400
2022-10-27 02:09:12,985 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [task-5] 
    select
        author0_.id as id1_0_,
        author0_.created_by as created_2_0_,
        author0_.created_date as created_3_0_,
        author0_.last_modified_by as last_mod4_0_,
        author0_.last_modified_date as last_mod5_0_,
        author0_.status_code as status_c6_0_,
        author0_.email as email7_0_,
        author0_.ip_address as ip_addre8_0_,
        author0_.name as name9_0_,
        (select
            count(*) 
        from
            books b 
        where
            b.author_id = author0_.id) as formula1_ 
    from
        authors author0_ 
    where
        author0_.email=?
2022-10-27 02:09:18,355 INFO com.global.book.service.PriceSchedule [task-1] Compute Discount -> 2022-10-27T02:09:18.355563900
2022-10-27 02:09:19,513 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [task-7] 
    select
        author0_.id as id1_0_,
        author0_.created_by as created_2_0_,
        author0_.created_date as created_3_0_,
        author0_.last_modified_by as last_mod4_0_,
        author0_.last_modified_date as last_mod5_0_,
        author0_.status_code as status_c6_0_,
        author0_.email as email7_0_,
        author0_.ip_address as ip_addre8_0_,
        author0_.name as name9_0_,
        (select
            count(*) 
        from
            books b 
        where
            b.author_id = author0_.id) as formula1_ 
    from
        authors author0_ 
    where
        author0_.email=?
2022-10-27 02:09:24,341 INFO com.global.book.service.PriceSchedule [task-4] Compute Discount -> 2022-10-27T02:09:24.341194100
2022-10-27 02:09:30,343 INFO com.global.book.service.PriceSchedule [task-5] Compute Discount -> 2022-10-27T02:09:30.343220
2022-10-27 02:09:36,342 INFO com.global.book.service.PriceSchedule [task-1] Compute Discount -> 2022-10-27T02:09:36.342931400
2022-10-27 02:09:42,336 INFO com.global.book.service.PriceSchedule [task-6] Compute Discount -> 2022-10-27T02:09:42.336469800
2022-10-27 02:09:46,353 INFO com.global.book.service.PriceSchedule [task-3] Compute Discount -> 2022-10-27T02:09:46.353943700
2022-10-27 02:09:52,354 INFO com.global.book.service.PriceSchedule [task-7] Compute Discount -> 2022-10-27T02:09:52.354312
2022-10-27 02:09:58,339 INFO com.global.book.service.PriceSchedule [task-4] Compute Discount -> 2022-10-27T02:09:58.339253400
2022-10-27 02:10:02,359 INFO com.global.book.service.PriceSchedule [task-2] Compute Discount -> 2022-10-27T02:10:02.359468900
2022-10-27 02:10:04,008 INFO com.global.book.service.PriceSchedule [task-5] Compute Price -> 2022-10-27T02:10:04.008311200
2022-10-27 02:10:08,332 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [task-4] 
    select
        author0_.id as id1_0_,
        author0_.created_by as created_2_0_,
        author0_.created_date as created_3_0_,
        author0_.last_modified_by as last_mod4_0_,
        author0_.last_modified_date as last_mod5_0_,
        author0_.status_code as status_c6_0_,
        author0_.email as email7_0_,
        author0_.ip_address as ip_addre8_0_,
        author0_.name as name9_0_,
        (select
            count(*) 
        from
            books b 
        where
            b.author_id = author0_.id) as formula1_ 
    from
        authors author0_ 
    where
        author0_.email=?
2022-10-27 02:10:08,345 INFO com.global.book.service.PriceSchedule [task-1] Compute Discount -> 2022-10-27T02:10:08.345209300
2022-10-27 02:10:14,341 INFO com.global.book.service.PriceSchedule [task-3] Compute Discount -> 2022-10-27T02:10:14.341137300
2022-10-27 02:10:20,338 INFO com.global.book.service.PriceSchedule [task-5] Compute Discount -> 2022-10-27T02:10:20.338449300
2022-10-27 02:10:24,351 INFO com.global.book.service.PriceSchedule [task-6] Compute Discount -> 2022-10-27T02:10:24.351607900
2022-10-27 02:10:30,350 INFO com.global.book.service.PriceSchedule [task-8] Compute Discount -> 2022-10-27T02:10:30.350015800
2022-10-27 02:10:36,328 INFO com.global.book.service.PriceSchedule [task-7] Compute Discount -> 2022-10-27T02:10:36.328770100
2022-10-27 02:10:42,351 INFO com.global.book.service.PriceSchedule [task-1] Compute Discount -> 2022-10-27T02:10:42.351175100
2022-10-27 02:10:48,342 INFO com.global.book.service.PriceSchedule [task-3] Compute Discount -> 2022-10-27T02:10:48.342987
2022-10-27 02:10:54,341 INFO com.global.book.service.PriceSchedule [task-4] Compute Discount -> 2022-10-27T02:10:54.341038200
2022-10-27 02:11:00,343 INFO com.global.book.service.PriceSchedule [task-2] Compute Discount -> 2022-10-27T02:11:00.343145100
2022-10-27 02:11:04,016 INFO com.global.book.service.PriceSchedule [task-8] Compute Price -> 2022-10-27T02:11:04.016912500
2022-10-27 02:11:06,333 INFO com.global.book.service.PriceSchedule [task-3] Compute Discount -> 2022-10-27T02:11:06.333194100
2022-10-27 02:11:10,348 INFO com.global.book.service.PriceSchedule [task-6] Compute Discount -> 2022-10-27T02:11:10.348024500
2022-10-27 02:11:16,339 INFO com.global.book.service.PriceSchedule [task-5] Compute Discount -> 2022-10-27T02:11:16.339906500
2022-10-27 02:11:22,341 INFO com.global.book.service.PriceSchedule [task-7] Compute Discount -> 2022-10-27T02:11:22.341006800
2022-10-27 02:11:28,342 INFO com.global.book.service.PriceSchedule [task-1] Compute Discount -> 2022-10-27T02:11:28.342121600
2022-10-27 02:11:34,341 INFO com.global.book.service.PriceSchedule [task-8] Compute Discount -> 2022-10-27T02:11:34.341047100
2022-10-27 02:11:40,336 INFO com.global.book.service.PriceSchedule [task-4] Compute Discount -> 2022-10-27T02:11:40.336530200
2022-10-27 02:11:44,342 INFO com.global.book.service.PriceSchedule [task-6] Compute Discount -> 2022-10-27T02:11:44.342179
2022-10-27 02:11:50,343 INFO com.global.book.service.PriceSchedule [task-5] Compute Discount -> 2022-10-27T02:11:50.343071500
2022-10-27 02:11:56,342 INFO com.global.book.service.PriceSchedule [task-7] Compute Discount -> 2022-10-27T02:11:56.342994300
2022-10-27 02:12:02,344 INFO com.global.book.service.PriceSchedule [task-1] Compute Discount -> 2022-10-27T02:12:02.344145600
2022-10-27 02:12:04,021 INFO com.global.book.service.PriceSchedule [task-6] Compute Price -> 2022-10-27T02:12:04.021862200
2022-10-27 02:12:08,337 INFO com.global.book.service.PriceSchedule [task-5] Compute Discount -> 2022-10-27T02:12:08.337779100
2022-10-27 02:12:14,340 INFO com.global.book.service.PriceSchedule [task-7] Compute Discount -> 2022-10-27T02:12:14.340759300
2022-10-27 02:12:20,342 INFO com.global.book.service.PriceSchedule [task-1] Compute Discount -> 2022-10-27T02:12:20.342805900
2022-10-27 02:12:26,340 INFO com.global.book.service.PriceSchedule [task-2] Compute Discount -> 2022-10-27T02:12:26.340298300
2022-10-27 02:12:32,338 INFO com.global.book.service.PriceSchedule [task-8] Compute Discount -> 2022-10-27T02:12:32.338815800
2022-10-27 02:12:38,342 INFO com.global.book.service.PriceSchedule [task-4] Compute Discount -> 2022-10-27T02:12:38.342728900
2022-10-27 02:12:44,339 INFO com.global.book.service.PriceSchedule [task-3] Compute Discount -> 2022-10-27T02:12:44.339747900
2022-10-27 02:12:50,350 INFO com.global.book.service.PriceSchedule [task-6] Compute Discount -> 2022-10-27T02:12:50.350679700
2022-10-27 02:12:56,351 INFO com.global.book.service.PriceSchedule [task-5] Compute Discount -> 2022-10-27T02:12:56.351205100
2022-10-27 02:13:02,353 INFO com.global.book.service.PriceSchedule [task-7] Compute Discount -> 2022-10-27T02:13:02.353711700
2022-10-27 02:13:04,016 INFO com.global.book.service.PriceSchedule [task-3] Compute Price -> 2022-10-27T02:13:04.016942
2022-10-27 02:13:08,337 INFO com.global.book.service.PriceSchedule [task-6] Compute Discount -> 2022-10-27T02:13:08.337962800
2022-10-27 02:13:14,341 INFO com.global.book.service.PriceSchedule [task-5] Compute Discount -> 2022-10-27T02:13:14.341665300
2022-10-27 02:13:20,343 INFO com.global.book.service.PriceSchedule [task-7] Compute Discount -> 2022-10-27T02:13:20.343441900
2022-10-27 02:13:26,340 INFO com.global.book.service.PriceSchedule [task-2] Compute Discount -> 2022-10-27T02:13:26.340609100
2022-10-27 02:13:32,340 INFO com.global.book.service.PriceSchedule [task-1] Compute Discount -> 2022-10-27T02:13:32.340878100
2022-10-27 02:13:38,337 INFO com.global.book.service.PriceSchedule [task-4] Compute Discount -> 2022-10-27T02:13:38.337278300
2022-10-27 02:13:42,348 INFO com.global.book.service.PriceSchedule [task-6] Compute Discount -> 2022-10-27T02:13:42.348823700
2022-10-27 02:13:48,342 INFO com.global.book.service.PriceSchedule [task-5] Compute Discount -> 2022-10-27T02:13:48.342666
2022-10-27 02:13:54,346 INFO com.global.book.service.PriceSchedule [task-7] Compute Discount -> 2022-10-27T02:13:54.346558500
2022-10-27 02:14:00,340 INFO com.global.book.service.PriceSchedule [task-2] Compute Discount -> 2022-10-27T02:14:00.340895100
2022-10-27 02:14:04,025 INFO com.global.book.service.PriceSchedule [task-3] Compute Price -> 2022-10-27T02:14:04.025184700
2022-10-27 02:14:05,086 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(9)-127.0.0.1] Application shutdown requested.
2022-10-27 02:14:05,101 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(9)-127.0.0.1] Pausing ProtocolHandler ["http-nio-8080"]
2022-10-27 02:14:05,101 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(9)-127.0.0.1] Stopping service [Tomcat]
2022-10-27 02:14:05,102 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(9)-127.0.0.1] Destroying Spring FrameworkServlet 'dispatcherServlet'
2022-10-27 02:14:05,104 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(9)-127.0.0.1] Stopping ProtocolHandler ["http-nio-8080"]
2022-10-27 02:14:05,106 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(9)-127.0.0.1] Destroying ProtocolHandler ["http-nio-8080"]
2022-10-27 02:14:05,109 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [RMI TCP Connection(9)-127.0.0.1] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-27 02:14:05,110 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(9)-127.0.0.1] HikariPool-1 - Shutdown initiated...
2022-10-27 02:14:05,113 ERROR org.springframework.aop.interceptor.SimpleAsyncUncaughtExceptionHandler [task-5] Unexpected exception occurred invoking async method: public void com.global.book.service.PriceSchedule.computeDiscount() throws java.lang.InterruptedException
java.lang.InterruptedException: sleep interrupted
	at java.base/java.lang.Thread.sleep(Native Method)
	at com.global.book.service.PriceSchedule.computeDiscount(PriceSchedule.java:36)
	at com.global.book.service.PriceSchedule$$FastClassBySpringCGLIB$$a6c7ce20.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at net.javacrumbs.shedlock.core.DefaultLockingTaskExecutor.executeWithLock(DefaultLockingTaskExecutor.java:74)
	at net.javacrumbs.shedlock.spring.aop.MethodProxyScheduledLockAdvisor$LockingInterceptor.invoke(MethodProxyScheduledLockAdvisor.java:86)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
2022-10-27 02:14:05,115 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(9)-127.0.0.1] HikariPool-1 - Shutdown completed.
2022-10-27 02:14:07,621 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2022-10-27 02:14:07,626 INFO org.springframework.boot.StartupInfoLogger [main] Starting DataJpaBooksProjectApplication using Java 17.0.4.1 on DESKTOP-N2KRF5H with PID 4124 (C:\Users\princ\Desktop\projects\data-jpa-books-project\target\classes started by princ in C:\Users\princ\Desktop\projects\data-jpa-books-project)
2022-10-27 02:14:07,626 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.7.5, Spring v5.3.23
2022-10-27 02:14:07,627 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-27 02:14:08,014 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-27 02:14:08,052 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 32 ms. Found 2 JPA repository interfaces.
2022-10-27 02:14:08,382 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-10-27 02:14:08,388 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-10-27 02:14:08,388 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-27 02:14:08,388 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.68]
2022-10-27 02:14:08,444 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-27 02:14:08,445 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 789 ms
2022-10-27 02:14:08,538 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-27 02:14:08,567 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.12.Final
2022-10-27 02:14:08,656 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-27 02:14:08,711 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-27 02:14:08,810 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-27 02:14:08,819 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-10-27 02:14:09,239 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-27 02:14:09,244 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-27 02:14:09,609 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-27 02:14:09,811 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2022-10-27 02:14:09,824 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2022-10-27 02:14:09,832 INFO org.springframework.boot.StartupInfoLogger [main] Started DataJpaBooksProjectApplication in 2.405 seconds (JVM running for 2.945)
2022-10-27 02:14:09,832 INFO org.springframework.aop.interceptor.AsyncExecutionAspectSupport [scheduling-1] More than one TaskExecutor bean found within the context, and none is named 'taskExecutor'. Mark one of them as primary or name it 'taskExecutor' (possibly as an alias) in order to use it for async processing: [threadPoolTaskExecutor, taskScheduler]
2022-10-27 02:14:09,858 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [main] 
    select
        author0_.id as id1_0_,
        author0_.created_by as created_2_0_,
        author0_.created_date as created_3_0_,
        author0_.last_modified_by as last_mod4_0_,
        author0_.last_modified_date as last_mod5_0_,
        author0_.status_code as status_c6_0_,
        author0_.email as email7_0_,
        author0_.ip_address as ip_addre8_0_,
        author0_.name as name9_0_,
        (select
            count(*) 
        from
            books b 
        where
            b.author_id = author0_.id) as formula1_ 
    from
        authors author0_
2022-10-27 02:14:09,880 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [main] 
    select
        book0_.id as id1_1_0_,
        author1_.id as id1_0_1_,
        book0_.created_by as created_2_1_0_,
        book0_.created_date as created_3_1_0_,
        book0_.last_modified_by as last_mod4_1_0_,
        book0_.last_modified_date as last_mod5_1_0_,
        book0_.status_code as status_c6_1_0_,
        book0_.author_id as author_i9_1_0_,
        book0_.name as name7_1_0_,
        book0_.price as price8_1_0_,
        (select
            count(*) 
        from
            books) as formula2_0_,
        author1_.created_by as created_2_0_1_,
        author1_.created_date as created_3_0_1_,
        author1_.last_modified_by as last_mod4_0_1_,
        author1_.last_modified_date as last_mod5_0_1_,
        author1_.status_code as status_c6_0_1_,
        author1_.email as email7_0_1_,
        author1_.ip_address as ip_addre8_0_1_,
        author1_.name as name9_0_1_,
        (select
            count(*) 
        from
            books b 
        where
            b.author_id = author1_.id) as formula1_1_ 
    from
        books book0_ 
    left outer join
        authors author1_ 
            on book0_.author_id=author1_.id
2022-10-27 02:14:13,069 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-3] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-27 02:14:13,070 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-3] Initializing Servlet 'dispatcherServlet'
2022-10-27 02:14:13,070 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-3] Completed initialization in 0 ms
2022-10-27 02:14:13,146 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [AsynchThread::1] 
    select
        author0_.id as id1_0_,
        author0_.created_by as created_2_0_,
        author0_.created_date as created_3_0_,
        author0_.last_modified_by as last_mod4_0_,
        author0_.last_modified_date as last_mod5_0_,
        author0_.status_code as status_c6_0_,
        author0_.email as email7_0_,
        author0_.ip_address as ip_addre8_0_,
        author0_.name as name9_0_,
        (select
            count(*) 
        from
            books b 
        where
            b.author_id = author0_.id) as formula1_ 
    from
        authors author0_ 
    where
        author0_.email=?
2022-10-27 02:14:13,896 INFO com.global.book.service.PriceSchedule [SimpleAsyncTaskExecutor-1] Compute Discount -> 2022-10-27T02:14:13.896407700
2022-10-27 02:14:19,839 INFO com.global.book.service.PriceSchedule [SimpleAsyncTaskExecutor-4] Compute Discount -> 2022-10-27T02:14:19.839287800
2022-10-27 02:14:25,857 INFO com.global.book.service.PriceSchedule [SimpleAsyncTaskExecutor-7] Compute Discount -> 2022-10-27T02:14:25.857454200
2022-10-27 02:14:31,844 INFO com.global.book.service.PriceSchedule [SimpleAsyncTaskExecutor-10] Compute Discount -> 2022-10-27T02:14:31.844382600
2022-10-27 02:14:35,856 INFO com.global.book.service.PriceSchedule [SimpleAsyncTaskExecutor-12] Compute Discount -> 2022-10-27T02:14:35.856537
2022-10-27 02:14:41,855 INFO com.global.book.service.PriceSchedule [SimpleAsyncTaskExecutor-15] Compute Discount -> 2022-10-27T02:14:41.855340400
2022-10-27 02:14:47,849 INFO com.global.book.service.PriceSchedule [SimpleAsyncTaskExecutor-18] Compute Discount -> 2022-10-27T02:14:47.849282200
2022-10-27 02:14:49,460 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(4)-127.0.0.1] Application shutdown requested.
2022-10-27 02:14:49,498 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(4)-127.0.0.1] Pausing ProtocolHandler ["http-nio-8080"]
2022-10-27 02:14:49,498 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(4)-127.0.0.1] Stopping service [Tomcat]
2022-10-27 02:14:49,499 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(4)-127.0.0.1] Destroying Spring FrameworkServlet 'dispatcherServlet'
2022-10-27 02:14:49,501 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(4)-127.0.0.1] The web application [ROOT] appears to have started a thread named [AsynchThread::1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.4.1/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.4.1/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.4.1/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.4.1/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3463)
 java.base@17.0.4.1/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3434)
 java.base@17.0.4.1/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 java.base@17.0.4.1/java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:435)
 java.base@17.0.4.1/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1062)
 java.base@17.0.4.1/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1122)
 java.base@17.0.4.1/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
 java.base@17.0.4.1/java.lang.Thread.run(Thread.java:833)
2022-10-27 02:14:49,501 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(4)-127.0.0.1] Stopping ProtocolHandler ["http-nio-8080"]
2022-10-27 02:14:49,503 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(4)-127.0.0.1] Destroying ProtocolHandler ["http-nio-8080"]
2022-10-27 02:14:49,505 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [RMI TCP Connection(4)-127.0.0.1] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-27 02:14:49,506 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(4)-127.0.0.1] HikariPool-1 - Shutdown initiated...
2022-10-27 02:14:49,511 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(4)-127.0.0.1] HikariPool-1 - Shutdown completed.
2022-10-27 02:20:01,701 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2022-10-27 02:20:01,707 INFO org.springframework.boot.StartupInfoLogger [main] Starting DataJpaBooksProjectApplication using Java 17.0.4.1 on DESKTOP-N2KRF5H with PID 16980 (C:\Users\princ\Desktop\projects\data-jpa-books-project\target\classes started by princ in C:\Users\princ\Desktop\projects\data-jpa-books-project)
2022-10-27 02:20:01,707 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.7.5, Spring v5.3.23
2022-10-27 02:20:01,707 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-27 02:20:02,080 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-27 02:20:02,117 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 31 ms. Found 2 JPA repository interfaces.
2022-10-27 02:20:02,459 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-10-27 02:20:02,464 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-10-27 02:20:02,464 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-27 02:20:02,464 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.68]
2022-10-27 02:20:02,521 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-27 02:20:02,521 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 786 ms
2022-10-27 02:20:02,616 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-27 02:20:02,644 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.12.Final
2022-10-27 02:20:02,730 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-27 02:20:02,784 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-27 02:20:02,882 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-27 02:20:02,891 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-10-27 02:20:03,350 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-27 02:20:03,355 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-27 02:20:03,733 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-27 02:20:03,946 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2022-10-27 02:20:03,960 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2022-10-27 02:20:03,968 INFO org.springframework.boot.StartupInfoLogger [main] Started DataJpaBooksProjectApplication in 2.456 seconds (JVM running for 2.974)
2022-10-27 02:20:03,994 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [main] 
    select
        author0_.id as id1_0_,
        author0_.created_by as created_2_0_,
        author0_.created_date as created_3_0_,
        author0_.last_modified_by as last_mod4_0_,
        author0_.last_modified_date as last_mod5_0_,
        author0_.status_code as status_c6_0_,
        author0_.email as email7_0_,
        author0_.ip_address as ip_addre8_0_,
        author0_.name as name9_0_,
        (select
            count(*) 
        from
            books b 
        where
            b.author_id = author0_.id) as formula1_ 
    from
        authors author0_
2022-10-27 02:20:04,019 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [main] 
    select
        book0_.id as id1_1_0_,
        author1_.id as id1_0_1_,
        book0_.created_by as created_2_1_0_,
        book0_.created_date as created_3_1_0_,
        book0_.last_modified_by as last_mod4_1_0_,
        book0_.last_modified_date as last_mod5_1_0_,
        book0_.status_code as status_c6_1_0_,
        book0_.author_id as author_i9_1_0_,
        book0_.name as name7_1_0_,
        book0_.price as price8_1_0_,
        (select
            count(*) 
        from
            books) as formula2_0_,
        author1_.created_by as created_2_0_1_,
        author1_.created_date as created_3_0_1_,
        author1_.last_modified_by as last_mod4_0_1_,
        author1_.last_modified_date as last_mod5_0_1_,
        author1_.status_code as status_c6_0_1_,
        author1_.email as email7_0_1_,
        author1_.ip_address as ip_addre8_0_1_,
        author1_.name as name9_0_1_,
        (select
            count(*) 
        from
            books b 
        where
            b.author_id = author1_.id) as formula1_1_ 
    from
        books book0_ 
    left outer join
        authors author1_ 
            on book0_.author_id=author1_.id
2022-10-27 02:20:08,037 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Discount -> 2022-10-27T02:20:08.037124600
2022-10-27 02:20:09,953 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-27 02:20:09,953 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-27 02:20:09,954 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 1 ms
2022-10-27 02:20:10,013 ERROR org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'threadPoolTaskExecutor' available: No matching Executor bean found for qualifier 'threadPoolTaskExecutor' - neither qualifier match nor bean name match!] with root cause
org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'threadPoolTaskExecutor' available: No matching Executor bean found for qualifier 'threadPoolTaskExecutor' - neither qualifier match nor bean name match!
	at org.springframework.beans.factory.annotation.BeanFactoryAnnotationUtils.qualifiedBeanOfType(BeanFactoryAnnotationUtils.java:136)
	at org.springframework.beans.factory.annotation.BeanFactoryAnnotationUtils.qualifiedBeanOfType(BeanFactoryAnnotationUtils.java:95)
	at org.springframework.aop.interceptor.AsyncExecutionAspectSupport.findQualifiedExecutor(AsyncExecutionAspectSupport.java:211)
	at org.springframework.aop.interceptor.AsyncExecutionAspectSupport.determineAsyncExecutor(AsyncExecutionAspectSupport.java:169)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.invoke(AsyncExecutionInterceptor.java:107)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.global.book.service.AuthorService$$EnhancerBySpringCGLIB$$990557d3.findByEmailAsync(<generated>)
	at com.global.book.controller.AuthorController.findByEmailAsync(AuthorController.java:65)
	at com.global.book.controller.AuthorController$$FastClassBySpringCGLIB$$1cd71fb2.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:123)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.global.book.controller.AuthorController$$EnhancerBySpringCGLIB$$e5256dd6.findByEmailAsync(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:670)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:779)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2022-10-27 02:20:13,986 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Discount -> 2022-10-27T02:20:13.986173600
2022-10-27 02:20:19,980 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Discount -> 2022-10-27T02:20:19.980541900
2022-10-27 02:20:25,979 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Discount -> 2022-10-27T02:20:25.979844700
2022-10-27 02:20:29,992 INFO com.global.book.service.PriceSchedule [AsynchThread::3] Compute Discount -> 2022-10-27T02:20:29.992305700
2022-10-27 02:20:35,991 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Discount -> 2022-10-27T02:20:35.991603100
2022-10-27 02:20:41,991 INFO com.global.book.service.PriceSchedule [AsynchThread::3] Compute Discount -> 2022-10-27T02:20:41.991827200
2022-10-27 02:20:47,995 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Discount -> 2022-10-27T02:20:47.995323400
2022-10-27 02:20:53,980 INFO com.global.book.service.PriceSchedule [AsynchThread::3] Compute Discount -> 2022-10-27T02:20:53.980663500
2022-10-27 02:20:57,986 INFO com.global.book.service.PriceSchedule [AsynchThread::2] Compute Discount -> 2022-10-27T02:20:57.986382300
2022-10-27 02:21:03,979 INFO com.global.book.service.PriceSchedule [AsynchThread::3] Compute Discount -> 2022-10-27T02:21:03.979405500
2022-10-27 02:21:04,010 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Price -> 2022-10-27T02:21:04.010654
2022-10-27 02:21:08,957 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(3)-127.0.0.1] Application shutdown requested.
2022-10-27 02:21:08,970 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(3)-127.0.0.1] Pausing ProtocolHandler ["http-nio-8080"]
2022-10-27 02:21:08,970 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(3)-127.0.0.1] Stopping service [Tomcat]
2022-10-27 02:21:08,971 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(3)-127.0.0.1] Destroying Spring FrameworkServlet 'dispatcherServlet'
2022-10-27 02:21:08,973 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(3)-127.0.0.1] Stopping ProtocolHandler ["http-nio-8080"]
2022-10-27 02:21:08,975 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(3)-127.0.0.1] Destroying ProtocolHandler ["http-nio-8080"]
2022-10-27 02:21:08,977 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [RMI TCP Connection(3)-127.0.0.1] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-27 02:21:08,978 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(3)-127.0.0.1] HikariPool-1 - Shutdown initiated...
2022-10-27 02:21:08,983 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(3)-127.0.0.1] HikariPool-1 - Shutdown completed.
2022-10-27 02:21:09,972 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Discount -> 2022-10-27T02:21:09.972983
2022-10-27 02:21:09,972 ERROR org.springframework.aop.interceptor.SimpleAsyncUncaughtExceptionHandler [AsynchThread::1] Unexpected exception occurred invoking async method: public void com.global.book.service.PriceSchedule.computeDiscount() throws java.lang.InterruptedException
org.springframework.transaction.CannotCreateTransactionException: Could not open JDBC Connection for transaction; nested exception is java.sql.SQLException: HikariDataSource HikariDataSource (HikariPool-1) has been closed.
	at org.springframework.jdbc.datasource.DataSourceTransactionManager.doBegin(DataSourceTransactionManager.java:309)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:137)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.execute(JdbcTemplateStorageAccessor.java:115)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.doUnlock(JdbcTemplateStorageAccessor.java:110)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.unlock(JdbcTemplateStorageAccessor.java:101)
	at net.javacrumbs.shedlock.support.StorageBasedLockProvider$StorageLock.doUnlock(StorageBasedLockProvider.java:104)
	at net.javacrumbs.shedlock.core.AbstractSimpleLock.unlock(AbstractSimpleLock.java:35)
	at net.javacrumbs.shedlock.core.DefaultLockingTaskExecutor.executeWithLock(DefaultLockingTaskExecutor.java:79)
	at net.javacrumbs.shedlock.spring.aop.MethodProxyScheduledLockAdvisor$LockingInterceptor.invoke(MethodProxyScheduledLockAdvisor.java:86)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.sql.SQLException: HikariDataSource HikariDataSource (HikariPool-1) has been closed.
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:96)
	at org.springframework.jdbc.datasource.DataSourceTransactionManager.doBegin(DataSourceTransactionManager.java:265)
	... 17 common frames omitted
2022-10-27 02:21:11,377 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2022-10-27 02:21:11,384 INFO org.springframework.boot.StartupInfoLogger [main] Starting DataJpaBooksProjectApplication using Java 17.0.4.1 on DESKTOP-N2KRF5H with PID 20060 (C:\Users\princ\Desktop\projects\data-jpa-books-project\target\classes started by princ in C:\Users\princ\Desktop\projects\data-jpa-books-project)
2022-10-27 02:21:11,384 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.7.5, Spring v5.3.23
2022-10-27 02:21:11,384 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-27 02:21:11,794 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-27 02:21:11,832 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 33 ms. Found 2 JPA repository interfaces.
2022-10-27 02:21:12,190 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-10-27 02:21:12,194 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-10-27 02:21:12,195 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-27 02:21:12,195 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.68]
2022-10-27 02:21:12,254 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-27 02:21:12,254 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 841 ms
2022-10-27 02:21:12,348 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-27 02:21:12,373 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.12.Final
2022-10-27 02:21:12,475 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-27 02:21:12,534 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-27 02:21:12,634 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-27 02:21:12,644 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-10-27 02:21:13,082 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-27 02:21:13,087 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-27 02:21:13,492 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-27 02:21:13,711 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2022-10-27 02:21:13,726 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2022-10-27 02:21:13,734 INFO org.springframework.boot.StartupInfoLogger [main] Started DataJpaBooksProjectApplication in 2.579 seconds (JVM running for 3.122)
2022-10-27 02:21:13,761 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [main] 
    select
        author0_.id as id1_0_,
        author0_.created_by as created_2_0_,
        author0_.created_date as created_3_0_,
        author0_.last_modified_by as last_mod4_0_,
        author0_.last_modified_date as last_mod5_0_,
        author0_.status_code as status_c6_0_,
        author0_.email as email7_0_,
        author0_.ip_address as ip_addre8_0_,
        author0_.name as name9_0_,
        (select
            count(*) 
        from
            books b 
        where
            b.author_id = author0_.id) as formula1_ 
    from
        authors author0_
2022-10-27 02:21:13,785 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [main] 
    select
        book0_.id as id1_1_0_,
        author1_.id as id1_0_1_,
        book0_.created_by as created_2_1_0_,
        book0_.created_date as created_3_1_0_,
        book0_.last_modified_by as last_mod4_1_0_,
        book0_.last_modified_date as last_mod5_1_0_,
        book0_.status_code as status_c6_1_0_,
        book0_.author_id as author_i9_1_0_,
        book0_.name as name7_1_0_,
        book0_.price as price8_1_0_,
        (select
            count(*) 
        from
            books) as formula2_0_,
        author1_.created_by as created_2_0_1_,
        author1_.created_date as created_3_0_1_,
        author1_.last_modified_by as last_mod4_0_1_,
        author1_.last_modified_date as last_mod5_0_1_,
        author1_.status_code as status_c6_0_1_,
        author1_.email as email7_0_1_,
        author1_.ip_address as ip_addre8_0_1_,
        author1_.name as name9_0_1_,
        (select
            count(*) 
        from
            books b 
        where
            b.author_id = author1_.id) as formula1_1_ 
    from
        books book0_ 
    left outer join
        authors author1_ 
            on book0_.author_id=author1_.id
2022-10-27 02:21:16,469 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-27 02:21:16,469 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-27 02:21:16,470 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 1 ms
2022-10-27 02:21:16,540 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [AsynchThread::3] 
    select
        author0_.id as id1_0_,
        author0_.created_by as created_2_0_,
        author0_.created_date as created_3_0_,
        author0_.last_modified_by as last_mod4_0_,
        author0_.last_modified_date as last_mod5_0_,
        author0_.status_code as status_c6_0_,
        author0_.email as email7_0_,
        author0_.ip_address as ip_addre8_0_,
        author0_.name as name9_0_,
        (select
            count(*) 
        from
            books b 
        where
            b.author_id = author0_.id) as formula1_ 
    from
        authors author0_ 
    where
        author0_.email=?
2022-10-27 02:21:23,206 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(3)-127.0.0.1] Application shutdown requested.
2022-10-27 02:21:23,223 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(3)-127.0.0.1] Pausing ProtocolHandler ["http-nio-8080"]
2022-10-27 02:21:23,224 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(3)-127.0.0.1] Stopping service [Tomcat]
2022-10-27 02:21:23,225 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(3)-127.0.0.1] Destroying Spring FrameworkServlet 'dispatcherServlet'
2022-10-27 02:21:23,231 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(3)-127.0.0.1] The web application [ROOT] appears to have started a thread named [AsynchThread::3] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.4.1/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.4.1/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.4.1/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.4.1/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3463)
 java.base@17.0.4.1/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3434)
 java.base@17.0.4.1/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 java.base@17.0.4.1/java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:435)
 java.base@17.0.4.1/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1062)
 java.base@17.0.4.1/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1122)
 java.base@17.0.4.1/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
 java.base@17.0.4.1/java.lang.Thread.run(Thread.java:833)
2022-10-27 02:21:23,232 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(3)-127.0.0.1] Stopping ProtocolHandler ["http-nio-8080"]
2022-10-27 02:21:23,233 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(3)-127.0.0.1] Destroying ProtocolHandler ["http-nio-8080"]
2022-10-27 02:21:23,235 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [RMI TCP Connection(3)-127.0.0.1] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-27 02:21:23,236 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(3)-127.0.0.1] HikariPool-1 - Shutdown initiated...
2022-10-27 02:21:23,241 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(3)-127.0.0.1] HikariPool-1 - Shutdown completed.
2022-10-27 02:21:56,032 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2022-10-27 02:21:56,036 INFO org.springframework.boot.StartupInfoLogger [main] Starting DataJpaBooksProjectApplication using Java 17.0.4.1 on DESKTOP-N2KRF5H with PID 2068 (C:\Users\princ\Desktop\projects\data-jpa-books-project\target\classes started by princ in C:\Users\princ\Desktop\projects\data-jpa-books-project)
2022-10-27 02:21:56,036 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.7.5, Spring v5.3.23
2022-10-27 02:21:56,037 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-27 02:21:56,403 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-27 02:21:56,439 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 30 ms. Found 2 JPA repository interfaces.
2022-10-27 02:21:56,763 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-10-27 02:21:56,769 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-10-27 02:21:56,769 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-27 02:21:56,770 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.68]
2022-10-27 02:21:56,828 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-27 02:21:56,829 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 765 ms
2022-10-27 02:21:56,923 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-27 02:21:56,950 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.12.Final
2022-10-27 02:21:57,032 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-27 02:21:57,085 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-27 02:21:57,184 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-27 02:21:57,193 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-10-27 02:21:57,611 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-27 02:21:57,617 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-27 02:21:57,988 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-27 02:21:58,197 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2022-10-27 02:21:58,210 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2022-10-27 02:21:58,218 INFO org.springframework.boot.StartupInfoLogger [main] Started DataJpaBooksProjectApplication in 2.377 seconds (JVM running for 2.894)
2022-10-27 02:21:58,244 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [main] 
    select
        author0_.id as id1_0_,
        author0_.created_by as created_2_0_,
        author0_.created_date as created_3_0_,
        author0_.last_modified_by as last_mod4_0_,
        author0_.last_modified_date as last_mod5_0_,
        author0_.status_code as status_c6_0_,
        author0_.email as email7_0_,
        author0_.ip_address as ip_addre8_0_,
        author0_.name as name9_0_,
        (select
            count(*) 
        from
            books b 
        where
            b.author_id = author0_.id) as formula1_ 
    from
        authors author0_
2022-10-27 02:21:58,267 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [main] 
    select
        book0_.id as id1_1_0_,
        author1_.id as id1_0_1_,
        book0_.created_by as created_2_1_0_,
        book0_.created_date as created_3_1_0_,
        book0_.last_modified_by as last_mod4_1_0_,
        book0_.last_modified_date as last_mod5_1_0_,
        book0_.status_code as status_c6_1_0_,
        book0_.author_id as author_i9_1_0_,
        book0_.name as name7_1_0_,
        book0_.price as price8_1_0_,
        (select
            count(*) 
        from
            books) as formula2_0_,
        author1_.created_by as created_2_0_1_,
        author1_.created_date as created_3_0_1_,
        author1_.last_modified_by as last_mod4_0_1_,
        author1_.last_modified_date as last_mod5_0_1_,
        author1_.status_code as status_c6_0_1_,
        author1_.email as email7_0_1_,
        author1_.ip_address as ip_addre8_0_1_,
        author1_.name as name9_0_1_,
        (select
            count(*) 
        from
            books b 
        where
            b.author_id = author1_.id) as formula1_1_ 
    from
        books book0_ 
    left outer join
        authors author1_ 
            on book0_.author_id=author1_.id
2022-10-27 02:22:00,303 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-27 02:22:00,304 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-27 02:22:00,305 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 1 ms
2022-10-27 02:22:00,379 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [AsynchThread::1] 
    select
        author0_.id as id1_0_,
        author0_.created_by as created_2_0_,
        author0_.created_date as created_3_0_,
        author0_.last_modified_by as last_mod4_0_,
        author0_.last_modified_date as last_mod5_0_,
        author0_.status_code as status_c6_0_,
        author0_.email as email7_0_,
        author0_.ip_address as ip_addre8_0_,
        author0_.name as name9_0_,
        (select
            count(*) 
        from
            books b 
        where
            b.author_id = author0_.id) as formula1_ 
    from
        authors author0_ 
    where
        author0_.email=?
2022-10-27 02:22:02,854 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(2)-127.0.0.1] Application shutdown requested.
2022-10-27 02:22:02,869 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(2)-127.0.0.1] Pausing ProtocolHandler ["http-nio-8080"]
2022-10-27 02:22:02,869 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(2)-127.0.0.1] Stopping service [Tomcat]
2022-10-27 02:22:02,870 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(2)-127.0.0.1] Destroying Spring FrameworkServlet 'dispatcherServlet'
2022-10-27 02:22:02,872 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(2)-127.0.0.1] The web application [ROOT] appears to have started a thread named [AsynchThread::1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.4.1/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.4.1/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.4.1/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.4.1/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3463)
 java.base@17.0.4.1/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3434)
 java.base@17.0.4.1/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 java.base@17.0.4.1/java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:435)
 java.base@17.0.4.1/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1062)
 java.base@17.0.4.1/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1122)
 java.base@17.0.4.1/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
 java.base@17.0.4.1/java.lang.Thread.run(Thread.java:833)
2022-10-27 02:22:02,873 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(2)-127.0.0.1] Stopping ProtocolHandler ["http-nio-8080"]
2022-10-27 02:22:02,874 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(2)-127.0.0.1] Destroying ProtocolHandler ["http-nio-8080"]
2022-10-27 02:22:02,877 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [RMI TCP Connection(2)-127.0.0.1] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-27 02:22:02,878 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(2)-127.0.0.1] HikariPool-1 - Shutdown initiated...
2022-10-27 02:22:02,882 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(2)-127.0.0.1] HikariPool-1 - Shutdown completed.
2022-10-27 02:22:04,042 INFO com.global.book.service.PriceSchedule [AsynchThread::2] Compute Price -> 2022-10-27T02:22:04.042727400
2022-10-27 02:22:04,044 ERROR org.springframework.aop.interceptor.SimpleAsyncUncaughtExceptionHandler [AsynchThread::2] Unexpected exception occurred invoking async method: public void com.global.book.service.PriceSchedule.computePrice() throws java.lang.InterruptedException
org.springframework.transaction.CannotCreateTransactionException: Could not open JDBC Connection for transaction; nested exception is java.sql.SQLException: HikariDataSource HikariDataSource (HikariPool-1) has been closed.
	at org.springframework.jdbc.datasource.DataSourceTransactionManager.doBegin(DataSourceTransactionManager.java:309)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:137)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.execute(JdbcTemplateStorageAccessor.java:115)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.doUnlock(JdbcTemplateStorageAccessor.java:110)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.unlock(JdbcTemplateStorageAccessor.java:101)
	at net.javacrumbs.shedlock.support.StorageBasedLockProvider$StorageLock.doUnlock(StorageBasedLockProvider.java:104)
	at net.javacrumbs.shedlock.core.AbstractSimpleLock.unlock(AbstractSimpleLock.java:35)
	at net.javacrumbs.shedlock.core.DefaultLockingTaskExecutor.executeWithLock(DefaultLockingTaskExecutor.java:79)
	at net.javacrumbs.shedlock.spring.aop.MethodProxyScheduledLockAdvisor$LockingInterceptor.invoke(MethodProxyScheduledLockAdvisor.java:86)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.sql.SQLException: HikariDataSource HikariDataSource (HikariPool-1) has been closed.
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:96)
	at org.springframework.jdbc.datasource.DataSourceTransactionManager.doBegin(DataSourceTransactionManager.java:265)
	... 17 common frames omitted

2022-10-28 01:55:33,804 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2022-10-28 01:55:33,808 INFO org.springframework.boot.StartupInfoLogger [main] Starting DataJpaBooksProjectApplication using Java 17.0.4.1 on DESKTOP-N2KRF5H with PID 1856 (C:\Users\princ\Desktop\projects\data-jpa-books-project\target\classes started by princ in C:\Users\princ\Desktop\projects\data-jpa-books-project)
2022-10-28 01:55:33,808 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.7.5, Spring v5.3.23
2022-10-28 01:55:33,809 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-28 01:55:34,260 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 01:55:34,302 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 36 ms. Found 2 JPA repository interfaces.
2022-10-28 01:55:34,692 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-10-28 01:55:34,699 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-10-28 01:55:34,699 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-28 01:55:34,699 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.68]
2022-10-28 01:55:34,767 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-28 01:55:34,768 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 928 ms
2022-10-28 01:55:34,887 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Flyway Community Edition 8.5.13 by Redgate
2022-10-28 01:55:34,888 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
2022-10-28 01:55:34,888 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] 
2022-10-28 01:55:34,891 ERROR org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Skipping filesystem location:\another\migration\directory (not found).
2022-10-28 01:55:34,894 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-28 01:55:35,002 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-28 01:55:35,007 WARN org.springframework.context.support.AbstractApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Invocation of init method failed; nested exception is org.flywaydb.core.api.FlywayException: Unsupported Database: MySQL 5.5
2022-10-28 01:55:35,007 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown initiated...
2022-10-28 01:55:35,011 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown completed.
2022-10-28 01:55:35,013 INFO org.apache.juli.logging.DirectJDKLog [main] Stopping service [Tomcat]
2022-10-28 01:55:35,019 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-10-28 01:55:35,032 ERROR org.springframework.boot.SpringApplication [main] Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Invocation of init method failed; nested exception is org.flywaydb.core.api.FlywayException: Unsupported Database: MySQL 5.5
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at com.global.book.DataJpaBooksProjectApplication.main(DataJpaBooksProjectApplication.java:10)
Caused by: org.flywaydb.core.api.FlywayException: Unsupported Database: MySQL 5.5
	at org.flywaydb.core.internal.database.DatabaseTypeRegister.getDatabaseTypeForConnection(DatabaseTypeRegister.java:106)
	at org.flywaydb.core.internal.jdbc.JdbcConnectionFactory.<init>(JdbcConnectionFactory.java:76)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:147)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:124)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 18 common frames omitted
2022-10-28 01:56:36,246 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2022-10-28 01:56:36,253 INFO org.springframework.boot.StartupInfoLogger [main] Starting DataJpaBooksProjectApplication using Java 17.0.4.1 on DESKTOP-N2KRF5H with PID 14308 (C:\Users\princ\Desktop\projects\data-jpa-books-project\target\classes started by princ in C:\Users\princ\Desktop\projects\data-jpa-books-project)
2022-10-28 01:56:36,253 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.7.5, Spring v5.3.23
2022-10-28 01:56:36,254 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-28 01:56:36,744 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 01:56:36,789 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 40 ms. Found 2 JPA repository interfaces.
2022-10-28 01:56:37,207 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-10-28 01:56:37,214 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-10-28 01:56:37,214 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-28 01:56:37,215 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.68]
2022-10-28 01:56:37,281 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-28 01:56:37,281 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 997 ms
2022-10-28 01:56:37,399 ERROR org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Skipping filesystem location:\another\migration\directory (not found).
2022-10-28 01:56:37,400 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-28 01:56:37,515 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-28 01:56:37,522 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Flyway Community Edition 8.0.4 by Redgate
2022-10-28 01:56:37,522 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Database: jdbc:mysql://localhost:3306/book (MySQL 5.5)
2022-10-28 01:56:37,567 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully validated 1 migration (execution time 00:00.010s)
2022-10-28 01:56:37,580 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Creating Schema History table `book`.`flyway_schema_history` with baseline ...
2022-10-28 01:56:37,617 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully baselined schema with version: 1
2022-10-28 01:56:37,624 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Current version of schema `book`: 1
2022-10-28 01:56:37,625 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Schema `book` is up to date. No migration necessary.
2022-10-28 01:56:37,688 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 01:56:37,738 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.12.Final
2022-10-28 01:56:37,865 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 01:56:37,945 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-10-28 01:56:38,467 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 01:56:38,476 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 01:56:38,939 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 01:56:39,197 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2022-10-28 01:56:39,218 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2022-10-28 01:56:39,229 INFO org.springframework.boot.StartupInfoLogger [main] Started DataJpaBooksProjectApplication in 3.186 seconds (JVM running for 3.741)
2022-10-28 01:56:39,274 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [main] 
    select
        author0_.id as id1_0_,
        author0_.created_by as created_2_0_,
        author0_.created_date as created_3_0_,
        author0_.last_modified_by as last_mod4_0_,
        author0_.last_modified_date as last_mod5_0_,
        author0_.status_code as status_c6_0_,
        author0_.email as email7_0_,
        author0_.ip_address as ip_addre8_0_,
        author0_.name as name9_0_,
        (select
            count(*) 
        from
            books b 
        where
            b.author_id = author0_.id) as formula1_ 
    from
        authors author0_
2022-10-28 01:56:39,306 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [main] 
    select
        book0_.id as id1_1_0_,
        author1_.id as id1_0_1_,
        book0_.created_by as created_2_1_0_,
        book0_.created_date as created_3_1_0_,
        book0_.last_modified_by as last_mod4_1_0_,
        book0_.last_modified_date as last_mod5_1_0_,
        book0_.status_code as status_c6_1_0_,
        book0_.author_id as author_i9_1_0_,
        book0_.name as name7_1_0_,
        book0_.price as price8_1_0_,
        (select
            count(*) 
        from
            books) as formula2_0_,
        author1_.created_by as created_2_0_1_,
        author1_.created_date as created_3_0_1_,
        author1_.last_modified_by as last_mod4_0_1_,
        author1_.last_modified_date as last_mod5_0_1_,
        author1_.status_code as status_c6_0_1_,
        author1_.email as email7_0_1_,
        author1_.ip_address as ip_addre8_0_1_,
        author1_.name as name9_0_1_,
        (select
            count(*) 
        from
            books b 
        where
            b.author_id = author1_.id) as formula1_1_ 
    from
        books book0_ 
    left outer join
        authors author1_ 
            on book0_.author_id=author1_.id
2022-10-28 01:56:43,332 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Discount -> 2022-10-28T01:56:43.332788900
2022-10-28 01:56:49,248 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Discount -> 2022-10-28T01:56:49.248591
2022-10-28 01:56:55,254 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Discount -> 2022-10-28T01:56:55.254505
2022-10-28 01:57:01,246 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Discount -> 2022-10-28T01:57:01.246668800
2022-10-28 01:57:04,019 INFO com.global.book.service.PriceSchedule [AsynchThread::3] Compute Price -> 2022-10-28T01:57:04.019796900
2022-10-28 01:57:07,241 INFO com.global.book.service.PriceSchedule [AsynchThread::2] Compute Discount -> 2022-10-28T01:57:07.241347
2022-10-28 01:57:11,256 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Discount -> 2022-10-28T01:57:11.256973800
2022-10-28 01:57:17,253 INFO com.global.book.service.PriceSchedule [AsynchThread::2] Compute Discount -> 2022-10-28T01:57:17.253532800
2022-10-28 01:57:23,244 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Discount -> 2022-10-28T01:57:23.244276300
2022-10-28 01:57:29,246 INFO com.global.book.service.PriceSchedule [AsynchThread::2] Compute Discount -> 2022-10-28T01:57:29.246363500
2022-10-28 01:57:35,248 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Discount -> 2022-10-28T01:57:35.248945300
2022-10-28 01:57:41,237 INFO com.global.book.service.PriceSchedule [AsynchThread::2] Compute Discount -> 2022-10-28T01:57:41.237053100
2022-10-28 01:57:45,243 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Discount -> 2022-10-28T01:57:45.243040
2022-10-28 01:57:51,249 INFO com.global.book.service.PriceSchedule [AsynchThread::2] Compute Discount -> 2022-10-28T01:57:51.249816100
2022-10-28 01:57:57,245 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Discount -> 2022-10-28T01:57:57.245271800
2022-10-28 01:58:03,250 INFO com.global.book.service.PriceSchedule [AsynchThread::2] Compute Discount -> 2022-10-28T01:58:03.250209500
2022-10-28 01:58:04,023 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Price -> 2022-10-28T01:58:04.023816300
2022-10-28 01:58:09,243 INFO com.global.book.service.PriceSchedule [AsynchThread::3] Compute Discount -> 2022-10-28T01:58:09.243291500
2022-10-28 01:58:15,241 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Discount -> 2022-10-28T01:58:15.241109900
2022-10-28 01:58:19,260 INFO com.global.book.service.PriceSchedule [AsynchThread::2] Compute Discount -> 2022-10-28T01:58:19.260088500
2022-10-28 01:58:25,243 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Discount -> 2022-10-28T01:58:25.243296500
2022-10-28 01:58:31,253 INFO com.global.book.service.PriceSchedule [AsynchThread::2] Compute Discount -> 2022-10-28T01:58:31.253283500
2022-10-28 01:58:33,299 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(5)-127.0.0.1] Application shutdown requested.
2022-10-28 01:58:33,314 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(5)-127.0.0.1] Pausing ProtocolHandler ["http-nio-8080"]
2022-10-28 01:58:33,314 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(5)-127.0.0.1] Stopping service [Tomcat]
2022-10-28 01:58:33,317 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(5)-127.0.0.1] Stopping ProtocolHandler ["http-nio-8080"]
2022-10-28 01:58:33,318 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(5)-127.0.0.1] Destroying ProtocolHandler ["http-nio-8080"]
2022-10-28 01:58:33,320 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [RMI TCP Connection(5)-127.0.0.1] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 01:58:33,321 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(5)-127.0.0.1] HikariPool-1 - Shutdown initiated...
2022-10-28 01:58:33,326 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(5)-127.0.0.1] HikariPool-1 - Shutdown completed.
2022-10-28 01:58:37,945 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2022-10-28 01:58:37,952 INFO org.springframework.boot.StartupInfoLogger [main] Starting DataJpaBooksProjectApplication using Java 17.0.4.1 on DESKTOP-N2KRF5H with PID 3444 (C:\Users\princ\Desktop\projects\data-jpa-books-project\target\classes started by princ in C:\Users\princ\Desktop\projects\data-jpa-books-project)
2022-10-28 01:58:37,953 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.7.5, Spring v5.3.23
2022-10-28 01:58:37,953 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-28 01:58:38,321 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 01:58:38,355 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 30 ms. Found 2 JPA repository interfaces.
2022-10-28 01:58:38,690 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-10-28 01:58:38,696 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-10-28 01:58:38,697 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-28 01:58:38,697 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.68]
2022-10-28 01:58:38,757 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-28 01:58:38,757 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 770 ms
2022-10-28 01:58:38,873 ERROR org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Skipping filesystem location:\another\migration\directory (not found).
2022-10-28 01:58:38,874 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-28 01:58:38,969 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-28 01:58:38,975 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Flyway Community Edition 8.0.4 by Redgate
2022-10-28 01:58:38,975 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Database: jdbc:mysql://localhost:3306/book (MySQL 5.5)
2022-10-28 01:58:39,016 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully validated 1 migration (execution time 00:00.011s)
2022-10-28 01:58:39,022 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Current version of schema `book`: 1
2022-10-28 01:58:39,023 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Schema `book` is up to date. No migration necessary.
2022-10-28 01:58:39,066 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 01:58:39,100 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.12.Final
2022-10-28 01:58:39,189 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 01:58:39,249 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-10-28 01:58:39,654 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 01:58:39,662 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 01:58:40,034 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 01:58:40,230 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2022-10-28 01:58:40,244 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2022-10-28 01:58:40,253 INFO org.springframework.boot.StartupInfoLogger [main] Started DataJpaBooksProjectApplication in 2.518 seconds (JVM running for 3.08)
2022-10-28 01:58:40,279 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [main] 
    select
        author0_.id as id1_0_,
        author0_.created_by as created_2_0_,
        author0_.created_date as created_3_0_,
        author0_.last_modified_by as last_mod4_0_,
        author0_.last_modified_date as last_mod5_0_,
        author0_.status_code as status_c6_0_,
        author0_.email as email7_0_,
        author0_.ip_address as ip_addre8_0_,
        author0_.name as name9_0_,
        (select
            count(*) 
        from
            books b 
        where
            b.author_id = author0_.id) as formula1_ 
    from
        authors author0_
2022-10-28 01:58:40,300 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [main] 
    select
        book0_.id as id1_1_0_,
        author1_.id as id1_0_1_,
        book0_.created_by as created_2_1_0_,
        book0_.created_date as created_3_1_0_,
        book0_.last_modified_by as last_mod4_1_0_,
        book0_.last_modified_date as last_mod5_1_0_,
        book0_.status_code as status_c6_1_0_,
        book0_.author_id as author_i9_1_0_,
        book0_.name as name7_1_0_,
        book0_.price as price8_1_0_,
        (select
            count(*) 
        from
            books) as formula2_0_,
        author1_.created_by as created_2_0_1_,
        author1_.created_date as created_3_0_1_,
        author1_.last_modified_by as last_mod4_0_1_,
        author1_.last_modified_date as last_mod5_0_1_,
        author1_.status_code as status_c6_0_1_,
        author1_.email as email7_0_1_,
        author1_.ip_address as ip_addre8_0_1_,
        author1_.name as name9_0_1_,
        (select
            count(*) 
        from
            books b 
        where
            b.author_id = author1_.id) as formula1_1_ 
    from
        books book0_ 
    left outer join
        authors author1_ 
            on book0_.author_id=author1_.id
2022-10-28 01:59:04,019 INFO com.global.book.service.PriceSchedule [AsynchThread::3] Compute Price -> 2022-10-28T01:59:04.019127800
2022-10-28 01:59:07,969 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(4)-127.0.0.1] Application shutdown requested.
2022-10-28 01:59:07,983 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(4)-127.0.0.1] Pausing ProtocolHandler ["http-nio-8080"]
2022-10-28 01:59:07,983 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(4)-127.0.0.1] Stopping service [Tomcat]
2022-10-28 01:59:07,985 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(4)-127.0.0.1] Stopping ProtocolHandler ["http-nio-8080"]
2022-10-28 01:59:07,987 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(4)-127.0.0.1] Destroying ProtocolHandler ["http-nio-8080"]
2022-10-28 01:59:07,989 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [RMI TCP Connection(4)-127.0.0.1] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 01:59:07,990 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(4)-127.0.0.1] HikariPool-1 - Shutdown initiated...
2022-10-28 01:59:07,994 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(4)-127.0.0.1] HikariPool-1 - Shutdown completed.
2022-10-28 01:59:18,409 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2022-10-28 01:59:18,415 INFO org.springframework.boot.StartupInfoLogger [main] Starting DataJpaBooksProjectApplication using Java 17.0.4.1 on DESKTOP-N2KRF5H with PID 10936 (C:\Users\princ\Desktop\projects\data-jpa-books-project\target\classes started by princ in C:\Users\princ\Desktop\projects\data-jpa-books-project)
2022-10-28 01:59:18,416 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.7.5, Spring v5.3.23
2022-10-28 01:59:18,416 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-28 01:59:18,801 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 01:59:18,838 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 32 ms. Found 2 JPA repository interfaces.
2022-10-28 01:59:19,177 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-10-28 01:59:19,183 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-10-28 01:59:19,184 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-28 01:59:19,184 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.68]
2022-10-28 01:59:19,246 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-28 01:59:19,246 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 796 ms
2022-10-28 01:59:19,366 ERROR org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Skipping filesystem location:\another\migration\directory (not found).
2022-10-28 01:59:19,367 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-28 01:59:19,463 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-28 01:59:19,468 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Flyway Community Edition 8.0.4 by Redgate
2022-10-28 01:59:19,469 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Database: jdbc:mysql://localhost:3306/book (MySQL 5.5)
2022-10-28 01:59:19,509 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully validated 2 migrations (execution time 00:00.012s)
2022-10-28 01:59:19,515 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Current version of schema `book`: 1
2022-10-28 01:59:19,522 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Migrating schema `book` to version "2 - create shedlock"
2022-10-28 01:59:19,549 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully applied 1 migration to schema `book`, now at version v2 (execution time 00:00.037s)
2022-10-28 01:59:19,599 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 01:59:19,628 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.12.Final
2022-10-28 01:59:19,734 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 01:59:19,801 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-10-28 01:59:20,270 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 01:59:20,276 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 01:59:20,717 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 01:59:20,952 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2022-10-28 01:59:20,969 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2022-10-28 01:59:20,979 INFO org.springframework.boot.StartupInfoLogger [main] Started DataJpaBooksProjectApplication in 2.763 seconds (JVM running for 3.304)
2022-10-28 01:59:21,011 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [main] 
    select
        author0_.id as id1_0_,
        author0_.created_by as created_2_0_,
        author0_.created_date as created_3_0_,
        author0_.last_modified_by as last_mod4_0_,
        author0_.last_modified_date as last_mod5_0_,
        author0_.status_code as status_c6_0_,
        author0_.email as email7_0_,
        author0_.ip_address as ip_addre8_0_,
        author0_.name as name9_0_,
        (select
            count(*) 
        from
            books b 
        where
            b.author_id = author0_.id) as formula1_ 
    from
        authors author0_
2022-10-28 01:59:21,035 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [main] 
    select
        book0_.id as id1_1_0_,
        author1_.id as id1_0_1_,
        book0_.created_by as created_2_1_0_,
        book0_.created_date as created_3_1_0_,
        book0_.last_modified_by as last_mod4_1_0_,
        book0_.last_modified_date as last_mod5_1_0_,
        book0_.status_code as status_c6_1_0_,
        book0_.author_id as author_i9_1_0_,
        book0_.name as name7_1_0_,
        book0_.price as price8_1_0_,
        (select
            count(*) 
        from
            books) as formula2_0_,
        author1_.created_by as created_2_0_1_,
        author1_.created_date as created_3_0_1_,
        author1_.last_modified_by as last_mod4_0_1_,
        author1_.last_modified_date as last_mod5_0_1_,
        author1_.status_code as status_c6_0_1_,
        author1_.email as email7_0_1_,
        author1_.ip_address as ip_addre8_0_1_,
        author1_.name as name9_0_1_,
        (select
            count(*) 
        from
            books b 
        where
            b.author_id = author1_.id) as formula1_1_ 
    from
        books book0_ 
    left outer join
        authors author1_ 
            on book0_.author_id=author1_.id
2022-10-28 01:59:25,004 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Discount -> 2022-10-28T01:59:25.004268800
2022-10-28 01:59:31,004 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Discount -> 2022-10-28T01:59:31.004984
2022-10-28 01:59:36,997 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Discount -> 2022-10-28T01:59:36.997304100
2022-10-28 01:59:43,005 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Discount -> 2022-10-28T01:59:43.005666900
2022-10-28 01:59:49,000 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Discount -> 2022-10-28T01:59:49.000907600
2022-10-28 01:59:54,996 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Discount -> 2022-10-28T01:59:54.996228900
2022-10-28 02:00:00,994 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Discount -> 2022-10-28T02:00:00.994361900
2022-10-28 02:00:04,015 INFO com.global.book.service.PriceSchedule [AsynchThread::3] Compute Price -> 2022-10-28T02:00:04.015934300
2022-10-28 02:00:06,994 INFO com.global.book.service.PriceSchedule [AsynchThread::2] Compute Discount -> 2022-10-28T02:00:06.994777800
2022-10-28 02:00:12,997 INFO com.global.book.service.PriceSchedule [AsynchThread::3] Compute Discount -> 2022-10-28T02:00:12.997116900
2022-10-28 02:00:18,995 INFO com.global.book.service.PriceSchedule [AsynchThread::2] Compute Discount -> 2022-10-28T02:00:18.995953800
2022-10-28 02:00:25,001 INFO com.global.book.service.PriceSchedule [AsynchThread::3] Compute Discount -> 2022-10-28T02:00:25.001177100
2022-10-28 02:00:30,999 INFO com.global.book.service.PriceSchedule [AsynchThread::2] Compute Discount -> 2022-10-28T02:00:30.999675900
2022-10-28 02:00:36,987 INFO com.global.book.service.PriceSchedule [AsynchThread::3] Compute Discount -> 2022-10-28T02:00:36.987018800
2022-10-28 02:00:41,001 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Discount -> 2022-10-28T02:00:41.001704900
2022-10-28 02:00:46,996 INFO com.global.book.service.PriceSchedule [AsynchThread::3] Compute Discount -> 2022-10-28T02:00:46.996172700
2022-10-28 02:00:52,996 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Discount -> 2022-10-28T02:00:52.996295100
2022-10-28 02:00:59,002 INFO com.global.book.service.PriceSchedule [AsynchThread::3] Compute Discount -> 2022-10-28T02:00:59.002720600
2022-10-28 02:01:04,027 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Price -> 2022-10-28T02:01:04.027734300
2022-10-28 02:01:04,997 INFO com.global.book.service.PriceSchedule [AsynchThread::2] Compute Discount -> 2022-10-28T02:01:04.997104300
2022-10-28 02:01:10,996 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Discount -> 2022-10-28T02:01:10.996097100
2022-10-28 02:01:17,005 INFO com.global.book.service.PriceSchedule [AsynchThread::2] Compute Discount -> 2022-10-28T02:01:17.005655400
2022-10-28 02:01:23,005 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Discount -> 2022-10-28T02:01:23.005484600
2022-10-28 02:01:28,992 INFO com.global.book.service.PriceSchedule [AsynchThread::2] Compute Discount -> 2022-10-28T02:01:28.992417700
2022-10-28 02:01:34,992 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Discount -> 2022-10-28T02:01:34.992408900
2022-10-28 02:01:40,996 INFO com.global.book.service.PriceSchedule [AsynchThread::2] Compute Discount -> 2022-10-28T02:01:40.996254600
2022-10-28 02:01:46,984 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Discount -> 2022-10-28T02:01:46.984892600
2022-10-28 02:01:53,006 INFO com.global.book.service.PriceSchedule [AsynchThread::2] Compute Discount -> 2022-10-28T02:01:53.006091800
2022-10-28 02:01:58,992 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Discount -> 2022-10-28T02:01:58.992459600
2022-10-28 02:02:03,000 INFO com.global.book.service.PriceSchedule [AsynchThread::3] Compute Discount -> 2022-10-28T02:02:03.000250400
2022-10-28 02:02:04,021 INFO com.global.book.service.PriceSchedule [AsynchThread::2] Compute Price -> 2022-10-28T02:02:04.021461200
2022-10-28 02:02:08,998 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Discount -> 2022-10-28T02:02:08.998899300
2022-10-28 02:02:14,996 INFO com.global.book.service.PriceSchedule [AsynchThread::2] Compute Discount -> 2022-10-28T02:02:14.996910100
2022-10-28 02:02:20,991 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Discount -> 2022-10-28T02:02:20.991534
2022-10-28 02:02:25,002 INFO com.global.book.service.PriceSchedule [AsynchThread::3] Compute Discount -> 2022-10-28T02:02:25.002621900
2022-10-28 02:02:30,994 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Discount -> 2022-10-28T02:02:30.994257700
2022-10-28 02:02:36,993 INFO com.global.book.service.PriceSchedule [AsynchThread::3] Compute Discount -> 2022-10-28T02:02:36.993266500
2022-10-28 02:02:41,011 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Discount -> 2022-10-28T02:02:41.011344900
2022-10-28 02:02:41,592 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(7)-127.0.0.1] Application shutdown requested.
2022-10-28 02:02:41,607 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(7)-127.0.0.1] Pausing ProtocolHandler ["http-nio-8080"]
2022-10-28 02:02:41,607 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(7)-127.0.0.1] Stopping service [Tomcat]
2022-10-28 02:02:41,610 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(7)-127.0.0.1] Stopping ProtocolHandler ["http-nio-8080"]
2022-10-28 02:02:41,611 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(7)-127.0.0.1] Destroying ProtocolHandler ["http-nio-8080"]
2022-10-28 02:02:41,613 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [RMI TCP Connection(7)-127.0.0.1] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 02:02:41,614 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(7)-127.0.0.1] HikariPool-1 - Shutdown initiated...
2022-10-28 02:02:41,619 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(7)-127.0.0.1] HikariPool-1 - Shutdown completed.
2022-10-28 02:03:40,602 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2022-10-28 02:03:40,608 INFO org.springframework.boot.StartupInfoLogger [main] Starting DataJpaBooksProjectApplication using Java 17.0.4.1 on DESKTOP-N2KRF5H with PID 13476 (C:\Users\princ\Desktop\projects\data-jpa-books-project\target\classes started by princ in C:\Users\princ\Desktop\projects\data-jpa-books-project)
2022-10-28 02:03:40,608 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.7.5, Spring v5.3.23
2022-10-28 02:03:40,609 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-28 02:03:41,193 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 02:03:41,229 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 30 ms. Found 2 JPA repository interfaces.
2022-10-28 02:03:41,564 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-10-28 02:03:41,570 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-10-28 02:03:41,571 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-28 02:03:41,571 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.68]
2022-10-28 02:03:41,639 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-28 02:03:41,640 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 997 ms
2022-10-28 02:03:41,829 ERROR org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Skipping filesystem location:\another\migration\directory (not found).
2022-10-28 02:03:41,831 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-28 02:03:41,935 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-28 02:03:41,942 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Flyway Community Edition 8.0.4 by Redgate
2022-10-28 02:03:41,942 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Database: jdbc:mysql://localhost:3306/book (MySQL 5.5)
2022-10-28 02:03:41,985 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully validated 2 migrations (execution time 00:00.012s)
2022-10-28 02:03:41,991 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Current version of schema `book`: 2
2022-10-28 02:03:41,992 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Schema `book` is up to date. No migration necessary.
2022-10-28 02:03:42,034 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 02:03:42,067 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.12.Final
2022-10-28 02:03:42,167 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 02:03:42,228 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-10-28 02:03:42,645 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 02:03:42,651 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 02:03:43,039 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 02:03:43,399 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 1 endpoint(s) beneath base path '/actuator'
2022-10-28 02:03:43,429 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2022-10-28 02:03:43,450 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2022-10-28 02:03:43,466 INFO org.springframework.boot.StartupInfoLogger [main] Started DataJpaBooksProjectApplication in 3.081 seconds (JVM running for 3.688)
2022-10-28 02:03:43,506 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [main] 
    select
        author0_.id as id1_0_,
        author0_.created_by as created_2_0_,
        author0_.created_date as created_3_0_,
        author0_.last_modified_by as last_mod4_0_,
        author0_.last_modified_date as last_mod5_0_,
        author0_.status_code as status_c6_0_,
        author0_.email as email7_0_,
        author0_.ip_address as ip_addre8_0_,
        author0_.name as name9_0_,
        (select
            count(*) 
        from
            books b 
        where
            b.author_id = author0_.id) as formula1_ 
    from
        authors author0_
2022-10-28 02:03:43,540 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [main] 
    select
        book0_.id as id1_1_0_,
        author1_.id as id1_0_1_,
        book0_.created_by as created_2_1_0_,
        book0_.created_date as created_3_1_0_,
        book0_.last_modified_by as last_mod4_1_0_,
        book0_.last_modified_date as last_mod5_1_0_,
        book0_.status_code as status_c6_1_0_,
        book0_.author_id as author_i9_1_0_,
        book0_.name as name7_1_0_,
        book0_.price as price8_1_0_,
        (select
            count(*) 
        from
            books) as formula2_0_,
        author1_.created_by as created_2_0_1_,
        author1_.created_date as created_3_0_1_,
        author1_.last_modified_by as last_mod4_0_1_,
        author1_.last_modified_date as last_mod5_0_1_,
        author1_.status_code as status_c6_0_1_,
        author1_.email as email7_0_1_,
        author1_.ip_address as ip_addre8_0_1_,
        author1_.name as name9_0_1_,
        (select
            count(*) 
        from
            books b 
        where
            b.author_id = author1_.id) as formula1_1_ 
    from
        books book0_ 
    left outer join
        authors author1_ 
            on book0_.author_id=author1_.id
2022-10-28 02:03:44,617 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(3)-127.0.0.1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-28 02:03:44,617 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(3)-127.0.0.1] Initializing Servlet 'dispatcherServlet'
2022-10-28 02:03:44,618 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(3)-127.0.0.1] Completed initialization in 1 ms
2022-10-28 02:03:47,564 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Discount -> 2022-10-28T02:03:47.564190900
2022-10-28 02:03:53,478 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Discount -> 2022-10-28T02:03:53.478547500
2022-10-28 02:03:57,496 INFO com.global.book.service.PriceSchedule [AsynchThread::3] Compute Discount -> 2022-10-28T02:03:57.496717500
2022-10-28 02:04:03,488 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Discount -> 2022-10-28T02:04:03.488674500
2022-10-28 02:04:04,030 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Price -> 2022-10-28T02:04:04.030390900
2022-10-28 02:04:09,494 INFO com.global.book.service.PriceSchedule [AsynchThread::2] Compute Discount -> 2022-10-28T02:04:09.494136800
2022-10-28 02:04:15,476 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Discount -> 2022-10-28T02:04:15.476194600
2022-10-28 02:04:21,482 INFO com.global.book.service.PriceSchedule [AsynchThread::2] Compute Discount -> 2022-10-28T02:04:21.482641600
2022-10-28 02:04:27,488 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Discount -> 2022-10-28T02:04:27.488161400
2022-10-28 02:04:33,486 INFO com.global.book.service.PriceSchedule [AsynchThread::2] Compute Discount -> 2022-10-28T02:04:33.486771500
2022-10-28 02:04:39,473 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Discount -> 2022-10-28T02:04:39.473038
2022-10-28 02:04:43,486 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Discount -> 2022-10-28T02:04:43.486621400
2022-10-28 02:04:49,475 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Discount -> 2022-10-28T02:04:49.475168600
2022-10-28 02:04:55,496 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Discount -> 2022-10-28T02:04:55.496956400
2022-10-28 02:05:01,486 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Discount -> 2022-10-28T02:05:01.486748600
2022-10-28 02:05:04,020 INFO com.global.book.service.PriceSchedule [AsynchThread::3] Compute Price -> 2022-10-28T02:05:04.020785700
2022-10-28 02:05:07,481 INFO com.global.book.service.PriceSchedule [AsynchThread::2] Compute Discount -> 2022-10-28T02:05:07.481194400
2022-10-28 02:05:13,486 INFO com.global.book.service.PriceSchedule [AsynchThread::3] Compute Discount -> 2022-10-28T02:05:13.485944700
2022-10-28 02:05:19,485 INFO com.global.book.service.PriceSchedule [AsynchThread::2] Compute Discount -> 2022-10-28T02:05:19.485883200
2022-10-28 02:05:25,492 INFO com.global.book.service.PriceSchedule [AsynchThread::3] Compute Discount -> 2022-10-28T02:05:25.492985300
2022-10-28 02:05:31,200 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(6)-127.0.0.1] Application shutdown requested.
2022-10-28 02:05:31,232 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(6)-127.0.0.1] Pausing ProtocolHandler ["http-nio-8080"]
2022-10-28 02:05:31,232 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(6)-127.0.0.1] Stopping service [Tomcat]
2022-10-28 02:05:31,233 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(6)-127.0.0.1] Destroying Spring FrameworkServlet 'dispatcherServlet'
2022-10-28 02:05:31,235 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(6)-127.0.0.1] Stopping ProtocolHandler ["http-nio-8080"]
2022-10-28 02:05:31,237 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(6)-127.0.0.1] Destroying ProtocolHandler ["http-nio-8080"]
2022-10-28 02:05:31,241 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [RMI TCP Connection(6)-127.0.0.1] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 02:05:31,242 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(6)-127.0.0.1] HikariPool-1 - Shutdown initiated...
2022-10-28 02:05:31,247 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(6)-127.0.0.1] HikariPool-1 - Shutdown completed.
2022-10-28 02:05:31,494 INFO com.global.book.service.PriceSchedule [AsynchThread::2] Compute Discount -> 2022-10-28T02:05:31.494779700
2022-10-28 02:05:31,495 ERROR org.springframework.aop.interceptor.SimpleAsyncUncaughtExceptionHandler [AsynchThread::2] Unexpected exception occurred invoking async method: public void com.global.book.service.PriceSchedule.computeDiscount() throws java.lang.InterruptedException
org.springframework.transaction.CannotCreateTransactionException: Could not open JDBC Connection for transaction; nested exception is java.sql.SQLException: HikariDataSource HikariDataSource (HikariPool-1) has been closed.
	at org.springframework.jdbc.datasource.DataSourceTransactionManager.doBegin(DataSourceTransactionManager.java:309)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:137)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.execute(JdbcTemplateStorageAccessor.java:115)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.doUnlock(JdbcTemplateStorageAccessor.java:110)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.unlock(JdbcTemplateStorageAccessor.java:101)
	at net.javacrumbs.shedlock.support.StorageBasedLockProvider$StorageLock.doUnlock(StorageBasedLockProvider.java:104)
	at net.javacrumbs.shedlock.core.AbstractSimpleLock.unlock(AbstractSimpleLock.java:35)
	at net.javacrumbs.shedlock.core.DefaultLockingTaskExecutor.executeWithLock(DefaultLockingTaskExecutor.java:79)
	at net.javacrumbs.shedlock.spring.aop.MethodProxyScheduledLockAdvisor$LockingInterceptor.invoke(MethodProxyScheduledLockAdvisor.java:86)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.sql.SQLException: HikariDataSource HikariDataSource (HikariPool-1) has been closed.
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:96)
	at org.springframework.jdbc.datasource.DataSourceTransactionManager.doBegin(DataSourceTransactionManager.java:265)
	... 17 common frames omitted
2022-10-28 02:06:13,643 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2022-10-28 02:06:13,646 INFO org.springframework.boot.StartupInfoLogger [main] Starting DataJpaBooksProjectApplication using Java 17.0.4.1 on DESKTOP-N2KRF5H with PID 21812 (C:\Users\princ\Desktop\projects\data-jpa-books-project\target\classes started by princ in C:\Users\princ\Desktop\projects\data-jpa-books-project)
2022-10-28 02:06:13,647 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.7.5, Spring v5.3.23
2022-10-28 02:06:13,647 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-28 02:06:14,265 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 02:06:14,311 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 40 ms. Found 2 JPA repository interfaces.
2022-10-28 02:06:14,756 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-10-28 02:06:14,764 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-10-28 02:06:14,765 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-28 02:06:14,765 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.68]
2022-10-28 02:06:14,861 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-28 02:06:14,861 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1185 ms
2022-10-28 02:06:15,091 ERROR org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Skipping filesystem location:\another\migration\directory (not found).
2022-10-28 02:06:15,093 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-28 02:06:15,226 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-28 02:06:15,234 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Flyway Community Edition 8.0.4 by Redgate
2022-10-28 02:06:15,234 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Database: jdbc:mysql://localhost:3306/book (MySQL 5.5)
2022-10-28 02:06:15,286 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully validated 2 migrations (execution time 00:00.016s)
2022-10-28 02:06:15,293 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Current version of schema `book`: 2
2022-10-28 02:06:15,294 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Schema `book` is up to date. No migration necessary.
2022-10-28 02:06:15,353 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 02:06:15,392 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.12.Final
2022-10-28 02:06:15,512 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 02:06:15,593 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-10-28 02:06:16,120 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 02:06:16,127 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 02:06:16,591 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 02:06:16,967 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 1 endpoint(s) beneath base path '/actuator'
2022-10-28 02:06:16,997 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2022-10-28 02:06:17,015 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2022-10-28 02:06:17,029 INFO org.springframework.boot.StartupInfoLogger [main] Started DataJpaBooksProjectApplication in 3.593 seconds (JVM running for 4.138)
2022-10-28 02:06:17,077 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [main] 
    select
        author0_.id as id1_0_,
        author0_.created_by as created_2_0_,
        author0_.created_date as created_3_0_,
        author0_.last_modified_by as last_mod4_0_,
        author0_.last_modified_date as last_mod5_0_,
        author0_.status_code as status_c6_0_,
        author0_.email as email7_0_,
        author0_.ip_address as ip_addre8_0_,
        author0_.name as name9_0_,
        (select
            count(*) 
        from
            books b 
        where
            b.author_id = author0_.id) as formula1_ 
    from
        authors author0_
2022-10-28 02:06:17,108 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [main] 
    select
        book0_.id as id1_1_0_,
        author1_.id as id1_0_1_,
        book0_.created_by as created_2_1_0_,
        book0_.created_date as created_3_1_0_,
        book0_.last_modified_by as last_mod4_1_0_,
        book0_.last_modified_date as last_mod5_1_0_,
        book0_.status_code as status_c6_1_0_,
        book0_.author_id as author_i9_1_0_,
        book0_.name as name7_1_0_,
        book0_.price as price8_1_0_,
        (select
            count(*) 
        from
            books) as formula2_0_,
        author1_.created_by as created_2_0_1_,
        author1_.created_date as created_3_0_1_,
        author1_.last_modified_by as last_mod4_0_1_,
        author1_.last_modified_date as last_mod5_0_1_,
        author1_.status_code as status_c6_0_1_,
        author1_.email as email7_0_1_,
        author1_.ip_address as ip_addre8_0_1_,
        author1_.name as name9_0_1_,
        (select
            count(*) 
        from
            books b 
        where
            b.author_id = author1_.id) as formula1_1_ 
    from
        books book0_ 
    left outer join
        authors author1_ 
            on book0_.author_id=author1_.id
2022-10-28 02:06:18,050 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(3)-127.0.0.1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-28 02:06:18,050 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(3)-127.0.0.1] Initializing Servlet 'dispatcherServlet'
2022-10-28 02:06:18,051 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(3)-127.0.0.1] Completed initialization in 1 ms
2022-10-28 02:07:04,046 INFO com.global.book.service.PriceSchedule [AsynchThread::3] Compute Price -> 2022-10-28T02:07:04.046516800
2022-10-28 02:07:10,885 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(5)-127.0.0.1] Application shutdown requested.
2022-10-28 02:07:10,899 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(5)-127.0.0.1] Pausing ProtocolHandler ["http-nio-8080"]
2022-10-28 02:07:10,899 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(5)-127.0.0.1] Stopping service [Tomcat]
2022-10-28 02:07:10,900 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(5)-127.0.0.1] Destroying Spring FrameworkServlet 'dispatcherServlet'
2022-10-28 02:07:10,902 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(5)-127.0.0.1] Stopping ProtocolHandler ["http-nio-8080"]
2022-10-28 02:07:10,904 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(5)-127.0.0.1] Destroying ProtocolHandler ["http-nio-8080"]
2022-10-28 02:07:10,907 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [RMI TCP Connection(5)-127.0.0.1] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 02:07:10,909 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(5)-127.0.0.1] HikariPool-1 - Shutdown initiated...
2022-10-28 02:07:10,914 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(5)-127.0.0.1] HikariPool-1 - Shutdown completed.
2022-10-28 02:07:14,866 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2022-10-28 02:07:14,871 INFO org.springframework.boot.StartupInfoLogger [main] Starting DataJpaBooksProjectApplication using Java 17.0.4.1 on DESKTOP-N2KRF5H with PID 6580 (C:\Users\princ\Desktop\projects\data-jpa-books-project\target\classes started by princ in C:\Users\princ\Desktop\projects\data-jpa-books-project)
2022-10-28 02:07:14,872 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.7.5, Spring v5.3.23
2022-10-28 02:07:14,872 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-28 02:07:15,384 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-28 02:07:15,419 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 31 ms. Found 2 JPA repository interfaces.
2022-10-28 02:07:15,771 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-10-28 02:07:15,777 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-10-28 02:07:15,777 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-28 02:07:15,777 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.68]
2022-10-28 02:07:15,856 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-28 02:07:15,856 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 954 ms
2022-10-28 02:07:16,024 ERROR org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Skipping filesystem location:\another\migration\directory (not found).
2022-10-28 02:07:16,026 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-28 02:07:16,126 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-28 02:07:16,132 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Flyway Community Edition 8.0.4 by Redgate
2022-10-28 02:07:16,132 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Database: jdbc:mysql://localhost:3306/book (MySQL 5.5)
2022-10-28 02:07:16,172 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully validated 2 migrations (execution time 00:00.012s)
2022-10-28 02:07:16,179 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Current version of schema `book`: 2
2022-10-28 02:07:16,179 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Schema `book` is up to date. No migration necessary.
2022-10-28 02:07:16,223 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-28 02:07:16,254 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.12.Final
2022-10-28 02:07:16,342 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-28 02:07:16,402 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-10-28 02:07:16,811 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-28 02:07:16,817 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 02:07:17,185 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-28 02:07:17,485 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 14 endpoint(s) beneath base path '/actuator'
2022-10-28 02:07:17,510 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2022-10-28 02:07:17,524 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2022-10-28 02:07:17,535 INFO org.springframework.boot.StartupInfoLogger [main] Started DataJpaBooksProjectApplication in 2.858 seconds (JVM running for 3.394)
2022-10-28 02:07:17,566 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [main] 
    select
        author0_.id as id1_0_,
        author0_.created_by as created_2_0_,
        author0_.created_date as created_3_0_,
        author0_.last_modified_by as last_mod4_0_,
        author0_.last_modified_date as last_mod5_0_,
        author0_.status_code as status_c6_0_,
        author0_.email as email7_0_,
        author0_.ip_address as ip_addre8_0_,
        author0_.name as name9_0_,
        (select
            count(*) 
        from
            books b 
        where
            b.author_id = author0_.id) as formula1_ 
    from
        authors author0_
2022-10-28 02:07:17,592 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [main] 
    select
        book0_.id as id1_1_0_,
        author1_.id as id1_0_1_,
        book0_.created_by as created_2_1_0_,
        book0_.created_date as created_3_1_0_,
        book0_.last_modified_by as last_mod4_1_0_,
        book0_.last_modified_date as last_mod5_1_0_,
        book0_.status_code as status_c6_1_0_,
        book0_.author_id as author_i9_1_0_,
        book0_.name as name7_1_0_,
        book0_.price as price8_1_0_,
        (select
            count(*) 
        from
            books) as formula2_0_,
        author1_.created_by as created_2_0_1_,
        author1_.created_date as created_3_0_1_,
        author1_.last_modified_by as last_mod4_0_1_,
        author1_.last_modified_date as last_mod5_0_1_,
        author1_.status_code as status_c6_0_1_,
        author1_.email as email7_0_1_,
        author1_.ip_address as ip_addre8_0_1_,
        author1_.name as name9_0_1_,
        (select
            count(*) 
        from
            books b 
        where
            b.author_id = author1_.id) as formula1_1_ 
    from
        books book0_ 
    left outer join
        authors author1_ 
            on book0_.author_id=author1_.id
2022-10-28 02:07:18,405 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(3)-127.0.0.1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-28 02:07:18,406 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(3)-127.0.0.1] Initializing Servlet 'dispatcherServlet'
2022-10-28 02:07:18,407 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(3)-127.0.0.1] Completed initialization in 1 ms
2022-10-28 02:08:04,025 INFO com.global.book.service.PriceSchedule [AsynchThread::3] Compute Price -> 2022-10-28T02:08:04.025431300
2022-10-28 02:09:04,013 INFO com.global.book.service.PriceSchedule [AsynchThread::2] Compute Price -> 2022-10-28T02:09:04.013320900
2022-10-28 02:09:59,202 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(7)-127.0.0.1] Application shutdown requested.
2022-10-28 02:09:59,216 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(7)-127.0.0.1] Pausing ProtocolHandler ["http-nio-8080"]
2022-10-28 02:09:59,216 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(7)-127.0.0.1] Stopping service [Tomcat]
2022-10-28 02:09:59,218 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(7)-127.0.0.1] Destroying Spring FrameworkServlet 'dispatcherServlet'
2022-10-28 02:09:59,220 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(7)-127.0.0.1] Stopping ProtocolHandler ["http-nio-8080"]
2022-10-28 02:09:59,222 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(7)-127.0.0.1] Destroying ProtocolHandler ["http-nio-8080"]
2022-10-28 02:09:59,225 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [RMI TCP Connection(7)-127.0.0.1] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-28 02:09:59,227 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(7)-127.0.0.1] HikariPool-1 - Shutdown initiated...
2022-10-28 02:09:59,231 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(7)-127.0.0.1] HikariPool-1 - Shutdown completed.

2022-10-29 02:06:54,784 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2022-10-29 02:06:54,787 INFO org.springframework.boot.StartupInfoLogger [main] Starting DataJpaBooksProjectApplication using Java 17.0.4.1 on DESKTOP-N2KRF5H with PID 18476 (C:\Users\princ\Desktop\projects\data-jpa-books-project\target\classes started by princ in C:\Users\princ\Desktop\projects\data-jpa-books-project)
2022-10-29 02:06:54,787 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.7.5, Spring v5.3.23
2022-10-29 02:06:54,788 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-29 02:06:55,425 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-29 02:06:55,467 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 36 ms. Found 2 JPA repository interfaces.
2022-10-29 02:06:55,849 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-10-29 02:06:55,856 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-10-29 02:06:55,856 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-29 02:06:55,856 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.68]
2022-10-29 02:06:55,939 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-29 02:06:55,939 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1123 ms
2022-10-29 02:06:56,115 ERROR org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Skipping filesystem location:\another\migration\directory (not found).
2022-10-29 02:06:56,116 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-29 02:06:56,225 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-29 02:06:56,232 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Flyway Community Edition 8.0.4 by Redgate
2022-10-29 02:06:56,233 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Database: jdbc:mysql://localhost:3306/book (MySQL 5.5)
2022-10-29 02:06:56,285 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully validated 2 migrations (execution time 00:00.017s)
2022-10-29 02:06:56,292 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Current version of schema `book`: 2
2022-10-29 02:06:56,293 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Schema `book` is up to date. No migration necessary.
2022-10-29 02:06:56,356 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-29 02:06:56,401 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.12.Final
2022-10-29 02:06:56,530 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-29 02:06:56,613 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-10-29 02:06:57,215 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [main] 
    
    alter table authors 
       add column image_path varchar(255)
2022-10-29 02:06:57,229 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-29 02:06:57,236 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-29 02:06:57,684 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-29 02:06:58,068 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 14 endpoint(s) beneath base path '/actuator'
2022-10-29 02:06:58,099 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2022-10-29 02:06:58,116 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2022-10-29 02:06:58,129 INFO org.springframework.boot.StartupInfoLogger [main] Started DataJpaBooksProjectApplication in 3.541 seconds (JVM running for 4.127)
2022-10-29 02:06:58,166 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [main] 
    select
        author0_.id as id1_0_,
        author0_.created_by as created_2_0_,
        author0_.created_date as created_3_0_,
        author0_.last_modified_by as last_mod4_0_,
        author0_.last_modified_date as last_mod5_0_,
        author0_.status_code as status_c6_0_,
        author0_.email as email7_0_,
        author0_.image_path as image_pa8_0_,
        author0_.ip_address as ip_addre9_0_,
        author0_.name as name10_0_,
        (select
            count(*) 
        from
            books b 
        where
            b.author_id = author0_.id) as formula1_ 
    from
        authors author0_
2022-10-29 02:06:58,197 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [main] 
    select
        book0_.id as id1_1_0_,
        author1_.id as id1_0_1_,
        book0_.created_by as created_2_1_0_,
        book0_.created_date as created_3_1_0_,
        book0_.last_modified_by as last_mod4_1_0_,
        book0_.last_modified_date as last_mod5_1_0_,
        book0_.status_code as status_c6_1_0_,
        book0_.author_id as author_i9_1_0_,
        book0_.name as name7_1_0_,
        book0_.price as price8_1_0_,
        (select
            count(*) 
        from
            books) as formula2_0_,
        author1_.created_by as created_2_0_1_,
        author1_.created_date as created_3_0_1_,
        author1_.last_modified_by as last_mod4_0_1_,
        author1_.last_modified_date as last_mod5_0_1_,
        author1_.status_code as status_c6_0_1_,
        author1_.email as email7_0_1_,
        author1_.image_path as image_pa8_0_1_,
        author1_.ip_address as ip_addre9_0_1_,
        author1_.name as name10_0_1_,
        (select
            count(*) 
        from
            books b 
        where
            b.author_id = author1_.id) as formula1_1_ 
    from
        books book0_ 
    left outer join
        authors author1_ 
            on book0_.author_id=author1_.id
2022-10-29 02:06:58,999 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(3)-127.0.0.1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-29 02:06:58,999 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(3)-127.0.0.1] Initializing Servlet 'dispatcherServlet'
2022-10-29 02:06:59,001 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(3)-127.0.0.1] Completed initialization in 1 ms
2022-10-29 02:07:02,214 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Discount -> 2022-10-29T02:07:02.214468600
2022-10-29 02:07:04,013 INFO com.global.book.service.PriceSchedule [AsynchThread::2] Compute Price -> 2022-10-29T02:07:04.013054300
2022-10-29 02:07:08,140 INFO com.global.book.service.PriceSchedule [AsynchThread::3] Compute Discount -> 2022-10-29T02:07:08.140176400
2022-10-29 02:07:12,082 ERROR org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.web.multipart.MaxUploadSizeExceededException: Maximum upload size exceeded; nested exception is java.lang.IllegalStateException: org.apache.tomcat.util.http.fileupload.impl.SizeLimitExceededException: the request was rejected because its size (600722366) exceeds the configured maximum (10485760)] with root cause
org.apache.tomcat.util.http.fileupload.impl.SizeLimitExceededException: the request was rejected because its size (600722366) exceeds the configured maximum (10485760)
	at org.apache.tomcat.util.http.fileupload.impl.FileItemIteratorImpl.init(FileItemIteratorImpl.java:161)
	at org.apache.tomcat.util.http.fileupload.impl.FileItemIteratorImpl.getMultiPartStream(FileItemIteratorImpl.java:205)
	at org.apache.tomcat.util.http.fileupload.impl.FileItemIteratorImpl.findNextItem(FileItemIteratorImpl.java:224)
	at org.apache.tomcat.util.http.fileupload.impl.FileItemIteratorImpl.<init>(FileItemIteratorImpl.java:142)
	at org.apache.tomcat.util.http.fileupload.FileUploadBase.getItemIterator(FileUploadBase.java:252)
	at org.apache.tomcat.util.http.fileupload.FileUploadBase.parseRequest(FileUploadBase.java:276)
	at org.apache.catalina.connector.Request.parseParts(Request.java:2932)
	at org.apache.catalina.connector.Request.getParts(Request.java:2834)
	at org.apache.catalina.connector.RequestFacade.getParts(RequestFacade.java:1098)
	at org.springframework.web.multipart.support.StandardMultipartHttpServletRequest.parseRequest(StandardMultipartHttpServletRequest.java:95)
	at org.springframework.web.multipart.support.StandardMultipartHttpServletRequest.<init>(StandardMultipartHttpServletRequest.java:88)
	at org.springframework.web.multipart.support.StandardServletMultipartResolver.resolveMultipart(StandardServletMultipartResolver.java:122)
	at org.springframework.web.servlet.DispatcherServlet.checkMultipart(DispatcherServlet.java:1209)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1043)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:696)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:779)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2022-10-29 02:07:14,154 INFO com.global.book.service.PriceSchedule [AsynchThread::2] Compute Discount -> 2022-10-29T02:07:14.154067500
2022-10-29 02:07:20,145 INFO com.global.book.service.PriceSchedule [AsynchThread::3] Compute Discount -> 2022-10-29T02:07:20.145041900
2022-10-29 02:07:26,146 INFO com.global.book.service.PriceSchedule [AsynchThread::2] Compute Discount -> 2022-10-29T02:07:26.146819100
2022-10-29 02:07:32,146 INFO com.global.book.service.PriceSchedule [AsynchThread::3] Compute Discount -> 2022-10-29T02:07:32.146994
2022-10-29 02:07:38,154 INFO com.global.book.service.PriceSchedule [AsynchThread::2] Compute Discount -> 2022-10-29T02:07:38.154422300
2022-10-29 02:07:44,158 INFO com.global.book.service.PriceSchedule [AsynchThread::3] Compute Discount -> 2022-10-29T02:07:44.158073800
2022-10-29 02:07:50,161 INFO com.global.book.service.PriceSchedule [AsynchThread::2] Compute Discount -> 2022-10-29T02:07:50.161085900
2022-10-29 02:07:56,144 INFO com.global.book.service.PriceSchedule [AsynchThread::3] Compute Discount -> 2022-10-29T02:07:56.144516300
2022-10-29 02:08:02,146 INFO com.global.book.service.PriceSchedule [AsynchThread::2] Compute Discount -> 2022-10-29T02:08:02.146619500
2022-10-29 02:08:04,020 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Price -> 2022-10-29T02:08:04.020819100
2022-10-29 02:08:08,145 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Discount -> 2022-10-29T02:08:08.145269900
2022-10-29 02:08:14,145 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Discount -> 2022-10-29T02:08:14.145497100
2022-10-29 02:08:20,148 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Discount -> 2022-10-29T02:08:20.148246
2022-10-29 02:08:26,148 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Discount -> 2022-10-29T02:08:26.148761
2022-10-29 02:08:32,154 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Discount -> 2022-10-29T02:08:32.154601500
2022-10-29 02:08:38,140 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Discount -> 2022-10-29T02:08:38.140273900
2022-10-29 02:08:44,150 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Discount -> 2022-10-29T02:08:44.150330700
2022-10-29 02:08:50,140 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Discount -> 2022-10-29T02:08:50.140706300
2022-10-29 02:08:56,142 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Discount -> 2022-10-29T02:08:56.142126900
2022-10-29 02:09:02,137 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Discount -> 2022-10-29T02:09:02.137545800
2022-10-29 02:09:04,020 INFO com.global.book.service.PriceSchedule [AsynchThread::3] Compute Price -> 2022-10-29T02:09:04.020073500
2022-10-29 02:09:08,148 INFO com.global.book.service.PriceSchedule [AsynchThread::2] Compute Discount -> 2022-10-29T02:09:08.148092300
2022-10-29 02:09:14,148 INFO com.global.book.service.PriceSchedule [AsynchThread::3] Compute Discount -> 2022-10-29T02:09:14.148885300
2022-10-29 02:09:20,147 INFO com.global.book.service.PriceSchedule [AsynchThread::2] Compute Discount -> 2022-10-29T02:09:20.147290600
2022-10-29 02:09:26,147 INFO com.global.book.service.PriceSchedule [AsynchThread::3] Compute Discount -> 2022-10-29T02:09:26.147237200
2022-10-29 02:09:32,160 INFO com.global.book.service.PriceSchedule [AsynchThread::2] Compute Discount -> 2022-10-29T02:09:32.160768400
2022-10-29 02:09:38,153 INFO com.global.book.service.PriceSchedule [AsynchThread::3] Compute Discount -> 2022-10-29T02:09:38.153189700
2022-10-29 02:09:44,145 INFO com.global.book.service.PriceSchedule [AsynchThread::2] Compute Discount -> 2022-10-29T02:09:44.145261400
2022-10-29 02:09:50,133 INFO com.global.book.service.PriceSchedule [AsynchThread::3] Compute Discount -> 2022-10-29T02:09:50.133432300
2022-10-29 02:09:56,142 INFO com.global.book.service.PriceSchedule [AsynchThread::2] Compute Discount -> 2022-10-29T02:09:56.142857500
2022-10-29 02:10:00,154 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Discount -> 2022-10-29T02:10:00.154254600
2022-10-29 02:10:04,022 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Price -> 2022-10-29T02:10:04.022563900
2022-10-29 02:10:06,149 INFO com.global.book.service.PriceSchedule [AsynchThread::3] Compute Discount -> 2022-10-29T02:10:06.149548600
2022-10-29 02:10:12,139 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Discount -> 2022-10-29T02:10:12.139303900
2022-10-29 02:10:18,142 INFO com.global.book.service.PriceSchedule [AsynchThread::3] Compute Discount -> 2022-10-29T02:10:18.142888
2022-10-29 02:10:24,153 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Discount -> 2022-10-29T02:10:24.153109100
2022-10-29 02:10:30,136 INFO com.global.book.service.PriceSchedule [AsynchThread::3] Compute Discount -> 2022-10-29T02:10:30.136082100
2022-10-29 02:10:34,151 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Discount -> 2022-10-29T02:10:34.151176300
2022-10-29 02:10:40,137 INFO com.global.book.service.PriceSchedule [AsynchThread::3] Compute Discount -> 2022-10-29T02:10:40.137901600
2022-10-29 02:10:46,151 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Discount -> 2022-10-29T02:10:46.151520800
2022-10-29 02:10:52,142 INFO com.global.book.service.PriceSchedule [AsynchThread::3] Compute Discount -> 2022-10-29T02:10:52.142151400
2022-10-29 02:10:58,138 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Discount -> 2022-10-29T02:10:58.137948
2022-10-29 02:11:02,148 INFO com.global.book.service.PriceSchedule [AsynchThread::2] Compute Discount -> 2022-10-29T02:11:02.148105700
2022-10-29 02:11:04,010 INFO com.global.book.service.PriceSchedule [AsynchThread::3] Compute Price -> 2022-10-29T02:11:04.010026100
2022-10-29 02:11:08,143 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Discount -> 2022-10-29T02:11:08.143654700
2022-10-29 02:11:14,148 INFO com.global.book.service.PriceSchedule [AsynchThread::3] Compute Discount -> 2022-10-29T02:11:14.148617900
2022-10-29 02:11:20,156 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Discount -> 2022-10-29T02:11:20.156101600
2022-10-29 02:11:26,150 INFO com.global.book.service.PriceSchedule [AsynchThread::3] Compute Discount -> 2022-10-29T02:11:26.150325400
2022-10-29 02:11:32,146 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Discount -> 2022-10-29T02:11:32.146334100
2022-10-29 02:11:38,143 INFO com.global.book.service.PriceSchedule [AsynchThread::3] Compute Discount -> 2022-10-29T02:11:38.143043500
2022-10-29 02:11:44,146 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Discount -> 2022-10-29T02:11:44.146806800
2022-10-29 02:11:50,157 INFO com.global.book.service.PriceSchedule [AsynchThread::3] Compute Discount -> 2022-10-29T02:11:50.157554300
2022-10-29 02:11:56,140 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Discount -> 2022-10-29T02:11:56.140000300
2022-10-29 02:12:00,158 INFO com.global.book.service.PriceSchedule [AsynchThread::2] Compute Discount -> 2022-10-29T02:12:00.158096600
2022-10-29 02:12:04,022 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Price -> 2022-10-29T02:12:04.022416900
2022-10-29 02:12:06,154 INFO com.global.book.service.PriceSchedule [AsynchThread::3] Compute Discount -> 2022-10-29T02:12:06.154145400
2022-10-29 02:12:12,138 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Discount -> 2022-10-29T02:12:12.138618700
2022-10-29 02:12:18,146 INFO com.global.book.service.PriceSchedule [AsynchThread::3] Compute Discount -> 2022-10-29T02:12:18.146309600
2022-10-29 02:12:24,156 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Discount -> 2022-10-29T02:12:24.156542500
2022-10-29 02:12:30,139 INFO com.global.book.service.PriceSchedule [AsynchThread::3] Compute Discount -> 2022-10-29T02:12:30.139312500
2022-10-29 02:12:36,153 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Discount -> 2022-10-29T02:12:36.153626700
2022-10-29 02:12:42,146 INFO com.global.book.service.PriceSchedule [AsynchThread::3] Compute Discount -> 2022-10-29T02:12:42.146707700
2022-10-29 02:12:48,140 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Discount -> 2022-10-29T02:12:48.140398500
2022-10-29 02:12:52,148 INFO com.global.book.service.PriceSchedule [AsynchThread::2] Compute Discount -> 2022-10-29T02:12:52.148615300
2022-10-29 02:12:58,143 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Discount -> 2022-10-29T02:12:58.143037200
2022-10-29 02:13:04,015 INFO com.global.book.service.PriceSchedule [AsynchThread::2] Compute Price -> 2022-10-29T02:13:04.015761900
2022-10-29 02:13:04,155 INFO com.global.book.service.PriceSchedule [AsynchThread::3] Compute Discount -> 2022-10-29T02:13:04.155607100
2022-10-29 02:13:10,153 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Discount -> 2022-10-29T02:13:10.153932600
2022-10-29 02:13:16,149 INFO com.global.book.service.PriceSchedule [AsynchThread::3] Compute Discount -> 2022-10-29T02:13:16.149624300
2022-10-29 02:13:22,152 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Discount -> 2022-10-29T02:13:22.152212700
2022-10-29 02:13:28,135 INFO com.global.book.service.PriceSchedule [AsynchThread::3] Compute Discount -> 2022-10-29T02:13:28.135433
2022-10-29 02:13:34,143 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Discount -> 2022-10-29T02:13:34.143389
2022-10-29 02:13:40,142 INFO com.global.book.service.PriceSchedule [AsynchThread::3] Compute Discount -> 2022-10-29T02:13:40.142709800
2022-10-29 02:13:46,146 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Discount -> 2022-10-29T02:13:46.146853800
2022-10-29 02:13:52,146 INFO com.global.book.service.PriceSchedule [AsynchThread::3] Compute Discount -> 2022-10-29T02:13:52.146514200
2022-10-29 02:13:58,138 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Discount -> 2022-10-29T02:13:58.138551500
2022-10-29 02:14:02,152 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Discount -> 2022-10-29T02:14:02.152113400
2022-10-29 02:14:04,016 INFO com.global.book.service.PriceSchedule [AsynchThread::3] Compute Price -> 2022-10-29T02:14:04.016022700
2022-10-29 02:14:08,145 INFO com.global.book.service.PriceSchedule [AsynchThread::2] Compute Discount -> 2022-10-29T02:14:08.145105300
2022-10-29 02:14:14,151 INFO com.global.book.service.PriceSchedule [AsynchThread::3] Compute Discount -> 2022-10-29T02:14:14.151219900
2022-10-29 02:14:20,151 INFO com.global.book.service.PriceSchedule [AsynchThread::2] Compute Discount -> 2022-10-29T02:14:20.151094600
2022-10-29 02:14:21,255 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(12)-127.0.0.1] Application shutdown requested.
2022-10-29 02:14:21,269 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(12)-127.0.0.1] Pausing ProtocolHandler ["http-nio-8080"]
2022-10-29 02:14:21,270 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(12)-127.0.0.1] Stopping service [Tomcat]
2022-10-29 02:14:21,271 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(12)-127.0.0.1] Destroying Spring FrameworkServlet 'dispatcherServlet'
2022-10-29 02:14:21,273 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(12)-127.0.0.1] Stopping ProtocolHandler ["http-nio-8080"]
2022-10-29 02:14:21,274 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(12)-127.0.0.1] Destroying ProtocolHandler ["http-nio-8080"]
2022-10-29 02:14:21,278 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [RMI TCP Connection(12)-127.0.0.1] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-29 02:14:21,280 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(12)-127.0.0.1] HikariPool-1 - Shutdown initiated...
2022-10-29 02:14:21,284 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(12)-127.0.0.1] HikariPool-1 - Shutdown completed.
2022-10-29 02:22:40,224 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2022-10-29 02:22:40,228 INFO org.springframework.boot.StartupInfoLogger [main] Starting DataJpaBooksProjectApplication using Java 17.0.4.1 on DESKTOP-N2KRF5H with PID 19916 (C:\Users\princ\Desktop\projects\data-jpa-books-project\target\classes started by princ in C:\Users\princ\Desktop\projects\data-jpa-books-project)
2022-10-29 02:22:40,228 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.7.5, Spring v5.3.23
2022-10-29 02:22:40,228 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-29 02:22:40,741 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-29 02:22:40,777 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 32 ms. Found 2 JPA repository interfaces.
2022-10-29 02:22:41,123 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-10-29 02:22:41,129 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-10-29 02:22:41,129 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-29 02:22:41,129 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.68]
2022-10-29 02:22:41,198 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-29 02:22:41,198 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 942 ms
2022-10-29 02:22:41,360 ERROR org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Skipping filesystem location:\another\migration\directory (not found).
2022-10-29 02:22:41,361 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-29 02:22:41,461 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-29 02:22:41,467 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Flyway Community Edition 8.0.4 by Redgate
2022-10-29 02:22:41,467 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Database: jdbc:mysql://localhost:3306/book (MySQL 5.5)
2022-10-29 02:22:41,509 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully validated 2 migrations (execution time 00:00.012s)
2022-10-29 02:22:41,514 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Current version of schema `book`: 2
2022-10-29 02:22:41,515 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Schema `book` is up to date. No migration necessary.
2022-10-29 02:22:41,557 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-29 02:22:41,591 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.12.Final
2022-10-29 02:22:41,689 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-29 02:22:41,750 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-10-29 02:22:42,190 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-29 02:22:42,195 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-29 02:22:42,555 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-29 02:22:42,865 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 14 endpoint(s) beneath base path '/actuator'
2022-10-29 02:22:42,890 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2022-10-29 02:22:42,904 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2022-10-29 02:22:42,915 INFO org.springframework.boot.StartupInfoLogger [main] Started DataJpaBooksProjectApplication in 2.898 seconds (JVM running for 3.451)
2022-10-29 02:22:42,943 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [main] 
    select
        author0_.id as id1_0_,
        author0_.created_by as created_2_0_,
        author0_.created_date as created_3_0_,
        author0_.last_modified_by as last_mod4_0_,
        author0_.last_modified_date as last_mod5_0_,
        author0_.status_code as status_c6_0_,
        author0_.email as email7_0_,
        author0_.image_path as image_pa8_0_,
        author0_.ip_address as ip_addre9_0_,
        author0_.name as name10_0_,
        (select
            count(*) 
        from
            books b 
        where
            b.author_id = author0_.id) as formula1_ 
    from
        authors author0_
2022-10-29 02:22:42,968 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [main] 
    select
        book0_.id as id1_1_0_,
        author1_.id as id1_0_1_,
        book0_.created_by as created_2_1_0_,
        book0_.created_date as created_3_1_0_,
        book0_.last_modified_by as last_mod4_1_0_,
        book0_.last_modified_date as last_mod5_1_0_,
        book0_.status_code as status_c6_1_0_,
        book0_.author_id as author_i9_1_0_,
        book0_.name as name7_1_0_,
        book0_.price as price8_1_0_,
        (select
            count(*) 
        from
            books) as formula2_0_,
        author1_.created_by as created_2_0_1_,
        author1_.created_date as created_3_0_1_,
        author1_.last_modified_by as last_mod4_0_1_,
        author1_.last_modified_date as last_mod5_0_1_,
        author1_.status_code as status_c6_0_1_,
        author1_.email as email7_0_1_,
        author1_.image_path as image_pa8_0_1_,
        author1_.ip_address as ip_addre9_0_1_,
        author1_.name as name10_0_1_,
        (select
            count(*) 
        from
            books b 
        where
            b.author_id = author1_.id) as formula1_1_ 
    from
        books book0_ 
    left outer join
        authors author1_ 
            on book0_.author_id=author1_.id
2022-10-29 02:22:43,797 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(3)-127.0.0.1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-29 02:22:43,797 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(3)-127.0.0.1] Initializing Servlet 'dispatcherServlet'
2022-10-29 02:22:43,798 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(3)-127.0.0.1] Completed initialization in 1 ms
2022-10-29 02:22:46,980 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Discount -> 2022-10-29T02:22:46.980491800
2022-10-29 02:22:52,941 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Discount -> 2022-10-29T02:22:52.941469500
2022-10-29 02:22:58,936 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Discount -> 2022-10-29T02:22:58.936865800
2022-10-29 02:23:04,028 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Price -> 2022-10-29T02:23:04.028849200
2022-10-29 02:23:04,930 INFO com.global.book.service.PriceSchedule [AsynchThread::2] Compute Discount -> 2022-10-29T02:23:04.930724900
2022-10-29 02:23:08,948 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Discount -> 2022-10-29T02:23:08.948814
2022-10-29 02:23:14,922 INFO com.global.book.service.PriceSchedule [AsynchThread::2] Compute Discount -> 2022-10-29T02:23:14.922872800
2022-10-29 02:23:20,930 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Discount -> 2022-10-29T02:23:20.930899600
2022-10-29 02:23:26,929 INFO com.global.book.service.PriceSchedule [AsynchThread::2] Compute Discount -> 2022-10-29T02:23:26.929638600
2022-10-29 02:23:32,925 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Discount -> 2022-10-29T02:23:32.925677900
2022-10-29 02:23:38,932 INFO com.global.book.service.PriceSchedule [AsynchThread::2] Compute Discount -> 2022-10-29T02:23:38.932146100
2022-10-29 02:23:44,935 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Discount -> 2022-10-29T02:23:44.935706400
2022-10-29 02:23:50,926 INFO com.global.book.service.PriceSchedule [AsynchThread::2] Compute Discount -> 2022-10-29T02:23:50.926712200
2022-10-29 02:23:56,938 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Discount -> 2022-10-29T02:23:56.938810300
2022-10-29 02:24:02,931 INFO com.global.book.service.PriceSchedule [AsynchThread::2] Compute Discount -> 2022-10-29T02:24:02.931005400
2022-10-29 02:24:04,012 INFO com.global.book.service.PriceSchedule [AsynchThread::3] Compute Price -> 2022-10-29T02:24:04.012393700
2022-10-29 02:24:06,945 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Discount -> 2022-10-29T02:24:06.945603600
2022-10-29 02:24:12,940 INFO com.global.book.service.PriceSchedule [AsynchThread::3] Compute Discount -> 2022-10-29T02:24:12.940102700
2022-10-29 02:24:18,937 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Discount -> 2022-10-29T02:24:18.937352600
2022-10-29 02:24:24,928 INFO com.global.book.service.PriceSchedule [AsynchThread::3] Compute Discount -> 2022-10-29T02:24:24.928818100
2022-10-29 02:24:28,935 INFO com.global.book.service.PriceSchedule [AsynchThread::2] Compute Discount -> 2022-10-29T02:24:28.935627400
2022-10-29 02:24:34,924 INFO com.global.book.service.PriceSchedule [AsynchThread::3] Compute Discount -> 2022-10-29T02:24:34.924412100
2022-10-29 02:24:40,929 INFO com.global.book.service.PriceSchedule [AsynchThread::2] Compute Discount -> 2022-10-29T02:24:40.929416300
2022-10-29 02:24:46,933 INFO com.global.book.service.PriceSchedule [AsynchThread::3] Compute Discount -> 2022-10-29T02:24:46.933992100
2022-10-29 02:24:52,942 INFO com.global.book.service.PriceSchedule [AsynchThread::2] Compute Discount -> 2022-10-29T02:24:52.942946200
2022-10-29 02:24:58,936 INFO com.global.book.service.PriceSchedule [AsynchThread::3] Compute Discount -> 2022-10-29T02:24:58.936431500
2022-10-29 02:25:04,011 INFO com.global.book.service.PriceSchedule [AsynchThread::2] Compute Price -> 2022-10-29T02:25:04.011417400
2022-10-29 02:25:04,936 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Discount -> 2022-10-29T02:25:04.936759
2022-10-29 02:25:10,928 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Discount -> 2022-10-29T02:25:10.928764400
2022-10-29 02:25:16,929 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Discount -> 2022-10-29T02:25:16.929533300
2022-10-29 02:25:22,926 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Discount -> 2022-10-29T02:25:22.926464800
2022-10-29 02:25:26,942 INFO com.global.book.service.PriceSchedule [AsynchThread::3] Compute Discount -> 2022-10-29T02:25:26.942198600
2022-10-29 02:25:32,942 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Discount -> 2022-10-29T02:25:32.942742400
2022-10-29 02:25:38,944 INFO com.global.book.service.PriceSchedule [AsynchThread::3] Compute Discount -> 2022-10-29T02:25:38.944397200
2022-10-29 02:25:44,921 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Discount -> 2022-10-29T02:25:44.921083900
2022-10-29 02:25:50,929 INFO com.global.book.service.PriceSchedule [AsynchThread::3] Compute Discount -> 2022-10-29T02:25:50.929360900
2022-10-29 02:25:56,934 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Discount -> 2022-10-29T02:25:56.934960200
2022-10-29 02:26:02,929 INFO com.global.book.service.PriceSchedule [AsynchThread::3] Compute Discount -> 2022-10-29T02:26:02.929443600
2022-10-29 02:26:04,014 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Price -> 2022-10-29T02:26:04.014998400
2022-10-29 02:26:08,943 INFO com.global.book.service.PriceSchedule [AsynchThread::2] Compute Discount -> 2022-10-29T02:26:08.943327400
2022-10-29 02:26:14,944 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Discount -> 2022-10-29T02:26:14.944327400
2022-10-29 02:26:20,934 INFO com.global.book.service.PriceSchedule [AsynchThread::2] Compute Discount -> 2022-10-29T02:26:20.934728
2022-10-29 02:26:26,934 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Discount -> 2022-10-29T02:26:26.934758900
2022-10-29 02:26:32,929 INFO com.global.book.service.PriceSchedule [AsynchThread::2] Compute Discount -> 2022-10-29T02:26:32.929826500
2022-10-29 02:26:38,928 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Discount -> 2022-10-29T02:26:38.928405700
2022-10-29 02:26:42,947 INFO com.global.book.service.PriceSchedule [AsynchThread::3] Compute Discount -> 2022-10-29T02:26:42.947185800
2022-10-29 02:26:48,928 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Discount -> 2022-10-29T02:26:48.928533500
2022-10-29 02:26:52,935 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Discount -> 2022-10-29T02:26:52.935185200
2022-10-29 02:26:58,931 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Discount -> 2022-10-29T02:26:58.931443
2022-10-29 02:27:04,025 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Price -> 2022-10-29T02:27:04.025223900
2022-10-29 02:27:04,941 INFO com.global.book.service.PriceSchedule [AsynchThread::3] Compute Discount -> 2022-10-29T02:27:04.941125100
2022-10-29 02:27:10,931 INFO com.global.book.service.PriceSchedule [AsynchThread::2] Compute Discount -> 2022-10-29T02:27:10.931686
2022-10-29 02:27:16,924 INFO com.global.book.service.PriceSchedule [AsynchThread::3] Compute Discount -> 2022-10-29T02:27:16.924621500
2022-10-29 02:27:22,935 INFO com.global.book.service.PriceSchedule [AsynchThread::2] Compute Discount -> 2022-10-29T02:27:22.935396100
2022-10-29 02:27:28,943 INFO com.global.book.service.PriceSchedule [AsynchThread::3] Compute Discount -> 2022-10-29T02:27:28.943172600
2022-10-29 02:27:34,943 INFO com.global.book.service.PriceSchedule [AsynchThread::2] Compute Discount -> 2022-10-29T02:27:34.943132700
2022-10-29 02:27:40,936 INFO com.global.book.service.PriceSchedule [AsynchThread::3] Compute Discount -> 2022-10-29T02:27:40.936227100
2022-10-29 02:27:46,937 INFO com.global.book.service.PriceSchedule [AsynchThread::2] Compute Discount -> 2022-10-29T02:27:46.937028500
2022-10-29 02:27:52,934 INFO com.global.book.service.PriceSchedule [AsynchThread::3] Compute Discount -> 2022-10-29T02:27:52.934450500
2022-10-29 02:27:58,933 INFO com.global.book.service.PriceSchedule [AsynchThread::2] Compute Discount -> 2022-10-29T02:27:58.933026800
2022-10-29 02:28:04,015 INFO com.global.book.service.PriceSchedule [AsynchThread::3] Compute Price -> 2022-10-29T02:28:04.015217300
2022-10-29 02:28:04,923 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Discount -> 2022-10-29T02:28:04.923713800
2022-10-29 02:28:08,939 INFO com.global.book.service.PriceSchedule [AsynchThread::2] Compute Discount -> 2022-10-29T02:28:08.939569300
2022-10-29 02:28:14,925 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Discount -> 2022-10-29T02:28:14.925229200
2022-10-29 02:28:20,932 INFO com.global.book.service.PriceSchedule [AsynchThread::2] Compute Discount -> 2022-10-29T02:28:20.932938100
2022-10-29 02:28:26,927 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Discount -> 2022-10-29T02:28:26.927593300
2022-10-29 02:28:32,929 INFO com.global.book.service.PriceSchedule [AsynchThread::2] Compute Discount -> 2022-10-29T02:28:32.929744900
2022-10-29 02:28:38,932 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Discount -> 2022-10-29T02:28:38.932858600
2022-10-29 02:28:44,932 INFO com.global.book.service.PriceSchedule [AsynchThread::2] Compute Discount -> 2022-10-29T02:28:44.932318900
2022-10-29 02:28:50,934 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Discount -> 2022-10-29T02:28:50.934402200
2022-10-29 02:28:56,933 INFO com.global.book.service.PriceSchedule [AsynchThread::2] Compute Discount -> 2022-10-29T02:28:56.933189700
2022-10-29 02:29:02,932 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Discount -> 2022-10-29T02:29:02.932586
2022-10-29 02:29:04,015 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Price -> 2022-10-29T02:29:04.015141500
2022-10-29 02:29:08,930 INFO com.global.book.service.PriceSchedule [AsynchThread::3] Compute Discount -> 2022-10-29T02:29:08.930915800
2022-10-29 02:29:14,937 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Discount -> 2022-10-29T02:29:14.937011300
2022-10-29 02:29:20,926 INFO com.global.book.service.PriceSchedule [AsynchThread::3] Compute Discount -> 2022-10-29T02:29:20.926341500
2022-10-29 02:29:24,939 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Discount -> 2022-10-29T02:29:24.939865700
2022-10-29 02:29:30,922 INFO com.global.book.service.PriceSchedule [AsynchThread::3] Compute Discount -> 2022-10-29T02:29:30.922745600
2022-10-29 02:29:36,939 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Discount -> 2022-10-29T02:29:36.939828200
2022-10-29 02:29:42,940 INFO com.global.book.service.PriceSchedule [AsynchThread::3] Compute Discount -> 2022-10-29T02:29:42.940847400
2022-10-29 02:29:48,939 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Discount -> 2022-10-29T02:29:48.939237100
2022-10-29 02:29:54,943 INFO com.global.book.service.PriceSchedule [AsynchThread::3] Compute Discount -> 2022-10-29T02:29:54.943088100
2022-10-29 02:30:00,931 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Discount -> 2022-10-29T02:30:00.931905300
2022-10-29 02:30:04,012 INFO com.global.book.service.PriceSchedule [AsynchThread::2] Compute Price -> 2022-10-29T02:30:04.012410700
2022-10-29 02:30:06,935 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Discount -> 2022-10-29T02:30:06.935643600
2022-10-29 02:30:12,934 INFO com.global.book.service.PriceSchedule [AsynchThread::2] Compute Discount -> 2022-10-29T02:30:12.934202300
2022-10-29 02:30:18,940 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Discount -> 2022-10-29T02:30:18.940670300
2022-10-29 02:30:24,925 INFO com.global.book.service.PriceSchedule [AsynchThread::2] Compute Discount -> 2022-10-29T02:30:24.925761
2022-10-29 02:30:30,927 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Discount -> 2022-10-29T02:30:30.927127200
2022-10-29 02:30:34,933 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Discount -> 2022-10-29T02:30:34.933392600
2022-10-29 02:30:40,933 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Discount -> 2022-10-29T02:30:40.933488100
2022-10-29 02:30:46,928 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Discount -> 2022-10-29T02:30:46.928777
2022-10-29 02:30:50,934 INFO com.global.book.service.PriceSchedule [AsynchThread::3] Compute Discount -> 2022-10-29T02:30:50.934800600
2022-10-29 02:30:56,942 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Discount -> 2022-10-29T02:30:56.942810300
2022-10-29 02:31:02,938 INFO com.global.book.service.PriceSchedule [AsynchThread::3] Compute Discount -> 2022-10-29T02:31:02.938757900
2022-10-29 02:31:03,046 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(12)-127.0.0.1] Application shutdown requested.
2022-10-29 02:31:03,076 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(12)-127.0.0.1] Pausing ProtocolHandler ["http-nio-8080"]
2022-10-29 02:31:03,076 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(12)-127.0.0.1] Stopping service [Tomcat]
2022-10-29 02:31:03,078 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(12)-127.0.0.1] Destroying Spring FrameworkServlet 'dispatcherServlet'
2022-10-29 02:31:03,082 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(12)-127.0.0.1] Stopping ProtocolHandler ["http-nio-8080"]
2022-10-29 02:31:03,084 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(12)-127.0.0.1] Destroying ProtocolHandler ["http-nio-8080"]
2022-10-29 02:31:03,089 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [RMI TCP Connection(12)-127.0.0.1] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-29 02:31:03,093 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(12)-127.0.0.1] HikariPool-1 - Shutdown initiated...
2022-10-29 02:31:03,100 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(12)-127.0.0.1] HikariPool-1 - Shutdown completed.
2022-10-29 02:31:04,023 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Price -> 2022-10-29T02:31:04.023584700
2022-10-29 02:31:04,024 ERROR org.springframework.aop.interceptor.SimpleAsyncUncaughtExceptionHandler [AsynchThread::1] Unexpected exception occurred invoking async method: public void com.global.book.service.PriceSchedule.computePrice() throws java.lang.InterruptedException
org.springframework.transaction.CannotCreateTransactionException: Could not open JDBC Connection for transaction; nested exception is java.sql.SQLException: HikariDataSource HikariDataSource (HikariPool-1) has been closed.
	at org.springframework.jdbc.datasource.DataSourceTransactionManager.doBegin(DataSourceTransactionManager.java:309)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:137)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.execute(JdbcTemplateStorageAccessor.java:115)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.doUnlock(JdbcTemplateStorageAccessor.java:110)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.unlock(JdbcTemplateStorageAccessor.java:101)
	at net.javacrumbs.shedlock.support.StorageBasedLockProvider$StorageLock.doUnlock(StorageBasedLockProvider.java:104)
	at net.javacrumbs.shedlock.core.AbstractSimpleLock.unlock(AbstractSimpleLock.java:35)
	at net.javacrumbs.shedlock.core.DefaultLockingTaskExecutor.executeWithLock(DefaultLockingTaskExecutor.java:79)
	at net.javacrumbs.shedlock.spring.aop.MethodProxyScheduledLockAdvisor$LockingInterceptor.invoke(MethodProxyScheduledLockAdvisor.java:86)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.sql.SQLException: HikariDataSource HikariDataSource (HikariPool-1) has been closed.
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:96)
	at org.springframework.jdbc.datasource.DataSourceTransactionManager.doBegin(DataSourceTransactionManager.java:265)
	... 17 common frames omitted
2022-10-29 02:31:06,049 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2022-10-29 02:31:06,054 INFO org.springframework.boot.StartupInfoLogger [main] Starting DataJpaBooksProjectApplication using Java 17.0.4.1 on DESKTOP-N2KRF5H with PID 4264 (C:\Users\princ\Desktop\projects\data-jpa-books-project\target\classes started by princ in C:\Users\princ\Desktop\projects\data-jpa-books-project)
2022-10-29 02:31:06,055 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.7.5, Spring v5.3.23
2022-10-29 02:31:06,055 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-29 02:31:06,583 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-29 02:31:06,618 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 30 ms. Found 2 JPA repository interfaces.
2022-10-29 02:31:06,974 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-10-29 02:31:06,980 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-10-29 02:31:06,981 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-29 02:31:06,981 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.68]
2022-10-29 02:31:07,055 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-29 02:31:07,055 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 971 ms
2022-10-29 02:31:07,239 ERROR org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Skipping filesystem location:\another\migration\directory (not found).
2022-10-29 02:31:07,241 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-29 02:31:07,338 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-29 02:31:07,345 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Flyway Community Edition 8.0.4 by Redgate
2022-10-29 02:31:07,345 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Database: jdbc:mysql://localhost:3306/book (MySQL 5.5)
2022-10-29 02:31:07,385 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully validated 2 migrations (execution time 00:00.011s)
2022-10-29 02:31:07,390 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Current version of schema `book`: 2
2022-10-29 02:31:07,391 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Schema `book` is up to date. No migration necessary.
2022-10-29 02:31:07,434 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-29 02:31:07,466 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.12.Final
2022-10-29 02:31:07,560 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-29 02:31:07,620 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-10-29 02:31:08,030 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-29 02:31:08,035 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-29 02:31:08,401 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-29 02:31:08,710 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 14 endpoint(s) beneath base path '/actuator'
2022-10-29 02:31:08,735 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2022-10-29 02:31:08,750 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2022-10-29 02:31:08,763 INFO org.springframework.boot.StartupInfoLogger [main] Started DataJpaBooksProjectApplication in 2.91 seconds (JVM running for 3.455)
2022-10-29 02:31:08,791 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [main] 
    select
        author0_.id as id1_0_,
        author0_.created_by as created_2_0_,
        author0_.created_date as created_3_0_,
        author0_.last_modified_by as last_mod4_0_,
        author0_.last_modified_date as last_mod5_0_,
        author0_.status_code as status_c6_0_,
        author0_.email as email7_0_,
        author0_.image_path as image_pa8_0_,
        author0_.ip_address as ip_addre9_0_,
        author0_.name as name10_0_,
        (select
            count(*) 
        from
            books b 
        where
            b.author_id = author0_.id) as formula1_ 
    from
        authors author0_
2022-10-29 02:31:08,817 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [main] 
    select
        book0_.id as id1_1_0_,
        author1_.id as id1_0_1_,
        book0_.created_by as created_2_1_0_,
        book0_.created_date as created_3_1_0_,
        book0_.last_modified_by as last_mod4_1_0_,
        book0_.last_modified_date as last_mod5_1_0_,
        book0_.status_code as status_c6_1_0_,
        book0_.author_id as author_i9_1_0_,
        book0_.name as name7_1_0_,
        book0_.price as price8_1_0_,
        (select
            count(*) 
        from
            books) as formula2_0_,
        author1_.created_by as created_2_0_1_,
        author1_.created_date as created_3_0_1_,
        author1_.last_modified_by as last_mod4_0_1_,
        author1_.last_modified_date as last_mod5_0_1_,
        author1_.status_code as status_c6_0_1_,
        author1_.email as email7_0_1_,
        author1_.image_path as image_pa8_0_1_,
        author1_.ip_address as ip_addre9_0_1_,
        author1_.name as name10_0_1_,
        (select
            count(*) 
        from
            books b 
        where
            b.author_id = author1_.id) as formula1_1_ 
    from
        books book0_ 
    left outer join
        authors author1_ 
            on book0_.author_id=author1_.id
2022-10-29 02:31:12,834 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Discount -> 2022-10-29T02:31:12.834281400
2022-10-29 02:31:17,397 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-29 02:31:17,397 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2022-10-29 02:31:17,398 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 1 ms
2022-10-29 02:31:18,772 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Discount -> 2022-10-29T02:31:18.772232500
2022-10-29 02:31:22,777 INFO com.global.book.service.PriceSchedule [AsynchThread::3] Compute Discount -> 2022-10-29T02:31:22.777970
2022-10-29 02:31:28,768 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Discount -> 2022-10-29T02:31:28.768258500
2022-10-29 02:31:32,785 INFO com.global.book.service.PriceSchedule [AsynchThread::2] Compute Discount -> 2022-10-29T02:31:32.785587400
2022-10-29 02:31:38,782 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Discount -> 2022-10-29T02:31:38.782034
2022-10-29 02:31:44,771 INFO com.global.book.service.PriceSchedule [AsynchThread::2] Compute Discount -> 2022-10-29T02:31:44.771696500
2022-10-29 02:31:50,785 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Discount -> 2022-10-29T02:31:50.785873600
2022-10-29 02:31:56,780 INFO com.global.book.service.PriceSchedule [AsynchThread::2] Compute Discount -> 2022-10-29T02:31:56.780340700
2022-10-29 02:31:58,161 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(4)-127.0.0.1] Application shutdown requested.
2022-10-29 02:31:58,198 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(4)-127.0.0.1] Pausing ProtocolHandler ["http-nio-8080"]
2022-10-29 02:31:58,198 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(4)-127.0.0.1] Stopping service [Tomcat]
2022-10-29 02:31:58,199 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(4)-127.0.0.1] Destroying Spring FrameworkServlet 'dispatcherServlet'
2022-10-29 02:31:58,201 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(4)-127.0.0.1] Stopping ProtocolHandler ["http-nio-8080"]
2022-10-29 02:31:58,203 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(4)-127.0.0.1] Destroying ProtocolHandler ["http-nio-8080"]
2022-10-29 02:31:58,206 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [RMI TCP Connection(4)-127.0.0.1] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-29 02:31:58,207 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(4)-127.0.0.1] HikariPool-1 - Shutdown initiated...
2022-10-29 02:31:58,212 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(4)-127.0.0.1] HikariPool-1 - Shutdown completed.
2022-10-29 02:32:01,055 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2022-10-29 02:32:01,059 INFO org.springframework.boot.StartupInfoLogger [main] Starting DataJpaBooksProjectApplication using Java 17.0.4.1 on DESKTOP-N2KRF5H with PID 11568 (C:\Users\princ\Desktop\projects\data-jpa-books-project\target\classes started by princ in C:\Users\princ\Desktop\projects\data-jpa-books-project)
2022-10-29 02:32:01,060 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.7.5, Spring v5.3.23
2022-10-29 02:32:01,060 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-29 02:32:04,218 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2022-10-29 02:32:04,222 INFO org.springframework.boot.StartupInfoLogger [main] Starting DataJpaBooksProjectApplication using Java 17.0.4.1 on DESKTOP-N2KRF5H with PID 21956 (C:\Users\princ\Desktop\projects\data-jpa-books-project\target\classes started by princ in C:\Users\princ\Desktop\projects\data-jpa-books-project)
2022-10-29 02:32:04,222 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.7.5, Spring v5.3.23
2022-10-29 02:32:04,223 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-29 02:32:04,745 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-29 02:32:04,782 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 31 ms. Found 2 JPA repository interfaces.
2022-10-29 02:32:05,127 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-10-29 02:32:05,134 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-10-29 02:32:05,134 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-29 02:32:05,135 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.68]
2022-10-29 02:32:05,214 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-29 02:32:05,214 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 965 ms
2022-10-29 02:32:05,386 ERROR org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Skipping filesystem location:\another\migration\directory (not found).
2022-10-29 02:32:05,387 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-29 02:32:05,493 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-29 02:32:05,499 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Flyway Community Edition 8.0.4 by Redgate
2022-10-29 02:32:05,499 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Database: jdbc:mysql://localhost:3306/book (MySQL 5.5)
2022-10-29 02:32:05,540 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully validated 2 migrations (execution time 00:00.012s)
2022-10-29 02:32:05,546 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Current version of schema `book`: 2
2022-10-29 02:32:05,546 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Schema `book` is up to date. No migration necessary.
2022-10-29 02:32:05,588 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-29 02:32:05,622 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.12.Final
2022-10-29 02:32:05,717 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-29 02:32:05,780 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-10-29 02:32:06,251 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-29 02:32:06,257 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-29 02:32:06,738 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-29 02:32:07,103 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 14 endpoint(s) beneath base path '/actuator'
2022-10-29 02:32:07,136 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2022-10-29 02:32:07,154 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2022-10-29 02:32:07,171 INFO org.springframework.boot.StartupInfoLogger [main] Started DataJpaBooksProjectApplication in 3.145 seconds (JVM running for 3.724)
2022-10-29 02:32:07,209 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [main] 
    select
        author0_.id as id1_0_,
        author0_.created_by as created_2_0_,
        author0_.created_date as created_3_0_,
        author0_.last_modified_by as last_mod4_0_,
        author0_.last_modified_date as last_mod5_0_,
        author0_.status_code as status_c6_0_,
        author0_.email as email7_0_,
        author0_.image_path as image_pa8_0_,
        author0_.ip_address as ip_addre9_0_,
        author0_.name as name10_0_,
        (select
            count(*) 
        from
            books b 
        where
            b.author_id = author0_.id) as formula1_ 
    from
        authors author0_
2022-10-29 02:32:07,241 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [main] 
    select
        book0_.id as id1_1_0_,
        author1_.id as id1_0_1_,
        book0_.created_by as created_2_1_0_,
        book0_.created_date as created_3_1_0_,
        book0_.last_modified_by as last_mod4_1_0_,
        book0_.last_modified_date as last_mod5_1_0_,
        book0_.status_code as status_c6_1_0_,
        book0_.author_id as author_i9_1_0_,
        book0_.name as name7_1_0_,
        book0_.price as price8_1_0_,
        (select
            count(*) 
        from
            books) as formula2_0_,
        author1_.created_by as created_2_0_1_,
        author1_.created_date as created_3_0_1_,
        author1_.last_modified_by as last_mod4_0_1_,
        author1_.last_modified_date as last_mod5_0_1_,
        author1_.status_code as status_c6_0_1_,
        author1_.email as email7_0_1_,
        author1_.image_path as image_pa8_0_1_,
        author1_.ip_address as ip_addre9_0_1_,
        author1_.name as name10_0_1_,
        (select
            count(*) 
        from
            books b 
        where
            b.author_id = author1_.id) as formula1_1_ 
    from
        books book0_ 
    left outer join
        authors author1_ 
            on book0_.author_id=author1_.id
2022-10-29 02:32:08,298 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(3)-127.0.0.1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-29 02:32:08,298 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(3)-127.0.0.1] Initializing Servlet 'dispatcherServlet'
2022-10-29 02:32:08,299 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(3)-127.0.0.1] Completed initialization in 1 ms
2022-10-29 02:32:11,265 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Discount -> 2022-10-29T02:32:11.265749400
2022-10-29 02:32:17,181 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Discount -> 2022-10-29T02:32:17.181952400
2022-10-29 02:32:23,189 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Discount -> 2022-10-29T02:32:23.189490400
2022-10-29 02:32:29,184 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Discount -> 2022-10-29T02:32:29.184855400
2022-10-29 02:32:35,196 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Discount -> 2022-10-29T02:32:35.196864900
2022-10-29 02:32:41,179 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Discount -> 2022-10-29T02:32:41.179259200
2022-10-29 02:32:47,198 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Discount -> 2022-10-29T02:32:47.198799300
2022-10-29 02:32:53,178 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Discount -> 2022-10-29T02:32:53.178751100
2022-10-29 02:32:57,190 INFO com.global.book.service.PriceSchedule [AsynchThread::3] Compute Discount -> 2022-10-29T02:32:57.190203700
2022-10-29 02:33:03,186 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Discount -> 2022-10-29T02:33:03.186983900
2022-10-29 02:33:09,187 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Discount -> 2022-10-29T02:33:09.187938900
2022-10-29 02:33:15,186 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Discount -> 2022-10-29T02:33:15.186534600
2022-10-29 02:33:21,198 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Discount -> 2022-10-29T02:33:21.198420200
2022-10-29 02:33:27,178 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Discount -> 2022-10-29T02:33:27.178800
2022-10-29 02:33:31,192 INFO com.global.book.service.PriceSchedule [AsynchThread::3] Compute Discount -> 2022-10-29T02:33:31.192657100
2022-10-29 02:33:37,197 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Discount -> 2022-10-29T02:33:37.197857500
2022-10-29 02:33:43,196 INFO com.global.book.service.PriceSchedule [AsynchThread::3] Compute Discount -> 2022-10-29T02:33:43.196856500
2022-10-29 02:33:49,187 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Discount -> 2022-10-29T02:33:49.187032
2022-10-29 02:33:55,179 INFO com.global.book.service.PriceSchedule [AsynchThread::3] Compute Discount -> 2022-10-29T02:33:55.179313600
2022-10-29 02:34:01,188 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Discount -> 2022-10-29T02:34:01.188212600
2022-10-29 02:34:07,187 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Discount -> 2022-10-29T02:34:07.187909600
2022-10-29 02:34:13,187 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Discount -> 2022-10-29T02:34:13.187283200
2022-10-29 02:34:18,196 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(5)-127.0.0.1] Application shutdown requested.
2022-10-29 02:34:18,228 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(5)-127.0.0.1] Pausing ProtocolHandler ["http-nio-8080"]
2022-10-29 02:34:18,229 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(5)-127.0.0.1] Stopping service [Tomcat]
2022-10-29 02:34:18,229 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(5)-127.0.0.1] Destroying Spring FrameworkServlet 'dispatcherServlet'
2022-10-29 02:34:18,231 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(5)-127.0.0.1] Stopping ProtocolHandler ["http-nio-8080"]
2022-10-29 02:34:18,233 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(5)-127.0.0.1] Destroying ProtocolHandler ["http-nio-8080"]
2022-10-29 02:34:18,236 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [RMI TCP Connection(5)-127.0.0.1] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-29 02:34:18,238 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(5)-127.0.0.1] HikariPool-1 - Shutdown initiated...
2022-10-29 02:34:18,243 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(5)-127.0.0.1] HikariPool-1 - Shutdown completed.
2022-10-29 02:34:19,172 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Discount -> 2022-10-29T02:34:19.172099900
2022-10-29 02:34:19,174 ERROR org.springframework.aop.interceptor.SimpleAsyncUncaughtExceptionHandler [AsynchThread::1] Unexpected exception occurred invoking async method: public void com.global.book.service.PriceSchedule.computeDiscount() throws java.lang.InterruptedException
org.springframework.transaction.CannotCreateTransactionException: Could not open JDBC Connection for transaction; nested exception is java.sql.SQLException: HikariDataSource HikariDataSource (HikariPool-1) has been closed.
	at org.springframework.jdbc.datasource.DataSourceTransactionManager.doBegin(DataSourceTransactionManager.java:309)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:137)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.execute(JdbcTemplateStorageAccessor.java:115)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.doUnlock(JdbcTemplateStorageAccessor.java:110)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.unlock(JdbcTemplateStorageAccessor.java:101)
	at net.javacrumbs.shedlock.support.StorageBasedLockProvider$StorageLock.doUnlock(StorageBasedLockProvider.java:104)
	at net.javacrumbs.shedlock.core.AbstractSimpleLock.unlock(AbstractSimpleLock.java:35)
	at net.javacrumbs.shedlock.core.DefaultLockingTaskExecutor.executeWithLock(DefaultLockingTaskExecutor.java:79)
	at net.javacrumbs.shedlock.spring.aop.MethodProxyScheduledLockAdvisor$LockingInterceptor.invoke(MethodProxyScheduledLockAdvisor.java:86)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.sql.SQLException: HikariDataSource HikariDataSource (HikariPool-1) has been closed.
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:96)
	at org.springframework.jdbc.datasource.DataSourceTransactionManager.doBegin(DataSourceTransactionManager.java:265)
	... 17 common frames omitted
2022-10-29 02:34:24,815 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2022-10-29 02:34:24,823 INFO org.springframework.boot.StartupInfoLogger [main] Starting DataJpaBooksProjectApplication using Java 17.0.4.1 on DESKTOP-N2KRF5H with PID 12060 (C:\Users\princ\Desktop\projects\data-jpa-books-project\target\classes started by princ in C:\Users\princ\Desktop\projects\data-jpa-books-project)
2022-10-29 02:34:24,823 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.7.5, Spring v5.3.23
2022-10-29 02:34:24,823 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-29 02:34:27,599 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2022-10-29 02:34:27,603 INFO org.springframework.boot.StartupInfoLogger [main] Starting DataJpaBooksProjectApplication using Java 17.0.4.1 on DESKTOP-N2KRF5H with PID 16356 (C:\Users\princ\Desktop\projects\data-jpa-books-project\target\classes started by princ in C:\Users\princ\Desktop\projects\data-jpa-books-project)
2022-10-29 02:34:27,603 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.7.5, Spring v5.3.23
2022-10-29 02:34:27,603 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-29 02:34:28,118 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-29 02:34:28,153 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 30 ms. Found 2 JPA repository interfaces.
2022-10-29 02:34:28,532 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-10-29 02:34:28,538 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-10-29 02:34:28,538 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-29 02:34:28,538 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.68]
2022-10-29 02:34:28,613 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-29 02:34:28,613 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 981 ms
2022-10-29 02:34:28,779 ERROR org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Skipping filesystem location:\another\migration\directory (not found).
2022-10-29 02:34:28,780 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-29 02:34:28,883 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-29 02:34:28,890 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Flyway Community Edition 8.0.4 by Redgate
2022-10-29 02:34:28,890 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Database: jdbc:mysql://localhost:3306/book (MySQL 5.5)
2022-10-29 02:34:28,933 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully validated 2 migrations (execution time 00:00.012s)
2022-10-29 02:34:28,939 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Current version of schema `book`: 2
2022-10-29 02:34:28,939 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Schema `book` is up to date. No migration necessary.
2022-10-29 02:34:28,984 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-29 02:34:29,016 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.12.Final
2022-10-29 02:34:29,109 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-29 02:34:29,168 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-10-29 02:34:29,603 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-29 02:34:29,609 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-29 02:34:29,988 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-29 02:34:30,307 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 14 endpoint(s) beneath base path '/actuator'
2022-10-29 02:34:30,334 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2022-10-29 02:34:30,349 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2022-10-29 02:34:30,362 INFO org.springframework.boot.StartupInfoLogger [main] Started DataJpaBooksProjectApplication in 2.961 seconds (JVM running for 3.565)
2022-10-29 02:34:30,394 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [main] 
    select
        author0_.id as id1_0_,
        author0_.created_by as created_2_0_,
        author0_.created_date as created_3_0_,
        author0_.last_modified_by as last_mod4_0_,
        author0_.last_modified_date as last_mod5_0_,
        author0_.status_code as status_c6_0_,
        author0_.email as email7_0_,
        author0_.image_path as image_pa8_0_,
        author0_.ip_address as ip_addre9_0_,
        author0_.name as name10_0_,
        (select
            count(*) 
        from
            books b 
        where
            b.author_id = author0_.id) as formula1_ 
    from
        authors author0_
2022-10-29 02:34:30,422 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [main] 
    select
        book0_.id as id1_1_0_,
        author1_.id as id1_0_1_,
        book0_.created_by as created_2_1_0_,
        book0_.created_date as created_3_1_0_,
        book0_.last_modified_by as last_mod4_1_0_,
        book0_.last_modified_date as last_mod5_1_0_,
        book0_.status_code as status_c6_1_0_,
        book0_.author_id as author_i9_1_0_,
        book0_.name as name7_1_0_,
        book0_.price as price8_1_0_,
        (select
            count(*) 
        from
            books) as formula2_0_,
        author1_.created_by as created_2_0_1_,
        author1_.created_date as created_3_0_1_,
        author1_.last_modified_by as last_mod4_0_1_,
        author1_.last_modified_date as last_mod5_0_1_,
        author1_.status_code as status_c6_0_1_,
        author1_.email as email7_0_1_,
        author1_.image_path as image_pa8_0_1_,
        author1_.ip_address as ip_addre9_0_1_,
        author1_.name as name10_0_1_,
        (select
            count(*) 
        from
            books b 
        where
            b.author_id = author1_.id) as formula1_1_ 
    from
        books book0_ 
    left outer join
        authors author1_ 
            on book0_.author_id=author1_.id
2022-10-29 02:34:31,096 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(3)-127.0.0.1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-29 02:34:31,096 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(3)-127.0.0.1] Initializing Servlet 'dispatcherServlet'
2022-10-29 02:34:31,097 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(3)-127.0.0.1] Completed initialization in 1 ms
2022-10-29 02:34:39,315 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        author0_.id as id1_0_0_,
        author0_.created_by as created_2_0_0_,
        author0_.created_date as created_3_0_0_,
        author0_.last_modified_by as last_mod4_0_0_,
        author0_.last_modified_date as last_mod5_0_0_,
        author0_.status_code as status_c6_0_0_,
        author0_.email as email7_0_0_,
        author0_.image_path as image_pa8_0_0_,
        author0_.ip_address as ip_addre9_0_0_,
        author0_.name as name10_0_0_,
        (select
            count(*) 
        from
            books b 
        where
            b.author_id = author0_.id) as formula1_0_ 
    from
        authors author0_ 
    where
        author0_.id=?
2022-10-29 02:34:39,369 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    update
        authors 
    set
        created_by=?,
        created_date=?,
        last_modified_by=?,
        last_modified_date=?,
        status_code=?,
        email=?,
        image_path=?,
        ip_address=?,
        name=? 
    where
        id=?
2022-10-29 02:38:31,673 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(7)-127.0.0.1] Application shutdown requested.
2022-10-29 02:38:31,688 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(7)-127.0.0.1] Pausing ProtocolHandler ["http-nio-8080"]
2022-10-29 02:38:31,688 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(7)-127.0.0.1] Stopping service [Tomcat]
2022-10-29 02:38:31,688 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(7)-127.0.0.1] Destroying Spring FrameworkServlet 'dispatcherServlet'
2022-10-29 02:38:31,690 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(7)-127.0.0.1] Stopping ProtocolHandler ["http-nio-8080"]
2022-10-29 02:38:31,691 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(7)-127.0.0.1] Destroying ProtocolHandler ["http-nio-8080"]
2022-10-29 02:38:31,694 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [RMI TCP Connection(7)-127.0.0.1] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-29 02:38:31,696 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(7)-127.0.0.1] HikariPool-1 - Shutdown initiated...
2022-10-29 02:38:31,700 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(7)-127.0.0.1] HikariPool-1 - Shutdown completed.
2022-10-29 03:39:37,603 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2022-10-29 03:39:37,611 INFO org.springframework.boot.StartupInfoLogger [main] Starting DataJpaBooksProjectApplication using Java 17.0.4.1 on DESKTOP-N2KRF5H with PID 1960 (C:\Users\princ\Desktop\projects\data-jpa-books-project\target\classes started by princ in C:\Users\princ\Desktop\projects\data-jpa-books-project)
2022-10-29 03:39:37,611 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.7.5, Spring v5.3.23
2022-10-29 03:39:37,612 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-29 03:39:38,508 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-29 03:39:38,568 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 52 ms. Found 2 JPA repository interfaces.
2022-10-29 03:39:39,144 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-10-29 03:39:39,154 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-10-29 03:39:39,155 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-29 03:39:39,155 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.68]
2022-10-29 03:39:39,278 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-29 03:39:39,279 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1623 ms
2022-10-29 03:39:39,540 ERROR org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Skipping filesystem location:\another\migration\directory (not found).
2022-10-29 03:39:39,543 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-29 03:39:39,709 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-29 03:39:39,722 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Flyway Community Edition 8.0.4 by Redgate
2022-10-29 03:39:39,723 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Database: jdbc:mysql://localhost:3306/book (MySQL 5.5)
2022-10-29 03:39:39,794 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully validated 2 migrations (execution time 00:00.021s)
2022-10-29 03:39:39,805 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Current version of schema `book`: 2
2022-10-29 03:39:39,806 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Schema `book` is up to date. No migration necessary.
2022-10-29 03:39:39,889 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-29 03:39:39,936 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.12.Final
2022-10-29 03:39:40,079 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-29 03:39:40,173 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-10-29 03:39:40,810 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-29 03:39:40,818 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-29 03:39:41,263 WARN org.springframework.context.support.AbstractApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'fileUploadController': Unsatisfied dependency expressed through field 'fileUploadService'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'fileUploadService': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'google.storage.bucket-name' in value "${google.storage.bucket-name}"
2022-10-29 03:39:41,264 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-29 03:39:41,266 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown initiated...
2022-10-29 03:39:41,273 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown completed.
2022-10-29 03:39:41,275 INFO org.apache.juli.logging.DirectJDKLog [main] Stopping service [Tomcat]
2022-10-29 03:39:41,290 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-10-29 03:39:41,312 ERROR org.springframework.boot.SpringApplication [main] Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'fileUploadController': Unsatisfied dependency expressed through field 'fileUploadService'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'fileUploadService': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'google.storage.bucket-name' in value "${google.storage.bucket-name}"
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at com.global.book.DataJpaBooksProjectApplication.main(DataJpaBooksProjectApplication.java:10)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'fileUploadService': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'google.storage.bucket-name' in value "${google.storage.bucket-name}"
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:405)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656)
	... 20 common frames omitted
Caused by: java.lang.IllegalArgumentException: Could not resolve placeholder 'google.storage.bucket-name' in value "${google.storage.bucket-name}"
	at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:180)
	at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:126)
	at org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:239)
	at org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:210)
	at org.springframework.context.support.PropertySourcesPlaceholderConfigurer.lambda$processProperties$0(PropertySourcesPlaceholderConfigurer.java:191)
	at org.springframework.beans.factory.support.AbstractBeanFactory.resolveEmbeddedValue(AbstractBeanFactory.java:936)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1332)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)
	... 31 common frames omitted
2022-10-29 03:39:50,526 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2022-10-29 03:39:50,534 INFO org.springframework.boot.StartupInfoLogger [main] Starting DataJpaBooksProjectApplication using Java 17.0.4.1 on DESKTOP-N2KRF5H with PID 1176 (C:\Users\princ\Desktop\projects\data-jpa-books-project\target\classes started by princ in C:\Users\princ\Desktop\projects\data-jpa-books-project)
2022-10-29 03:39:50,534 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.7.5, Spring v5.3.23
2022-10-29 03:39:50,535 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-29 03:40:13,497 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2022-10-29 03:40:13,504 INFO org.springframework.boot.StartupInfoLogger [main] Starting DataJpaBooksProjectApplication using Java 17.0.4.1 on DESKTOP-N2KRF5H with PID 20236 (C:\Users\princ\Desktop\projects\data-jpa-books-project\target\classes started by princ in C:\Users\princ\Desktop\projects\data-jpa-books-project)
2022-10-29 03:40:13,505 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.7.5, Spring v5.3.23
2022-10-29 03:40:13,505 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-29 03:40:14,374 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-29 03:40:14,427 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 45 ms. Found 2 JPA repository interfaces.
2022-10-29 03:40:14,934 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-10-29 03:40:14,955 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-10-29 03:40:14,956 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-29 03:40:14,956 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.68]
2022-10-29 03:40:15,066 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-29 03:40:15,066 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1513 ms
2022-10-29 03:40:15,318 ERROR org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Skipping filesystem location:\another\migration\directory (not found).
2022-10-29 03:40:15,320 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-29 03:40:15,465 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-29 03:40:15,474 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Flyway Community Edition 8.0.4 by Redgate
2022-10-29 03:40:15,475 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Database: jdbc:mysql://localhost:3306/book (MySQL 5.5)
2022-10-29 03:40:15,538 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully validated 2 migrations (execution time 00:00.017s)
2022-10-29 03:40:15,547 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Current version of schema `book`: 2
2022-10-29 03:40:15,548 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Schema `book` is up to date. No migration necessary.
2022-10-29 03:40:15,615 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-29 03:40:15,658 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.12.Final
2022-10-29 03:40:15,797 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-29 03:40:15,889 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-10-29 03:40:16,513 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-29 03:40:16,521 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-29 03:40:16,966 WARN org.springframework.context.support.AbstractApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'fileUploadController': Unsatisfied dependency expressed through field 'fileUploadService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'fileUploadService': Unsatisfied dependency expressed through field 'amazonS3'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.amazonaws.services.s3.AmazonS3' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
2022-10-29 03:40:16,967 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-29 03:40:16,970 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown initiated...
2022-10-29 03:40:16,976 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown completed.
2022-10-29 03:40:16,978 INFO org.apache.juli.logging.DirectJDKLog [main] Stopping service [Tomcat]
2022-10-29 03:40:16,992 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-10-29 03:40:17,011 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Field amazonS3 in com.global.book.service.FileUploadService required a bean of type 'com.amazonaws.services.s3.AmazonS3' that could not be found.

The injection point has the following annotations:
	- @org.springframework.beans.factory.annotation.Autowired(required=true)


Action:

Consider defining a bean of type 'com.amazonaws.services.s3.AmazonS3' in your configuration.

2022-10-29 03:43:11,592 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2022-10-29 03:43:11,598 INFO org.springframework.boot.StartupInfoLogger [main] Starting DataJpaBooksProjectApplication using Java 17.0.4.1 on DESKTOP-N2KRF5H with PID 9308 (C:\Users\princ\Desktop\projects\data-jpa-books-project\target\classes started by princ in C:\Users\princ\Desktop\projects\data-jpa-books-project)
2022-10-29 03:43:11,598 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.7.5, Spring v5.3.23
2022-10-29 03:43:11,599 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-10-29 03:43:12,454 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-10-29 03:43:12,509 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 48 ms. Found 2 JPA repository interfaces.
2022-10-29 03:43:13,119 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-10-29 03:43:13,128 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-10-29 03:43:13,129 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-10-29 03:43:13,129 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.68]
2022-10-29 03:43:13,246 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-10-29 03:43:13,246 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1604 ms
2022-10-29 03:43:13,541 ERROR org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Skipping filesystem location:\another\migration\directory (not found).
2022-10-29 03:43:13,543 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-10-29 03:43:13,696 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-10-29 03:43:13,705 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Flyway Community Edition 8.0.4 by Redgate
2022-10-29 03:43:13,706 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Database: jdbc:mysql://localhost:3306/book (MySQL 5.5)
2022-10-29 03:43:13,768 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Successfully validated 2 migrations (execution time 00:00.019s)
2022-10-29 03:43:13,777 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Current version of schema `book`: 2
2022-10-29 03:43:13,777 INFO org.flywaydb.core.internal.logging.slf4j.Slf4jLog [main] Schema `book` is up to date. No migration necessary.
2022-10-29 03:43:13,851 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-10-29 03:43:13,896 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.12.Final
2022-10-29 03:43:14,038 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-10-29 03:43:14,132 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-10-29 03:43:14,768 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-10-29 03:43:14,775 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-10-29 03:43:15,386 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-10-29 03:43:15,883 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 14 endpoint(s) beneath base path '/actuator'
2022-10-29 03:43:15,924 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2022-10-29 03:43:15,942 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2022-10-29 03:43:15,958 INFO org.springframework.boot.StartupInfoLogger [main] Started DataJpaBooksProjectApplication in 4.68 seconds (JVM running for 5.559)
2022-10-29 03:43:15,999 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [main] 
    select
        author0_.id as id1_0_,
        author0_.created_by as created_2_0_,
        author0_.created_date as created_3_0_,
        author0_.last_modified_by as last_mod4_0_,
        author0_.last_modified_date as last_mod5_0_,
        author0_.status_code as status_c6_0_,
        author0_.email as email7_0_,
        author0_.image_path as image_pa8_0_,
        author0_.ip_address as ip_addre9_0_,
        author0_.name as name10_0_,
        (select
            count(*) 
        from
            books b 
        where
            b.author_id = author0_.id) as formula1_ 
    from
        authors author0_
2022-10-29 03:43:16,034 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [main] 
    select
        book0_.id as id1_1_0_,
        author1_.id as id1_0_1_,
        book0_.created_by as created_2_1_0_,
        book0_.created_date as created_3_1_0_,
        book0_.last_modified_by as last_mod4_1_0_,
        book0_.last_modified_date as last_mod5_1_0_,
        book0_.status_code as status_c6_1_0_,
        book0_.author_id as author_i9_1_0_,
        book0_.name as name7_1_0_,
        book0_.price as price8_1_0_,
        (select
            count(*) 
        from
            books) as formula2_0_,
        author1_.created_by as created_2_0_1_,
        author1_.created_date as created_3_0_1_,
        author1_.last_modified_by as last_mod4_0_1_,
        author1_.last_modified_date as last_mod5_0_1_,
        author1_.status_code as status_c6_0_1_,
        author1_.email as email7_0_1_,
        author1_.image_path as image_pa8_0_1_,
        author1_.ip_address as ip_addre9_0_1_,
        author1_.name as name10_0_1_,
        (select
            count(*) 
        from
            books b 
        where
            b.author_id = author1_.id) as formula1_1_ 
    from
        books book0_ 
    left outer join
        authors author1_ 
            on book0_.author_id=author1_.id
2022-10-29 03:43:16,748 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(3)-127.0.0.1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-10-29 03:43:16,748 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(3)-127.0.0.1] Initializing Servlet 'dispatcherServlet'
2022-10-29 03:43:16,749 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(3)-127.0.0.1] Completed initialization in 1 ms
2022-10-29 03:43:20,050 INFO com.global.book.service.PriceSchedule [AsynchThread::1] Compute Discount -> 2022-10-29T03:43:20.050995600
2022-10-29 03:43:23,180 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(2)-127.0.0.1] Application shutdown requested.
2022-10-29 03:43:23,198 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(2)-127.0.0.1] Pausing ProtocolHandler ["http-nio-8080"]
2022-10-29 03:43:23,199 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(2)-127.0.0.1] Stopping service [Tomcat]
2022-10-29 03:43:23,200 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(2)-127.0.0.1] Destroying Spring FrameworkServlet 'dispatcherServlet'
2022-10-29 03:43:23,202 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(2)-127.0.0.1] Stopping ProtocolHandler ["http-nio-8080"]
2022-10-29 03:43:23,204 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(2)-127.0.0.1] Destroying ProtocolHandler ["http-nio-8080"]
2022-10-29 03:43:23,207 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [RMI TCP Connection(2)-127.0.0.1] Custom destroy method 'shutdown' on bean with name 'amazonS3' threw an exception: java.lang.UnsupportedOperationException: Extend AbstractAmazonS3 to provide an implementation
2022-10-29 03:43:23,208 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [RMI TCP Connection(2)-127.0.0.1] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-10-29 03:43:23,211 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(2)-127.0.0.1] HikariPool-1 - Shutdown initiated...
2022-10-29 03:43:23,216 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(2)-127.0.0.1] HikariPool-1 - Shutdown completed.
2022-10-29 03:43:25,971 INFO com.global.book.service.PriceSchedule [AsynchThread::4] Compute Discount -> 2022-10-29T03:43:25.971532
2022-10-29 03:43:25,973 ERROR org.springframework.aop.interceptor.SimpleAsyncUncaughtExceptionHandler [AsynchThread::4] Unexpected exception occurred invoking async method: public void com.global.book.service.PriceSchedule.computeDiscount() throws java.lang.InterruptedException
org.springframework.transaction.CannotCreateTransactionException: Could not open JDBC Connection for transaction; nested exception is java.sql.SQLException: HikariDataSource HikariDataSource (HikariPool-1) has been closed.
	at org.springframework.jdbc.datasource.DataSourceTransactionManager.doBegin(DataSourceTransactionManager.java:309)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:137)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.execute(JdbcTemplateStorageAccessor.java:115)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.doUnlock(JdbcTemplateStorageAccessor.java:110)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.unlock(JdbcTemplateStorageAccessor.java:101)
	at net.javacrumbs.shedlock.support.StorageBasedLockProvider$StorageLock.doUnlock(StorageBasedLockProvider.java:104)
	at net.javacrumbs.shedlock.core.AbstractSimpleLock.unlock(AbstractSimpleLock.java:35)
	at net.javacrumbs.shedlock.core.DefaultLockingTaskExecutor.executeWithLock(DefaultLockingTaskExecutor.java:79)
	at net.javacrumbs.shedlock.spring.aop.MethodProxyScheduledLockAdvisor$LockingInterceptor.invoke(MethodProxyScheduledLockAdvisor.java:86)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.sql.SQLException: HikariDataSource HikariDataSource (HikariPool-1) has been closed.
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:96)
	at org.springframework.jdbc.datasource.DataSourceTransactionManager.doBegin(DataSourceTransactionManager.java:265)
	... 17 common frames omitted
